{"ast":null,"code":"/*!\n * froala_editor v2.9.3 (https://www.froala.com/wysiwyg-editor)\n * License https://froala.com/wysiwyg-editor/terms/\n * Copyright 2014-2019 Froala Labs\n */\n!function (n) {\n  \"function\" == typeof define && define.amd ? define([\"jquery\"], n) : \"object\" == typeof module && module.exports ? module.exports = function (e, t) {\n    return t === undefined && (t = \"undefined\" != typeof window ? require(\"jquery\") : require(\"jquery\")(e)), n(t);\n  } : n(window.jQuery);\n}(function (Ee) {\n  var s = function s(e, t) {\n    this.id = ++Ee.FE.ID;\n    var n = {};\n    t && t.documentReady && (n.toolbarButtons = [\"fullscreen\", \"undo\", \"redo\", \"getPDF\", \"print\", \"|\", \"bold\", \"italic\", \"underline\", \"color\", \"clearFormatting\", \"|\", \"alignLeft\", \"alignCenter\", \"alignRight\", \"alignJustify\", \"|\", \"formatOL\", \"formatUL\", \"indent\", \"outdent\", \"-\", \"paragraphFormat\", \"|\", \"fontFamily\", \"|\", \"fontSize\", \"|\", \"insertLink\", \"insertImage\", \"quote\"], n.paragraphFormatSelection = !0, n.fontFamilySelection = !0, n.fontSizeSelection = !0, n.placeholderText = \"\", n.quickInsertEnabled = !1, n.charCounterCount = !1), this.opts = Ee.extend(!0, {}, Ee.extend({}, s.DEFAULTS, n, \"object\" == typeof t && t));\n    var r = JSON.stringify(this.opts);\n    Ee.FE.OPTS_MAPPING[r] = Ee.FE.OPTS_MAPPING[r] || this.id, this.sid = Ee.FE.OPTS_MAPPING[r], Ee.FE.SHARED[this.sid] = Ee.FE.SHARED[this.sid] || {}, this.shared = Ee.FE.SHARED[this.sid], this.shared.count = (this.shared.count || 0) + 1, this.$oel = Ee(e), this.$oel.data(\"froala.editor\", this), this.o_doc = e.ownerDocument, this.o_win = \"defaultView\" in this.o_doc ? this.o_doc.defaultView : this.o_doc.parentWindow;\n    var i = Ee(this.o_win).scrollTop();\n    this.$oel.on(\"froala.doInit\", Ee.proxy(function () {\n      this.$oel.off(\"froala.doInit\"), this.doc = this.$el.get(0).ownerDocument, this.win = \"defaultView\" in this.doc ? this.doc.defaultView : this.doc.parentWindow, this.$doc = Ee(this.doc), this.$win = Ee(this.win), this.opts.pluginsEnabled || (this.opts.pluginsEnabled = Object.keys(Ee.FE.PLUGINS)), this.opts.initOnClick ? (this.load(Ee.FE.MODULES), this.$el.on(\"touchstart.init\", function () {\n        Ee(this).data(\"touched\", !0);\n      }), this.$el.on(\"touchmove.init\", function () {\n        Ee(this).removeData(\"touched\");\n      }), this.$el.on(\"mousedown.init touchend.init dragenter.init focus.init\", Ee.proxy(function (e) {\n        if (\"touchend\" == e.type && !this.$el.data(\"touched\")) return !0;\n\n        if (1 === e.which || !e.which) {\n          this.$el.off(\"mousedown.init touchstart.init touchmove.init touchend.init dragenter.init focus.init\"), this.load(Ee.FE.MODULES), this.load(Ee.FE.PLUGINS);\n          var t = e.originalEvent && e.originalEvent.originalTarget;\n          t && \"IMG\" == t.tagName && Ee(t).trigger(\"mousedown\"), \"undefined\" == typeof this.ul && this.destroy(), \"touchend\" == e.type && this.image && e.originalEvent && e.originalEvent.target && Ee(e.originalEvent.target).is(\"img\") && setTimeout(Ee.proxy(function () {\n            this.image.edit(Ee(e.originalEvent.target));\n          }, this), 100), this.ready = !0, this.events.trigger(\"initialized\");\n        }\n      }, this)), this.events.trigger(\"initializationDelayed\")) : (this.load(Ee.FE.MODULES), this.load(Ee.FE.PLUGINS), Ee(this.o_win).scrollTop(i), \"undefined\" == typeof this.ul && this.destroy(), this.ready = !0, this.events.trigger(\"initialized\"));\n    }, this)), this._init();\n  };\n\n  s.DEFAULTS = {\n    initOnClick: !1,\n    pluginsEnabled: null\n  }, s.MODULES = {}, s.PLUGINS = {}, s.VERSION = \"2.9.3\", s.INSTANCES = [], s.OPTS_MAPPING = {}, s.SHARED = {}, s.ID = 0, s.prototype._init = function () {\n    var e = this.$oel.prop(\"tagName\");\n    this.$oel.closest(\"label\").length;\n    var t = Ee.proxy(function () {\n      \"TEXTAREA\" != e && (this._original_html = this._original_html || this.$oel.html()), this.$box = this.$box || this.$oel, this.opts.fullPage && (this.opts.iframe = !0), this.opts.iframe ? (this.$iframe = Ee('<iframe src=\"about:blank\" frameBorder=\"0\">'), this.$wp = Ee(\"<div></div>\"), this.$box.html(this.$wp), this.$wp.append(this.$iframe), this.$iframe.get(0).contentWindow.document.open(), this.$iframe.get(0).contentWindow.document.write(\"<!DOCTYPE html>\"), this.$iframe.get(0).contentWindow.document.write(\"<html><head></head><body></body></html>\"), this.$iframe.get(0).contentWindow.document.close(), this.$el = this.$iframe.contents().find(\"body\"), this.el = this.$el.get(0), this.$head = this.$iframe.contents().find(\"head\"), this.$html = this.$iframe.contents().find(\"html\"), this.iframe_document = this.$iframe.get(0).contentWindow.document) : (this.$el = Ee(\"<div></div>\"), this.el = this.$el.get(0), this.$wp = Ee(\"<div></div>\").append(this.$el), this.$box.html(this.$wp)), this.$oel.trigger(\"froala.doInit\");\n    }, this),\n        n = Ee.proxy(function () {\n      this.$box = Ee(\"<div>\"), this.$oel.before(this.$box).hide(), this._original_html = this.$oel.val(), this.$oel.parents(\"form\").on(\"submit.\" + this.id, Ee.proxy(function () {\n        this.events.trigger(\"form.submit\");\n      }, this)), this.$oel.parents(\"form\").on(\"reset.\" + this.id, Ee.proxy(function () {\n        this.events.trigger(\"form.reset\");\n      }, this)), t();\n    }, this),\n        r = Ee.proxy(function () {\n      this.$el = this.$oel, this.el = this.$el.get(0), this.$el.attr(\"contenteditable\", !0).css(\"outline\", \"none\").css(\"display\", \"inline-block\"), this.opts.multiLine = !1, this.opts.toolbarInline = !1, this.$oel.trigger(\"froala.doInit\");\n    }, this),\n        i = Ee.proxy(function () {\n      this.$el = this.$oel, this.el = this.$el.get(0), this.opts.toolbarInline = !1, this.$oel.trigger(\"froala.doInit\");\n    }, this),\n        a = Ee.proxy(function () {\n      this.$el = this.$oel, this.el = this.$el.get(0), this.opts.toolbarInline = !1, this.$oel.on(\"click.popup\", function (e) {\n        e.preventDefault();\n      }), this.$oel.trigger(\"froala.doInit\");\n    }, this);\n    this.opts.editInPopup ? a() : \"TEXTAREA\" == e ? n() : \"A\" == e ? r() : \"IMG\" == e ? i() : \"BUTTON\" == e || \"INPUT\" == e ? (this.opts.editInPopup = !0, this.opts.toolbarInline = !1, a()) : t();\n  }, s.prototype.load = function (e) {\n    for (var t in e) {\n      if (e.hasOwnProperty(t)) {\n        if (this[t]) continue;\n        if (Ee.FE.PLUGINS[t] && this.opts.pluginsEnabled.indexOf(t) < 0) continue;\n        if (this[t] = new e[t](this), this[t]._init && (this[t]._init(), this.opts.initOnClick && \"core\" == t)) return !1;\n      }\n    }\n  }, s.prototype.destroy = function () {\n    this.destroying = !0, this.shared.count--, this.events.$off();\n    var e = this.html.get();\n\n    if (this.opts.iframe && (this.events.disableBlur(), this.win.focus(), this.events.enableBlur()), this.events.trigger(\"destroy\", [], !0), this.events.trigger(\"shared.destroy\", undefined, !0), 0 === this.shared.count) {\n      for (var t in this.shared) {\n        this.shared.hasOwnProperty(t) && (this.shared[t], Ee.FE.SHARED[this.sid][t] = null);\n      }\n\n      delete Ee.FE.SHARED[this.sid];\n    }\n\n    this.$oel.parents(\"form\").off(\".\" + this.id), this.$oel.off(\"click.popup\"), this.$oel.removeData(\"froala.editor\"), this.$oel.off(\"froalaEditor\"), this.core.destroy(e), Ee.FE.INSTANCES.splice(Ee.FE.INSTANCES.indexOf(this), 1);\n  }, Ee.fn.froalaEditor = function (i) {\n    for (var a = [], e = 0; e < arguments.length; e++) {\n      a.push(arguments[e]);\n    }\n\n    if (\"string\" == typeof i) {\n      var o = [];\n      return this.each(function () {\n        var e = Ee(this).data(\"froala.editor\");\n\n        if (e) {\n          var t, n;\n          if (0 < i.indexOf(\".\") && e[i.split(\".\")[0]] ? (e[i.split(\".\")[0]] && (t = e[i.split(\".\")[0]]), n = i.split(\".\")[1]) : (t = e, n = i.split(\".\")[0]), !t[n]) return Ee.error(\"Method \" + i + \" does not exist in Froala Editor.\");\n          var r = t[n].apply(e, a.slice(1));\n          r === undefined ? o.push(this) : 0 === o.length && o.push(r);\n        }\n      }), 1 == o.length ? o[0] : o;\n    }\n\n    if (\"object\" == typeof i || !i) return this.each(function () {\n      if (!Ee(this).data(\"froala.editor\")) {\n        new s(this, i);\n      }\n    });\n  }, Ee.fn.froalaEditor.Constructor = s, Ee.FroalaEditor = s, Ee.FE = s, Ee.FE.XS = 0, Ee.FE.SM = 1, Ee.FE.MD = 2, Ee.FE.LG = 3;\n  Ee.FE.LinkRegExCommon = \"[a-z\\\\u0080-\\\\u009f\\\\u00a1-\\\\uffff0-9-_.]{1,}\", Ee.FE.LinkRegExEnd = \"((:[0-9]{1,5})|)(((\\\\/|\\\\?|#)[a-z\\\\u00a1-\\\\uffff0-9@?\\\\|!^=%&amp;/~+#-\\\\'*-_{}]*)|())\", Ee.FE.LinkRegExTLD = \"((\" + Ee.FE.LinkRegExCommon + \")(\\\\.(com|net|org|edu|mil|gov|co|biz|info|me|dev)))\", Ee.FE.LinkRegExHTTP = \"((ftp|http|https):\\\\/\\\\/\" + Ee.FE.LinkRegExCommon + \")\", Ee.FE.LinkRegExAuth = \"((ftp|http|https):\\\\/\\\\/[\\\\u0021-\\\\uffff]{1,}@\" + Ee.FE.LinkRegExCommon + \")\", Ee.FE.LinkRegExWWW = \"(www\\\\.\" + Ee.FE.LinkRegExCommon + \"\\\\.[a-z0-9-]{2,24})\", Ee.FE.LinkRegEx = \"(\" + Ee.FE.LinkRegExTLD + \"|\" + Ee.FE.LinkRegExHTTP + \"|\" + Ee.FE.LinkRegExWWW + \"|\" + Ee.FE.LinkRegExAuth + \")\" + Ee.FE.LinkRegExEnd, Ee.FE.LinkProtocols = [\"mailto\", \"tel\", \"sms\", \"notes\", \"data\"], Ee.FE.MAIL_REGEX = /.+@.+\\..+/i, Ee.FE.MODULES.helpers = function (a) {\n    function e() {\n      var e,\n          t,\n          n = {},\n          r = (t = -1, \"Microsoft Internet Explorer\" == navigator.appName ? (e = navigator.userAgent, null !== new RegExp(\"MSIE ([0-9]{1,}[\\\\.0-9]{0,})\").exec(e) && (t = parseFloat(RegExp.$1))) : \"Netscape\" == navigator.appName && (e = navigator.userAgent, null !== new RegExp(\"Trident/.*rv:([0-9]{1,}[\\\\.0-9]{0,})\").exec(e) && (t = parseFloat(RegExp.$1))), t);\n      if (0 < r) n.msie = !0;else {\n        var i = navigator.userAgent.toLowerCase(),\n            a = /(edge)[ \\/]([\\w.]+)/.exec(i) || /(chrome)[ \\/]([\\w.]+)/.exec(i) || /(webkit)[ \\/]([\\w.]+)/.exec(i) || /(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec(i) || /(msie) ([\\w.]+)/.exec(i) || i.indexOf(\"compatible\") < 0 && /(mozilla)(?:.*? rv:([\\w.]+)|)/.exec(i) || [],\n            o = a[1] || \"\";\n        a[2];\n        a[1] && (n[o] = !0), n.chrome ? n.webkit = !0 : n.webkit && (n.safari = !0);\n      }\n      return n.msie && (n.version = r), n;\n    }\n\n    function t() {\n      return /(iPad|iPhone|iPod)/g.test(navigator.userAgent) && !i();\n    }\n\n    function n() {\n      return /(Android)/g.test(navigator.userAgent) && !i();\n    }\n\n    function r() {\n      return /(Blackberry)/g.test(navigator.userAgent);\n    }\n\n    function i() {\n      return /(Windows Phone)/gi.test(navigator.userAgent);\n    }\n\n    function o(e) {\n      return parseInt(e, 10) || 0;\n    }\n\n    var s;\n    var l = null;\n    return {\n      _init: function _init() {\n        a.browser = e(), function () {\n          function e(e, t) {\n            var a = e[t];\n\n            e[t] = function (e) {\n              var t,\n                  n = !1,\n                  r = !1;\n\n              if (e && e.match(s)) {\n                e = e.replace(s, \"\"), this.parentNode || (o.appendChild(this), r = !0);\n                var i = this.parentNode;\n                return this.id || (this.id = \"rootedQuerySelector_id_\" + new Date().getTime(), n = !0), t = a.call(i, \"#\" + this.id + \" \" + e), n && (this.id = \"\"), r && o.removeChild(this), t;\n              }\n\n              return a.call(this, e);\n            };\n          }\n\n          var o = a.o_doc.createElement(\"div\");\n\n          try {\n            o.querySelectorAll(\":scope *\");\n          } catch (t) {\n            var s = /^\\s*:scope/gi;\n            e(Element.prototype, \"querySelector\"), e(Element.prototype, \"querySelectorAll\"), e(HTMLElement.prototype, \"querySelector\"), e(HTMLElement.prototype, \"querySelectorAll\");\n          }\n        }(), Element.prototype.matches || (Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector), Element.prototype.closest || (Element.prototype.closest = function (e) {\n          var t = this;\n          if (!t) return null;\n          if (!document.documentElement.contains(this)) return null;\n\n          do {\n            if (t.matches(e)) return t;\n            t = t.parentElement;\n          } while (null !== t);\n\n          return null;\n        });\n      },\n      isIOS: t,\n      isMac: function isMac() {\n        return null == l && (l = 0 <= navigator.platform.toUpperCase().indexOf(\"MAC\")), l;\n      },\n      isAndroid: n,\n      isBlackberry: r,\n      isWindowsPhone: i,\n      isMobile: function isMobile() {\n        return n() || t() || r();\n      },\n      isEmail: function isEmail(e) {\n        return !/^(https?:|ftps?:|)\\/\\//i.test(e) && Ee.FE.MAIL_REGEX.test(e);\n      },\n      requestAnimationFrame: function requestAnimationFrame() {\n        return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function (e) {\n          window.setTimeout(e, 1e3 / 60);\n        };\n      },\n      getPX: o,\n      screenSize: function screenSize() {\n        var e = Ee('<div class=\"fr-visibility-helper\"></div>').appendTo(\"body:first\");\n\n        try {\n          var t = o(e.css(\"margin-left\"));\n          return e.remove(), t;\n        } catch (n) {\n          return Ee.FE.LG;\n        }\n      },\n      isTouch: function isTouch() {\n        return \"ontouchstart\" in window || window.DocumentTouch && document instanceof DocumentTouch;\n      },\n      sanitizeURL: function sanitizeURL(e) {\n        return /^(https?:|ftps?:|)\\/\\//i.test(e) ? e : /^([A-Za-z]:(\\\\){1,2}|[A-Za-z]:((\\\\){1,2}[^\\\\]+)+)(\\\\)?$/i.test(e) ? e : new RegExp(\"^(\" + Ee.FE.LinkProtocols.join(\"|\") + \"):\\\\/\\\\/\", \"i\").test(e) ? e : e = encodeURIComponent(e).replace(/%23/g, \"#\").replace(/%2F/g, \"/\").replace(/%25/g, \"%\").replace(/mailto%3A/gi, \"mailto:\").replace(/file%3A/gi, \"file:\").replace(/sms%3A/gi, \"sms:\").replace(/tel%3A/gi, \"tel:\").replace(/notes%3A/gi, \"notes:\").replace(/data%3Aimage/gi, \"data:image\").replace(/blob%3A/gi, \"blob:\").replace(/%3A(\\d)/gi, \":$1\").replace(/webkit-fake-url%3A/gi, \"webkit-fake-url:\").replace(/%3F/g, \"?\").replace(/%3D/g, \"=\").replace(/%26/g, \"&\").replace(/&amp;/g, \"&\").replace(/%2C/g, \",\").replace(/%3B/g, \";\").replace(/%2B/g, \"+\").replace(/%40/g, \"@\").replace(/%5B/g, \"[\").replace(/%5D/g, \"]\").replace(/%7B/g, \"{\").replace(/%7D/g, \"}\");\n      },\n      isArray: function isArray(e) {\n        return e && !e.propertyIsEnumerable(\"length\") && \"object\" == typeof e && \"number\" == typeof e.length;\n      },\n      RGBToHex: function RGBToHex(e) {\n        function t(e) {\n          return (\"0\" + parseInt(e, 10).toString(16)).slice(-2);\n        }\n\n        try {\n          return e && \"transparent\" !== e ? /^#[0-9A-F]{6}$/i.test(e) ? e : (\"#\" + t((e = e.match(/^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)$/))[1]) + t(e[2]) + t(e[3])).toUpperCase() : \"\";\n        } catch (n) {\n          return null;\n        }\n      },\n      HEXtoRGB: function HEXtoRGB(e) {\n        e = e.replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i, function (e, t, n, r) {\n          return t + t + n + n + r + r;\n        });\n        var t = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(e);\n        return t ? \"rgb(\" + parseInt(t[1], 16) + \", \" + parseInt(t[2], 16) + \", \" + parseInt(t[3], 16) + \")\" : \"\";\n      },\n      isURL: function isURL(e) {\n        return !!/^(https?:|ftps?:|)\\/\\//i.test(e) && (e = String(e).replace(/</g, \"%3C\").replace(/>/g, \"%3E\").replace(/\"/g, \"%22\").replace(/ /g, \"%20\"), new RegExp(\"^\" + Ee.FE.LinkRegExHTTP + Ee.FE.LinkRegExEnd + \"$\", \"gi\").test(e));\n      },\n      getAlignment: function getAlignment(e) {\n        var t = (e.css(\"text-align\") || \"\").replace(/-(.*)-/g, \"\");\n\n        if ([\"left\", \"right\", \"justify\", \"center\"].indexOf(t) < 0) {\n          if (!s) {\n            var n = Ee('<div dir=\"' + (\"rtl\" == a.opts.direction ? \"rtl\" : \"auto\") + '\" style=\"text-align: ' + a.$el.css(\"text-align\") + '; position: fixed; left: -3000px;\"><span id=\"s1\">.</span><span id=\"s2\">.</span></div>');\n            Ee(\"body:first\").append(n);\n            var r = n.find(\"#s1\").get(0).getBoundingClientRect().left,\n                i = n.find(\"#s2\").get(0).getBoundingClientRect().left;\n            n.remove(), s = r < i ? \"left\" : \"right\";\n          }\n\n          t = s;\n        }\n\n        return t;\n      },\n      scrollTop: function scrollTop() {\n        return a.o_win.pageYOffset ? a.o_win.pageYOffset : a.o_doc.documentElement && a.o_doc.documentElement.scrollTop ? a.o_doc.documentElement.scrollTop : a.o_doc.body.scrollTop ? a.o_doc.body.scrollTop : 0;\n      },\n      scrollLeft: function scrollLeft() {\n        return a.o_win.pageXOffset ? a.o_win.pageXOffset : a.o_doc.documentElement && a.o_doc.documentElement.scrollLeft ? a.o_doc.documentElement.scrollLeft : a.o_doc.body.scrollLeft ? a.o_doc.body.scrollLeft : 0;\n      },\n      isInViewPort: function isInViewPort(e) {\n        var t = e.getBoundingClientRect();\n        return 0 <= (t = {\n          top: Math.round(t.top),\n          bottom: Math.round(t.bottom)\n        }).top && t.bottom <= (window.innerHeight || document.documentElement.clientHeight) || t.top <= 0 && t.bottom >= (window.innerHeight || document.documentElement.clientHeight);\n      }\n    };\n  }, Ee.FE.MODULES.events = function (l) {\n    var e,\n        o = {};\n\n    function t(e, t, n) {\n      f(e, t, n);\n    }\n\n    function n(e) {\n      if (void 0 === e && (e = !0), !l.$wp) return !1;\n\n      if (l.helpers.isIOS()) {\n        l.$win.get(0).focus();\n        var t = 0 === l.$win.scrollTop() ? 1 : l.$win.scrollTop();\n        window.scrollTo(0, t);\n      }\n\n      if (l.core.hasFocus()) return !1;\n\n      if (!l.core.hasFocus() && e) {\n        var n = l.$win.scrollTop();\n        if (l.browser.msie && l.$box && l.$box.css(\"position\", \"fixed\"), l.browser.msie && l.$wp && l.$wp.css(\"overflow\", \"visible\"), l.browser.msie && l.$sc && l.$sc.css(\"position\", \"fixed\"), s(), l.$el.focus(), l.events.trigger(\"focus\"), a(), l.browser.msie && l.$sc && l.$sc.css(\"position\", \"\"), l.browser.msie && l.$box && l.$box.css(\"position\", \"\"), l.browser.msie && l.$wp && l.$wp.css(\"overflow\", \"auto\"), n != l.$win.scrollTop() && l.$win.scrollTop(n), !l.selection.info(l.el).atStart) return !1;\n      }\n\n      if (!l.core.hasFocus() || 0 < l.$el.find(\".fr-marker\").length) return !1;\n\n      if (l.selection.info(l.el).atStart && l.selection.isCollapsed() && null != l.html.defaultTag()) {\n        var r = l.markers.insert();\n\n        if (r && !l.node.blockParent(r)) {\n          Ee(r).remove();\n          var i = l.$el.find(l.html.blockTagsQuery()).get(0);\n          i && (Ee(i).prepend(Ee.FE.MARKERS), l.selection.restore());\n        } else r && Ee(r).remove();\n      }\n    }\n\n    var r = !1;\n\n    function a() {\n      e = !0;\n    }\n\n    function s() {\n      e = !1;\n    }\n\n    function i() {\n      return e;\n    }\n\n    function d(e, t, n) {\n      var r,\n          i = e.split(\" \");\n\n      if (1 < i.length) {\n        for (var a = 0; a < i.length; a++) {\n          d(i[a], t, n);\n        }\n\n        return !0;\n      }\n\n      void 0 === n && (n = !1), r = 0 !== e.indexOf(\"shared.\") ? o[e] = o[e] || [] : l.shared._events[e] = l.shared._events[e] || [], n ? r.unshift(t) : r.push(t);\n    }\n\n    var c = [];\n\n    function f(e, t, n, r, i) {\n      \"function\" == typeof n && (i = r, r = n, n = !1);\n      var a,\n          o = i ? l.shared.$_events : c,\n          s = i ? l.sid : l.id;\n      a = r, r = function r() {\n        l.destroying || a.apply(this, arguments);\n      }, n ? e.on(t.split(\" \").join(\".ed\" + s + \" \") + \".ed\" + s, n, r) : e.on(t.split(\" \").join(\".ed\" + s + \" \") + \".ed\" + s, r), o.push([e, t.split(\" \").join(\".ed\" + s + \" \") + \".ed\" + s]);\n    }\n\n    function p(e) {\n      for (var t = 0; t < e.length; t++) {\n        e[t][0].off(e[t][1]);\n      }\n    }\n\n    function u(e, t, n) {\n      if (!l.edit.isDisabled() || n) {\n        var r, i;\n        if (0 !== e.indexOf(\"shared.\")) r = o[e];else {\n          if (0 < l.shared.count) return !1;\n          r = l.shared._events[e];\n        }\n        if (r) for (var a = 0; a < r.length; a++) {\n          if (!1 === (i = r[a].apply(l, t))) return !1;\n        }\n        return !1 !== (i = l.$oel.triggerHandler(\"froalaEditor.\" + e, Ee.merge([l], t || []))) && i;\n      }\n    }\n\n    function h() {\n      for (var e in o) {\n        o.hasOwnProperty(e) && delete o[e];\n      }\n    }\n\n    function g() {\n      for (var e in l.shared._events) {\n        l.shared._events.hasOwnProperty(e) && delete l.shared._events[e];\n      }\n    }\n\n    return {\n      _init: function _init() {\n        l.shared.$_events = l.shared.$_events || [], l.shared._events = {}, l.helpers.isMobile() ? (l._mousedown = \"touchstart\", l._mouseup = \"touchend\", l._move = \"touchmove\", l._mousemove = \"touchmove\") : (l._mousedown = \"mousedown\", l._mouseup = \"mouseup\", l._move = \"\", l._mousemove = \"mousemove\"), t(l.$el, \"click mouseup mousedown touchstart touchend dragenter dragover dragleave dragend drop dragstart\", function (e) {\n          u(e.type, [e]);\n        }), d(\"mousedown\", function () {\n          for (var e = 0; e < Ee.FE.INSTANCES.length; e++) {\n            Ee.FE.INSTANCES[e] != l && Ee.FE.INSTANCES[e].popups && Ee.FE.INSTANCES[e].popups.areVisible() && Ee.FE.INSTANCES[e].$el.find(\".fr-marker\").remove();\n          }\n        }), t(l.$win, l._mousedown, function (e) {\n          u(\"window.mousedown\", [e]), a();\n        }), t(l.$win, l._mouseup, function (e) {\n          u(\"window.mouseup\", [e]);\n        }), t(l.$win, \"cut copy keydown keyup touchmove touchend\", function (e) {\n          u(\"window.\" + e.type, [e]);\n        }), t(l.$doc, \"dragend drop\", function (e) {\n          u(\"document.\" + e.type, [e]);\n        }), t(l.$el, \"keydown keypress keyup input\", function (e) {\n          u(e.type, [e]);\n        }), t(l.$el, \"focus\", function (e) {\n          i() && (n(!1), !1 === r && u(e.type, [e]));\n        }), t(l.$el, \"blur\", function (e) {\n          i() && !0 === r && (u(e.type, [e]), a());\n        }), f(l.$el, \"mousedown\", '[contenteditable=\"true\"]', function () {\n          s(), l.$el.blur();\n        }), d(\"focus\", function () {\n          r = !0;\n        }), d(\"blur\", function () {\n          r = !1;\n        }), a(), t(l.$el, \"cut copy paste beforepaste\", function (e) {\n          u(e.type, [e]);\n        }), d(\"destroy\", h), d(\"shared.destroy\", g);\n      },\n      on: d,\n      trigger: u,\n      bindClick: function bindClick(e, t, n) {\n        f(e, l._mousedown, t, function (e) {\n          var t, n;\n          l.edit.isDisabled() || (n = Ee((t = e).currentTarget), l.edit.isDisabled() || l.node.hasClass(n.get(0), \"fr-disabled\") ? t.preventDefault() : \"mousedown\" === t.type && 1 !== t.which || (l.helpers.isMobile() || t.preventDefault(), (l.helpers.isAndroid() || l.helpers.isWindowsPhone()) && 0 === n.parents(\".fr-dropdown-menu\").length && (t.preventDefault(), t.stopPropagation()), n.addClass(\"fr-selected\"), l.events.trigger(\"commands.mousedown\", [n])));\n        }, !0), f(e, l._mouseup + \" \" + l._move, t, function (e) {\n          l.edit.isDisabled() || function (e, t) {\n            var n = Ee(e.currentTarget);\n            if (l.edit.isDisabled() || l.node.hasClass(n.get(0), \"fr-disabled\")) return e.preventDefault();\n            if ((\"mouseup\" !== e.type || 1 === e.which) && l.node.hasClass(n.get(0), \"fr-selected\")) if (\"touchmove\" != e.type) {\n              if (e.stopPropagation(), e.stopImmediatePropagation(), e.preventDefault(), !l.node.hasClass(n.get(0), \"fr-selected\")) return l.button.getButtons(\".fr-selected\", !0).removeClass(\"fr-selected\");\n              if (l.button.getButtons(\".fr-selected\", !0).removeClass(\"fr-selected\"), n.data(\"dragging\") || n.attr(\"disabled\")) return n.removeData(\"dragging\");\n              var r = n.data(\"timeout\");\n              r && (clearTimeout(r), n.removeData(\"timeout\")), t.apply(l, [e]);\n            } else n.data(\"timeout\") || n.data(\"timeout\", setTimeout(function () {\n              n.data(\"dragging\", !0);\n            }, 100));\n          }(e, n);\n        }, !0), f(e, \"mousedown click mouseup\", t, function (e) {\n          l.edit.isDisabled() || e.stopPropagation();\n        }, !0), d(\"window.mouseup\", function () {\n          l.edit.isDisabled() || (e.find(t).removeClass(\"fr-selected\"), a());\n        }), f(e, \"mouseenter\", t, function () {\n          Ee(this).hasClass(\"fr-options\") && Ee(this).prev(\".fr-btn\").addClass(\"fr-btn-hover\"), Ee(this).next(\".fr-btn\").hasClass(\"fr-options\") && Ee(this).next(\".fr-btn\").addClass(\"fr-btn-hover\");\n        }), f(e, \"mouseleave\", t, function () {\n          Ee(this).hasClass(\"fr-options\") && Ee(this).prev(\".fr-btn\").removeClass(\"fr-btn-hover\"), Ee(this).next(\".fr-btn\").hasClass(\"fr-options\") && Ee(this).next(\".fr-btn\").removeClass(\"fr-btn-hover\");\n        });\n      },\n      disableBlur: s,\n      enableBlur: a,\n      blurActive: i,\n      focus: n,\n      chainTrigger: function chainTrigger(e, t, n) {\n        if (!l.edit.isDisabled() || n) {\n          var r, i;\n          if (0 !== e.indexOf(\"shared.\")) r = o[e];else {\n            if (0 < l.shared.count) return !1;\n            r = l.shared._events[e];\n          }\n          if (r) for (var a = 0; a < r.length; a++) {\n            void 0 !== (i = r[a].apply(l, [t])) && (t = i);\n          }\n          return void 0 !== (i = l.$oel.triggerHandler(\"froalaEditor.\" + e, Ee.merge([l], [t]))) && (t = i), t;\n        }\n      },\n      $on: f,\n      $off: function $off() {\n        p(c), c = [], 0 === l.shared.count && (p(l.shared.$_events), l.shared.$_events = []);\n      }\n    };\n  }, Ee.FE.MODULES.node = function (o) {\n    function s(e) {\n      return e && \"IFRAME\" != e.tagName ? Array.prototype.slice.call(e.childNodes || []) : [];\n    }\n\n    function l(e) {\n      return !!e && e.nodeType == Node.ELEMENT_NODE && 0 <= Ee.FE.BLOCK_TAGS.indexOf(e.tagName.toLowerCase());\n    }\n\n    function d(e) {\n      var t = {},\n          n = e.attributes;\n      if (n) for (var r = 0; r < n.length; r++) {\n        var i = n[r];\n        t[i.nodeName] = i.value;\n      }\n      return t;\n    }\n\n    function t(e) {\n      for (var t = \"\", n = d(e), r = Object.keys(n).sort(), i = 0; i < r.length; i++) {\n        var a = r[i],\n            o = n[a];\n        o.indexOf(\"'\") < 0 && 0 <= o.indexOf('\"') ? t += \" \" + a + \"='\" + o + \"'\" : 0 <= o.indexOf('\"') && 0 <= o.indexOf(\"'\") ? t += \" \" + a + '=\"' + (o = o.replace(/\"/g, \"&quot;\")) + '\"' : t += \" \" + a + '=\"' + o + '\"';\n      }\n\n      return t;\n    }\n\n    function n(e) {\n      return e === o.el;\n    }\n\n    return {\n      isBlock: l,\n      isEmpty: function isEmpty(e, t) {\n        if (!e) return !0;\n        if (e.querySelector(\"table\")) return !1;\n        var n = s(e);\n        1 == n.length && l(n[0]) && (n = s(n[0]));\n\n        for (var r = !1, i = 0; i < n.length; i++) {\n          var a = n[i];\n\n          if (!(t && o.node.hasClass(a, \"fr-marker\") || a.nodeType == Node.TEXT_NODE && 0 === a.textContent.length)) {\n            if (\"BR\" != a.tagName && 0 < (a.textContent || \"\").replace(/\\u200B/gi, \"\").replace(/\\n/g, \"\").length) return !1;\n            if (r) return !1;\n            \"BR\" == a.tagName && (r = !0);\n          }\n        }\n\n        return !(e.querySelectorAll(Ee.FE.VOID_ELEMENTS.join(\",\")).length - e.querySelectorAll(\"br\").length || e.querySelector(o.opts.htmlAllowedEmptyTags.join(\":not(.fr-marker),\") + \":not(.fr-marker)\") || 1 < e.querySelectorAll(Ee.FE.BLOCK_TAGS.join(\",\")).length || e.querySelector(o.opts.htmlDoNotWrapTags.join(\":not(.fr-marker),\") + \":not(.fr-marker)\"));\n      },\n      blockParent: function blockParent(e) {\n        for (; e && e.parentNode !== o.el && (!e.parentNode || !o.node.hasClass(e.parentNode, \"fr-inner\"));) {\n          if (l(e = e.parentNode)) return e;\n        }\n\n        return null;\n      },\n      deepestParent: function deepestParent(e, t, n) {\n        if (void 0 === t && (t = []), void 0 === n && (n = !0), t.push(o.el), 0 <= t.indexOf(e.parentNode) || e.parentNode && o.node.hasClass(e.parentNode, \"fr-inner\") || e.parentNode && 0 <= Ee.FE.SIMPLE_ENTER_TAGS.indexOf(e.parentNode.tagName) && n) return null;\n\n        for (; t.indexOf(e.parentNode) < 0 && e.parentNode && !o.node.hasClass(e.parentNode, \"fr-inner\") && (Ee.FE.SIMPLE_ENTER_TAGS.indexOf(e.parentNode.tagName) < 0 || !n) && (!l(e) || !l(e.parentNode) || !n);) {\n          e = e.parentNode;\n        }\n\n        return e;\n      },\n      rawAttributes: d,\n      attributes: t,\n      clearAttributes: function clearAttributes(e) {\n        for (var t = e.attributes, n = t.length - 1; 0 <= n; n--) {\n          var r = t[n];\n          e.removeAttribute(r.nodeName);\n        }\n      },\n      openTagString: function openTagString(e) {\n        return \"<\" + e.tagName.toLowerCase() + t(e) + \">\";\n      },\n      closeTagString: function closeTagString(e) {\n        return \"</\" + e.tagName.toLowerCase() + \">\";\n      },\n      isFirstSibling: function e(t, n) {\n        void 0 === n && (n = !0);\n\n        for (var r = t.previousSibling; r && n && o.node.hasClass(r, \"fr-marker\");) {\n          r = r.previousSibling;\n        }\n\n        return !r || r.nodeType == Node.TEXT_NODE && \"\" === r.textContent && e(r);\n      },\n      isLastSibling: function e(t, n) {\n        void 0 === n && (n = !0);\n\n        for (var r = t.nextSibling; r && n && o.node.hasClass(r, \"fr-marker\");) {\n          r = r.nextSibling;\n        }\n\n        return !r || r.nodeType == Node.TEXT_NODE && \"\" === r.textContent && e(r);\n      },\n      isList: function isList(e) {\n        return !!e && 0 <= [\"UL\", \"OL\"].indexOf(e.tagName);\n      },\n      isLink: function isLink(e) {\n        return !!e && e.nodeType == Node.ELEMENT_NODE && \"a\" == e.tagName.toLowerCase();\n      },\n      isElement: n,\n      contents: s,\n      isVoid: function isVoid(e) {\n        return e && e.nodeType == Node.ELEMENT_NODE && 0 <= Ee.FE.VOID_ELEMENTS.indexOf((e.tagName || \"\").toLowerCase());\n      },\n      hasFocus: function hasFocus(e) {\n        return e === o.doc.activeElement && (!o.doc.hasFocus || o.doc.hasFocus()) && !!(n(e) || e.type || e.href || ~e.tabIndex);\n      },\n      isEditable: function isEditable(e) {\n        return (!e.getAttribute || \"false\" != e.getAttribute(\"contenteditable\")) && [\"STYLE\", \"SCRIPT\"].indexOf(e.tagName) < 0;\n      },\n      isDeletable: function isDeletable(e) {\n        return e && e.nodeType == Node.ELEMENT_NODE && e.getAttribute(\"class\") && 0 <= (e.getAttribute(\"class\") || \"\").indexOf(\"fr-deletable\");\n      },\n      hasClass: function hasClass(e, t) {\n        return e instanceof Ee && (e = e.get(0)), e && e.classList && e.classList.contains(t);\n      },\n      filter: function filter(e) {\n        return o.browser.msie ? e : {\n          acceptNode: e\n        };\n      }\n    };\n  }, Ee.FE.INVISIBLE_SPACE = \"&#8203;\", Ee.FE.START_MARKER = '<span class=\"fr-marker\" data-id=\"0\" data-type=\"true\" style=\"display: none; line-height: 0;\">' + Ee.FE.INVISIBLE_SPACE + \"</span>\", Ee.FE.END_MARKER = '<span class=\"fr-marker\" data-id=\"0\" data-type=\"false\" style=\"display: none; line-height: 0;\">' + Ee.FE.INVISIBLE_SPACE + \"</span>\", Ee.FE.MARKERS = Ee.FE.START_MARKER + Ee.FE.END_MARKER, Ee.FE.MODULES.markers = function (d) {\n    function l() {\n      if (!d.$wp) return null;\n\n      try {\n        var e = d.selection.ranges(0),\n            t = e.commonAncestorContainer;\n        if (d.core.isEmpty()) return d.selection.setAtStart(d.el), d.$el.find(\".fr-marker:first\").replaceWith('<span class=\"fr-single-marker\" style=\"display: none; line-height: 0;\">' + Ee.FE.INVISIBLE_SPACE + \"</span>\"), d.$el.find(\".fr-marker\").remove(), d.$el.find(\".fr-single-marker\").removeClass(\"fr-single-marker\").addClass(\"fr-marker\").get(0);\n        if (t != d.el && 0 === d.$el.find(t).length) return null;\n        var n = e.cloneRange(),\n            r = e.cloneRange();\n        n.collapse(!0);\n        var i = Ee('<span class=\"fr-marker\" style=\"display: none; line-height: 0;\">' + Ee.FE.INVISIBLE_SPACE + \"</span>\", d.doc)[0];\n\n        if (n.insertNode(i), i = d.$el.find(\"span.fr-marker\").get(0)) {\n          for (var a = i.nextSibling; a && a.nodeType === Node.TEXT_NODE && 0 === a.textContent.length;) {\n            Ee(a).remove(), a = d.$el.find(\"span.fr-marker\").get(0).nextSibling;\n          }\n\n          return d.selection.clear(), d.selection.get().addRange(r), i;\n        }\n\n        return null;\n      } catch (o) {}\n    }\n\n    function c() {\n      d.$el.find(\".fr-marker\").remove();\n    }\n\n    return {\n      place: function place(e, t, n) {\n        var r, i, a;\n\n        try {\n          var o = e.cloneRange();\n          if (o.collapse(t), o.insertNode(Ee('<span class=\"fr-marker\" data-id=\"' + n + '\" data-type=\"' + t + '\" style=\"display: ' + (d.browser.safari ? \"none\" : \"inline-block\") + '; line-height: 0;\">' + Ee.FE.INVISIBLE_SPACE + \"</span>\", d.doc)[0]), !0 === t) for (a = (r = d.$el.find('span.fr-marker[data-type=\"true\"][data-id=\"' + n + '\"]').get(0)).nextSibling; a && a.nodeType === Node.TEXT_NODE && 0 === a.textContent.length;) {\n            Ee(a).remove(), a = r.nextSibling;\n          }\n\n          if (!0 === t && !e.collapsed) {\n            for (; !d.node.isElement(r.parentNode) && !a;) {\n              Ee(r.parentNode).after(r), a = r.nextSibling;\n            }\n\n            if (a && a.nodeType === Node.ELEMENT_NODE && d.node.isBlock(a) && \"HR\" !== a.tagName) {\n              for (i = [a]; a = i[0], (i = d.node.contents(a))[0] && d.node.isBlock(i[0]);) {\n                ;\n              }\n\n              Ee(a).prepend(Ee(r));\n            }\n          }\n\n          if (!1 === t && !e.collapsed) {\n            if ((a = (r = d.$el.find('span.fr-marker[data-type=\"false\"][data-id=\"' + n + '\"]').get(0)).previousSibling) && a.nodeType === Node.ELEMENT_NODE && d.node.isBlock(a) && \"HR\" !== a.tagName) {\n              for (i = [a]; a = i[i.length - 1], (i = d.node.contents(a))[i.length - 1] && d.node.isBlock(i[i.length - 1]);) {\n                ;\n              }\n\n              Ee(a).append(Ee(r));\n            }\n\n            r.parentNode && 0 <= [\"TD\", \"TH\"].indexOf(r.parentNode.tagName) && r.parentNode.previousSibling && !r.previousSibling && Ee(r.parentNode.previousSibling).append(r);\n          }\n\n          var s = d.$el.find('span.fr-marker[data-type=\"' + t + '\"][data-id=\"' + n + '\"]').get(0);\n          return s && (s.style.display = \"none\"), s;\n        } catch (l) {\n          return null;\n        }\n      },\n      insert: l,\n      split: function split() {\n        d.selection.isCollapsed() || d.selection.remove();\n        var e = d.$el.find(\".fr-marker\").get(0);\n        if (null == e && (e = l()), null == e) return null;\n        var t = d.node.deepestParent(e);\n        if (t || (t = d.node.blockParent(e)) && \"LI\" != t.tagName && (t = null), t) if (d.node.isBlock(t) && d.node.isEmpty(t)) \"LI\" != t.tagName || t.parentNode.firstElementChild != t || d.node.isEmpty(t.parentNode) ? Ee(t).replaceWith('<span class=\"fr-marker\"></span>') : Ee(t).append('<span class=\"fr-marker\"></span>');else if (d.cursor.isAtStart(e, t)) Ee(t).before('<span class=\"fr-marker\"></span>'), Ee(e).remove();else if (d.cursor.isAtEnd(e, t)) Ee(t).after('<span class=\"fr-marker\"></span>'), Ee(e).remove();else {\n          for (var n = e, r = \"\", i = \"\"; n = n.parentNode, r += d.node.closeTagString(n), i = d.node.openTagString(n) + i, n != t;) {\n            ;\n          }\n\n          Ee(e).replaceWith('<span id=\"fr-break\"></span>');\n          var a = d.node.openTagString(t) + Ee(t).html() + d.node.closeTagString(t);\n          a = a.replace(/<span id=\"fr-break\"><\\/span>/g, r + '<span class=\"fr-marker\"></span>' + i), Ee(t).replaceWith(a);\n        }\n        return d.$el.find(\".fr-marker\").get(0);\n      },\n      insertAtPoint: function insertAtPoint(e) {\n        var t,\n            n = e.clientX,\n            r = e.clientY;\n        c();\n        var i = null;\n\n        if (\"undefined\" != typeof d.doc.caretPositionFromPoint ? (t = d.doc.caretPositionFromPoint(n, r), (i = d.doc.createRange()).setStart(t.offsetNode, t.offset), i.setEnd(t.offsetNode, t.offset)) : \"undefined\" != typeof d.doc.caretRangeFromPoint && (t = d.doc.caretRangeFromPoint(n, r), (i = d.doc.createRange()).setStart(t.startContainer, t.startOffset), i.setEnd(t.startContainer, t.startOffset)), null !== i && \"undefined\" != typeof d.win.getSelection) {\n          var a = d.win.getSelection();\n          a.removeAllRanges(), a.addRange(i);\n        } else if (\"undefined\" != typeof d.doc.body.createTextRange) try {\n          (i = d.doc.body.createTextRange()).moveToPoint(n, r);\n          var o = i.duplicate();\n          o.moveToPoint(n, r), i.setEndPoint(\"EndToEnd\", o), i.select();\n        } catch (s) {\n          return !1;\n        }\n\n        l();\n      },\n      remove: c\n    };\n  }, Ee.FE.MODULES.selection = function (T) {\n    function s() {\n      var e = \"\";\n      return T.win.getSelection ? e = T.win.getSelection() : T.doc.getSelection ? e = T.doc.getSelection() : T.doc.selection && (e = T.doc.selection.createRange().text), e.toString();\n    }\n\n    function A() {\n      return T.win.getSelection ? T.win.getSelection() : T.doc.getSelection ? T.doc.getSelection() : T.doc.selection.createRange();\n    }\n\n    function c(e) {\n      var t = A(),\n          n = [];\n\n      if (t && t.getRangeAt && t.rangeCount) {\n        n = [];\n\n        for (var r = 0; r < t.rangeCount; r++) {\n          n.push(t.getRangeAt(r));\n        }\n      } else n = T.doc.createRange ? [T.doc.createRange()] : [];\n\n      return void 0 !== e ? n[e] : n;\n    }\n\n    function C() {\n      var e = A();\n\n      try {\n        e.removeAllRanges ? e.removeAllRanges() : e.empty ? e.empty() : e.clear && e.clear();\n      } catch (t) {}\n    }\n\n    function f(e, t) {\n      var n = e;\n      return n.nodeType == Node.ELEMENT_NODE && 0 < n.childNodes.length && n.childNodes[t] && (n = n.childNodes[t]), n.nodeType == Node.TEXT_NODE && (n = n.parentNode), n;\n    }\n\n    function S() {\n      if (T.$wp) {\n        T.markers.remove();\n        var e,\n            t,\n            n = c(),\n            r = [];\n\n        for (t = 0; t < n.length; t++) {\n          if (n[t].startContainer !== T.doc || T.browser.msie) {\n            var i = (e = n[t]).collapsed,\n                a = T.markers.place(e, !0, t),\n                o = T.markers.place(e, !1, t);\n            if (void 0 !== a && a || !i || (Ee(\".fr-marker\").remove(), T.selection.setAtEnd(T.el)), T.el.normalize(), T.browser.safari && !i) try {\n              (e = T.doc.createRange()).setStartAfter(a), e.setEndBefore(o), r.push(e);\n            } catch (s) {}\n          }\n        }\n\n        if (T.browser.safari && r.length) for (T.selection.clear(), t = 0; t < r.length; t++) {\n          T.selection.get().addRange(r[t]);\n        }\n      }\n    }\n\n    function R() {\n      var e,\n          t = T.el.querySelectorAll('.fr-marker[data-type=\"true\"]');\n      if (!T.$wp) return T.markers.remove(), !1;\n      if (0 === t.length) return !1;\n      if (T.browser.msie || T.browser.edge) for (e = 0; e < t.length; e++) {\n        t[e].style.display = \"inline-block\";\n      }\n      T.core.hasFocus() || T.browser.msie || T.browser.webkit || T.$el.focus(), C();\n      var n = A();\n\n      for (e = 0; e < t.length; e++) {\n        var r = Ee(t[e]).data(\"id\"),\n            i = t[e],\n            a = T.doc.createRange(),\n            o = T.$el.find('.fr-marker[data-type=\"false\"][data-id=\"' + r + '\"]');\n        (T.browser.msie || T.browser.edge) && o.css(\"display\", \"inline-block\");\n        var s = null;\n\n        if (0 < o.length) {\n          o = o[0];\n\n          try {\n            for (var l, d = !1, c = i.nextSibling; c && c.nodeType == Node.TEXT_NODE && 0 === c.textContent.length;) {\n              c = (l = c).nextSibling, Ee(l).remove();\n            }\n\n            for (var f, p, u = o.nextSibling; u && u.nodeType == Node.TEXT_NODE && 0 === u.textContent.length;) {\n              u = (l = u).nextSibling, Ee(l).remove();\n            }\n\n            if (i.nextSibling == o || o.nextSibling == i) {\n              for (var h = i.nextSibling == o ? i : o, g = h == i ? o : i, m = h.previousSibling; m && m.nodeType == Node.TEXT_NODE && 0 === m.length;) {\n                m = (l = m).previousSibling, Ee(l).remove();\n              }\n\n              if (m && m.nodeType == Node.TEXT_NODE) for (; m && m.previousSibling && m.previousSibling.nodeType == Node.TEXT_NODE;) {\n                m.previousSibling.textContent = m.previousSibling.textContent + m.textContent, m = m.previousSibling, Ee(m.nextSibling).remove();\n              }\n\n              for (var v = g.nextSibling; v && v.nodeType == Node.TEXT_NODE && 0 === v.length;) {\n                v = (l = v).nextSibling, Ee(l).remove();\n              }\n\n              if (v && v.nodeType == Node.TEXT_NODE) for (; v && v.nextSibling && v.nextSibling.nodeType == Node.TEXT_NODE;) {\n                v.nextSibling.textContent = v.textContent + v.nextSibling.textContent, v = v.nextSibling, Ee(v.previousSibling).remove();\n              }\n\n              if (m && (T.node.isVoid(m) || T.node.isBlock(m)) && (m = null), v && (T.node.isVoid(v) || T.node.isBlock(v)) && (v = null), m && v && m.nodeType == Node.TEXT_NODE && v.nodeType == Node.TEXT_NODE) {\n                Ee(i).remove(), Ee(o).remove();\n                var E = m.textContent.length;\n                m.textContent = m.textContent + v.textContent, Ee(v).remove(), T.opts.htmlUntouched || T.spaces.normalize(m), a.setStart(m, E), a.setEnd(m, E), d = !0;\n              } else !m && v && v.nodeType == Node.TEXT_NODE ? (Ee(i).remove(), Ee(o).remove(), T.opts.htmlUntouched || T.spaces.normalize(v), s = Ee(T.doc.createTextNode(\"\\u200B\")), Ee(v).before(s), a.setStart(v, 0), a.setEnd(v, 0), d = !0) : !v && m && m.nodeType == Node.TEXT_NODE && (Ee(i).remove(), Ee(o).remove(), T.opts.htmlUntouched || T.spaces.normalize(m), s = Ee(T.doc.createTextNode(\"\\u200B\")), Ee(m).after(s), a.setStart(m, m.textContent.length), a.setEnd(m, m.textContent.length), d = !0);\n            }\n\n            if (!d) (T.browser.chrome || T.browser.edge) && i.nextSibling == o ? (f = y(o, a, !0) || a.setStartAfter(o), p = y(i, a, !1) || a.setEndBefore(i)) : (i.previousSibling == o && (o = (i = o).nextSibling), o.nextSibling && \"BR\" === o.nextSibling.tagName || !o.nextSibling && T.node.isBlock(i.previousSibling) || i.previousSibling && \"BR\" == i.previousSibling.tagName || (i.style.display = \"inline\", o.style.display = \"inline\", s = Ee(T.doc.createTextNode(\"\\u200B\"))), f = y(i, a, !0) || Ee(i).before(s) && a.setStartBefore(i), p = y(o, a, !1) || Ee(o).after(s) && a.setEndAfter(o)), \"function\" == typeof f && f(), \"function\" == typeof p && p();\n          } catch (b) {}\n        }\n\n        s && s.remove();\n\n        try {\n          n.addRange(a);\n        } catch (b) {}\n      }\n\n      T.markers.remove();\n    }\n\n    function y(e, t, n) {\n      var r,\n          i = e.previousSibling,\n          a = e.nextSibling;\n      return i && a && i.nodeType == Node.TEXT_NODE && a.nodeType == Node.TEXT_NODE ? (r = i.textContent.length, n ? (a.textContent = i.textContent + a.textContent, Ee(i).remove(), Ee(e).remove(), T.opts.htmlUntouched || T.spaces.normalize(a), function () {\n        t.setStart(a, r);\n      }) : (i.textContent = i.textContent + a.textContent, Ee(a).remove(), Ee(e).remove(), T.opts.htmlUntouched || T.spaces.normalize(i), function () {\n        t.setEnd(i, r);\n      })) : i && !a && i.nodeType == Node.TEXT_NODE ? (r = i.textContent.length, n ? (T.opts.htmlUntouched || T.spaces.normalize(i), function () {\n        t.setStart(i, r);\n      }) : (T.opts.htmlUntouched || T.spaces.normalize(i), function () {\n        t.setEnd(i, r);\n      })) : !(!a || i || a.nodeType != Node.TEXT_NODE) && (n ? (T.opts.htmlUntouched || T.spaces.normalize(a), function () {\n        t.setStart(a, 0);\n      }) : (T.opts.htmlUntouched || T.spaces.normalize(a), function () {\n        t.setEnd(a, 0);\n      }));\n    }\n\n    function _() {\n      for (var e = c(), t = 0; t < e.length; t++) {\n        if (!e[t].collapsed) return !1;\n      }\n\n      return !0;\n    }\n\n    function i(e) {\n      var t,\n          n,\n          r = !1,\n          i = !1;\n\n      if (T.win.getSelection) {\n        var a = T.win.getSelection();\n        a.rangeCount && ((n = (t = a.getRangeAt(0)).cloneRange()).selectNodeContents(e), n.setEnd(t.startContainer, t.startOffset), r = \"\" === n.toString(), n.selectNodeContents(e), n.setStart(t.endContainer, t.endOffset), i = \"\" === n.toString());\n      } else T.doc.selection && \"Control\" != T.doc.selection.type && ((n = (t = T.doc.selection.createRange()).duplicate()).moveToElementText(e), n.setEndPoint(\"EndToStart\", t), r = \"\" === n.text, n.moveToElementText(e), n.setEndPoint(\"StartToEnd\", t), i = \"\" === n.text);\n\n      return {\n        atStart: r,\n        atEnd: i\n      };\n    }\n\n    function L(e, t) {\n      void 0 === t && (t = !0);\n      var n = Ee(e).html();\n      n && n.replace(/\\u200b/g, \"\").length != n.length && Ee(e).html(n.replace(/\\u200b/g, \"\"));\n\n      for (var r = T.node.contents(e), i = 0; i < r.length; i++) {\n        r[i].nodeType != Node.ELEMENT_NODE ? Ee(r[i]).remove() : (L(r[i], 0 === i), 0 === i && (t = !1));\n      }\n\n      e.nodeType == Node.TEXT_NODE ? Ee(e).replaceWith('<span data-first=\"true\" data-text=\"true\"></span>') : t && Ee(e).attr(\"data-first\", !0);\n    }\n\n    function x() {\n      return 0 === Ee(this).find(\"fr-inner\").length;\n    }\n\n    function p() {\n      try {\n        if (!T.$wp) return !1;\n\n        for (var e = c(0).commonAncestorContainer; e && !T.node.isElement(e);) {\n          e = e.parentNode;\n        }\n\n        return !!T.node.isElement(e);\n      } catch (t) {\n        return !1;\n      }\n    }\n\n    function r(e, t) {\n      if (!e || 0 < e.getElementsByClassName(\"fr-marker\").length) return !1;\n\n      for (var n = e.firstChild; n && (T.node.isBlock(n) || t && !T.node.isVoid(n) && n.nodeType == Node.ELEMENT_NODE);) {\n        n = (e = n).firstChild;\n      }\n\n      e.innerHTML = Ee.FE.MARKERS + e.innerHTML;\n    }\n\n    function a(e, t) {\n      if (!e || 0 < e.getElementsByClassName(\"fr-marker\").length) return !1;\n\n      for (var n = e.lastChild; n && (T.node.isBlock(n) || t && !T.node.isVoid(n) && n.nodeType == Node.ELEMENT_NODE);) {\n        n = (e = n).lastChild;\n      }\n\n      var r = T.doc.createElement(\"SPAN\");\n\n      for (r.setAttribute(\"id\", \"fr-sel-markers\"), r.innerHTML = Ee.FE.MARKERS; e.parentNode && T.opts.htmlAllowedEmptyTags && 0 <= T.opts.htmlAllowedEmptyTags.indexOf(e.tagName.toLowerCase());) {\n        e = e.parentNode;\n      }\n\n      e.appendChild(r);\n      var i = e.querySelector(\"#fr-sel-markers\");\n      i.outerHTML = i.innerHTML;\n    }\n\n    return {\n      text: s,\n      get: A,\n      ranges: c,\n      clear: C,\n      element: function element() {\n        var e = A();\n\n        try {\n          if (e.rangeCount) {\n            var t,\n                n = c(0),\n                r = n.startContainer;\n            if (T.node.isElement(r) && 0 === n.startOffset && r.childNodes.length) for (; r.childNodes.length && r.childNodes[0].nodeType === Node.ELEMENT_NODE;) {\n              r = r.childNodes[0];\n            }\n\n            if (r.nodeType == Node.TEXT_NODE && n.startOffset == (r.textContent || \"\").length && r.nextSibling && (r = r.nextSibling), r.nodeType == Node.ELEMENT_NODE) {\n              var i = !1;\n\n              if (0 < r.childNodes.length && r.childNodes[n.startOffset]) {\n                for (t = r.childNodes[n.startOffset]; t && t.nodeType == Node.TEXT_NODE && 0 === t.textContent.length;) {\n                  t = t.nextSibling;\n                }\n\n                if (t && t.textContent.replace(/\\u200B/g, \"\") === s().replace(/\\u200B/g, \"\") && (r = t, i = !0), !i && 1 < r.childNodes.length && 0 < n.startOffset && r.childNodes[n.startOffset - 1]) {\n                  for (t = r.childNodes[n.startOffset - 1]; t && t.nodeType == Node.TEXT_NODE && 0 === t.textContent.length;) {\n                    t = t.nextSibling;\n                  }\n\n                  t && t.textContent.replace(/\\u200B/g, \"\") === s().replace(/\\u200B/g, \"\") && (r = t, i = !0);\n                }\n              } else !n.collapsed && r.nextSibling && r.nextSibling.nodeType == Node.ELEMENT_NODE && (t = r.nextSibling) && t.textContent.replace(/\\u200B/g, \"\") === s().replace(/\\u200B/g, \"\") && (r = t, i = !0);\n\n              !i && 0 < r.childNodes.length && Ee(r.childNodes[0]).text().replace(/\\u200B/g, \"\") === s().replace(/\\u200B/g, \"\") && [\"BR\", \"IMG\", \"HR\"].indexOf(r.childNodes[0].tagName) < 0 && (r = r.childNodes[0]);\n            }\n\n            for (; r.nodeType != Node.ELEMENT_NODE && r.parentNode;) {\n              r = r.parentNode;\n            }\n\n            for (var a = r; a && \"HTML\" != a.tagName;) {\n              if (a == T.el) return r;\n              a = Ee(a).parent()[0];\n            }\n          }\n        } catch (o) {}\n\n        return T.el;\n      },\n      endElement: function endElement() {\n        var e = A();\n\n        try {\n          if (e.rangeCount) {\n            var t,\n                n = c(0),\n                r = n.endContainer;\n\n            if (r.nodeType == Node.ELEMENT_NODE) {\n              var i = !1;\n              0 < r.childNodes.length && r.childNodes[n.endOffset] && Ee(r.childNodes[n.endOffset]).text() === s() ? (r = r.childNodes[n.endOffset], i = !0) : !n.collapsed && r.previousSibling && r.previousSibling.nodeType == Node.ELEMENT_NODE ? (t = r.previousSibling) && t.textContent.replace(/\\u200B/g, \"\") === s().replace(/\\u200B/g, \"\") && (r = t, i = !0) : !n.collapsed && 0 < r.childNodes.length && r.childNodes[n.endOffset] && (t = r.childNodes[n.endOffset].previousSibling).nodeType == Node.ELEMENT_NODE && t && t.textContent.replace(/\\u200B/g, \"\") === s().replace(/\\u200B/g, \"\") && (r = t, i = !0), !i && 0 < r.childNodes.length && Ee(r.childNodes[r.childNodes.length - 1]).text() === s() && [\"BR\", \"IMG\", \"HR\"].indexOf(r.childNodes[r.childNodes.length - 1].tagName) < 0 && (r = r.childNodes[r.childNodes.length - 1]);\n            }\n\n            for (r.nodeType == Node.TEXT_NODE && 0 === n.endOffset && r.previousSibling && r.previousSibling.nodeType == Node.ELEMENT_NODE && (r = r.previousSibling); r.nodeType != Node.ELEMENT_NODE && r.parentNode;) {\n              r = r.parentNode;\n            }\n\n            for (var a = r; a && \"HTML\" != a.tagName;) {\n              if (a == T.el) return r;\n              a = Ee(a).parent()[0];\n            }\n          }\n        } catch (o) {}\n\n        return T.el;\n      },\n      save: S,\n      restore: R,\n      isCollapsed: _,\n      isFull: function isFull() {\n        if (_()) return !1;\n        T.selection.save();\n        var e,\n            t = T.el.querySelectorAll(\"td, th, img, br\");\n\n        for (e = 0; e < t.length; e++) {\n          t[e].nextSibling && (t[e].innerHTML = '<span class=\"fr-mk\">' + Ee.FE.INVISIBLE_SPACE + \"</span>\" + t[e].innerHTML);\n        }\n\n        var n = !1,\n            r = i(T.el);\n\n        for (r.atStart && r.atEnd && (n = !0), t = T.el.querySelectorAll(\".fr-mk\"), e = 0; e < t.length; e++) {\n          t[e].parentNode.removeChild(t[e]);\n        }\n\n        return T.selection.restore(), n;\n      },\n      inEditor: p,\n      remove: function remove() {\n        if (_()) return !0;\n        var t;\n        S();\n\n        var n = function n(e) {\n          for (var t = e.previousSibling; t && t.nodeType == Node.TEXT_NODE && 0 === t.textContent.length;) {\n            var n = t;\n            t = t.previousSibling, Ee(n).remove();\n          }\n\n          return t;\n        },\n            r = function r(e) {\n          for (var t = e.nextSibling; t && t.nodeType == Node.TEXT_NODE && 0 === t.textContent.length;) {\n            var n = t;\n            t = t.nextSibling, Ee(n).remove();\n          }\n\n          return t;\n        },\n            i = T.$el.find('.fr-marker[data-type=\"true\"]');\n\n        for (t = 0; t < i.length; t++) {\n          for (var a = i[t]; !(n(a) || T.node.isBlock(a.parentNode) || T.$el.is(a.parentNode) || T.node.hasClass(a.parentNode, \"fr-inner\"));) {\n            Ee(a.parentNode).before(a);\n          }\n        }\n\n        var o = T.$el.find('.fr-marker[data-type=\"false\"]');\n\n        for (t = 0; t < o.length; t++) {\n          for (var s = o[t]; !(r(s) || T.node.isBlock(s.parentNode) || T.$el.is(s.parentNode) || T.node.hasClass(s.parentNode, \"fr-inner\"));) {\n            Ee(s.parentNode).after(s);\n          }\n\n          s.parentNode && T.node.isBlock(s.parentNode) && T.node.isEmpty(s.parentNode) && !T.$el.is(s.parentNode) && !T.node.hasClass(s.parentNode, \"fr-inner\") && T.opts.keepFormatOnDelete && Ee(s.parentNode).after(s);\n        }\n\n        if (function () {\n          for (var e = T.$el.find(\".fr-marker\"), t = 0; t < e.length; t++) {\n            if (Ee(e[t]).parentsUntil('.fr-element, [contenteditable=\"true\"]', '[contenteditable=\"false\"]').length) return !1;\n          }\n\n          return !0;\n        }()) {\n          !function e(t, n) {\n            var r = T.node.contents(t.get(0));\n            0 <= [\"TD\", \"TH\"].indexOf(t.get(0).tagName) && 1 == t.find(\".fr-marker\").length && T.node.hasClass(r[0], \"fr-marker\") && t.attr(\"data-del-cell\", !0);\n\n            for (var i = 0; i < r.length; i++) {\n              var a = r[i];\n              T.node.hasClass(a, \"fr-marker\") ? n = (n + 1) % 2 : n ? 0 < Ee(a).find(\".fr-marker\").length ? n = e(Ee(a), n) : [\"TD\", \"TH\"].indexOf(a.tagName) < 0 && !T.node.hasClass(a, \"fr-inner\") ? !T.opts.keepFormatOnDelete || 0 < T.$el.find(\"[data-first]\").length || T.node.isVoid(a) ? Ee(a).remove() : L(a) : T.node.hasClass(a, \"fr-inner\") ? 0 === Ee(a).find(\".fr-inner\").length ? Ee(a).html(\"<br>\") : Ee(a).find(\".fr-inner\").filter(x).html(\"<br>\") : (Ee(a).empty(), Ee(a).attr(\"data-del-cell\", !0)) : 0 < Ee(a).find(\".fr-marker\").length && (n = e(Ee(a), n));\n            }\n\n            return n;\n          }(T.$el, 0);\n          var l = T.$el.find('[data-first=\"true\"]');\n          if (l.length) T.$el.find(\".fr-marker\").remove(), l.append(Ee.FE.INVISIBLE_SPACE + Ee.FE.MARKERS).removeAttr(\"data-first\"), l.attr(\"data-text\") && l.replaceWith(l.html());else for (T.$el.find(\"table\").filter(function () {\n            return 0 < Ee(this).find(\"[data-del-cell]\").length && Ee(this).find(\"[data-del-cell]\").length == Ee(this).find(\"td, th\").length;\n          }).remove(), T.$el.find(\"[data-del-cell]\").removeAttr(\"data-del-cell\"), i = T.$el.find('.fr-marker[data-type=\"true\"]'), t = 0; t < i.length; t++) {\n            var d = i[t],\n                c = d.nextSibling,\n                f = T.$el.find('.fr-marker[data-type=\"false\"][data-id=\"' + Ee(d).data(\"id\") + '\"]').get(0);\n\n            if (f) {\n              if (d && (!c || c != f)) {\n                var p = T.node.blockParent(d),\n                    u = T.node.blockParent(f),\n                    h = !1,\n                    g = !1;\n                if (p && 0 <= [\"UL\", \"OL\"].indexOf(p.tagName) && (h = !(p = null)), u && 0 <= [\"UL\", \"OL\"].indexOf(u.tagName) && (g = !(u = null)), Ee(d).after(f), p != u) if (null != p || h) {\n                  if (null != u || g || 0 !== Ee(p).parentsUntil(T.$el, \"table\").length) p && u && 0 === Ee(p).parentsUntil(T.$el, \"table\").length && 0 === Ee(u).parentsUntil(T.$el, \"table\").length && 0 === Ee(p).find(u).length && 0 === Ee(u).find(p).length && (Ee(p).append(Ee(u).html()), Ee(u).remove());else {\n                    for (c = p; !c.nextSibling && c.parentNode != T.el;) {\n                      c = c.parentNode;\n                    }\n\n                    for (c = c.nextSibling; c && \"BR\" != c.tagName;) {\n                      var m = c.nextSibling;\n                      Ee(p).append(c), c = m;\n                    }\n\n                    c && \"BR\" == c.tagName && Ee(c).remove();\n                  }\n                } else {\n                  var v = T.node.deepestParent(d);\n                  v ? (Ee(v).after(Ee(u).html()), Ee(u).remove()) : 0 === Ee(u).parentsUntil(T.$el, \"table\").length && (Ee(d).next().after(Ee(u).html()), Ee(u).remove());\n                }\n              }\n            } else f = Ee(d).clone().attr(\"data-type\", !1), Ee(d).after(f);\n          }\n        }\n\n        T.$el.find(\"li:empty\").remove(), T.opts.keepFormatOnDelete || T.html.fillEmptyBlocks(), T.html.cleanEmptyTags(!0), T.opts.htmlUntouched || (T.clean.lists(), T.$el.find(\"li:empty\").append(\"<br>\"), T.spaces.normalize());\n        var E = T.$el.find(\".fr-marker:last\").get(0),\n            b = T.$el.find(\".fr-marker:first\").get(0);\n        void 0 !== E && void 0 !== b && !E.nextSibling && b.previousSibling && \"BR\" == b.previousSibling.tagName && T.node.isElement(E.parentNode) && T.node.isElement(b.parentNode) && T.$el.append(\"<br>\"), R();\n      },\n      blocks: function blocks() {\n        var e,\n            t = [],\n            n = A();\n\n        if (p() && n.rangeCount) {\n          var r = c();\n\n          for (e = 0; e < r.length; e++) {\n            var i,\n                a = r[e],\n                o = f(a.startContainer, a.startOffset),\n                s = f(a.endContainer, a.endOffset);\n            (T.node.isBlock(o) || T.node.hasClass(o, \"fr-inner\")) && t.indexOf(o) < 0 && t.push(o), (i = T.node.blockParent(o)) && t.indexOf(i) < 0 && t.push(i);\n\n            for (var l = [], d = o; d !== s && d !== T.el;) {\n              l.indexOf(d) < 0 && d.children && d.children.length ? (l.push(d), d = d.children[0]) : d.nextSibling ? d = d.nextSibling : d.parentNode && (d = d.parentNode, l.push(d)), T.node.isBlock(d) && l.indexOf(d) < 0 && t.indexOf(d) < 0 && (d !== s || 0 < a.endOffset) && t.push(d);\n            }\n\n            T.node.isBlock(s) && t.indexOf(s) < 0 && 0 < a.endOffset && t.push(s), (i = T.node.blockParent(s)) && t.indexOf(i) < 0 && t.push(i);\n          }\n        }\n\n        for (e = t.length - 1; 0 < e; e--) {\n          Ee(t[e]).find(t).length && t.splice(e, 1);\n        }\n\n        return t;\n      },\n      info: i,\n      setAtEnd: a,\n      setAtStart: r,\n      setBefore: function setBefore(e, t) {\n        void 0 === t && (t = !0);\n\n        for (var n = e.previousSibling; n && n.nodeType == Node.TEXT_NODE && 0 === n.textContent.length;) {\n          n = n.previousSibling;\n        }\n\n        return n ? (T.node.isBlock(n) ? a(n) : \"BR\" == n.tagName ? Ee(n).before(Ee.FE.MARKERS) : Ee(n).after(Ee.FE.MARKERS), !0) : !!t && (T.node.isBlock(e) ? r(e) : Ee(e).before(Ee.FE.MARKERS), !0);\n      },\n      setAfter: function setAfter(e, t) {\n        void 0 === t && (t = !0);\n\n        for (var n = e.nextSibling; n && n.nodeType == Node.TEXT_NODE && 0 === n.textContent.length;) {\n          n = n.nextSibling;\n        }\n\n        return n ? (T.node.isBlock(n) ? r(n) : Ee(n).before(Ee.FE.MARKERS), !0) : !!t && (T.node.isBlock(e) ? a(e) : Ee(e).after(Ee.FE.MARKERS), !0);\n      },\n      rangeElement: f\n    };\n  }, Ee.extend(Ee.FE.DEFAULTS, {\n    htmlAllowedTags: [\"a\", \"abbr\", \"address\", \"area\", \"article\", \"aside\", \"audio\", \"b\", \"base\", \"bdi\", \"bdo\", \"blockquote\", \"br\", \"button\", \"canvas\", \"caption\", \"cite\", \"code\", \"col\", \"colgroup\", \"datalist\", \"dd\", \"del\", \"details\", \"dfn\", \"dialog\", \"div\", \"dl\", \"dt\", \"em\", \"embed\", \"fieldset\", \"figcaption\", \"figure\", \"footer\", \"form\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"header\", \"hgroup\", \"hr\", \"i\", \"iframe\", \"img\", \"input\", \"ins\", \"kbd\", \"keygen\", \"label\", \"legend\", \"li\", \"link\", \"main\", \"map\", \"mark\", \"menu\", \"menuitem\", \"meter\", \"nav\", \"noscript\", \"object\", \"ol\", \"optgroup\", \"option\", \"output\", \"p\", \"param\", \"pre\", \"progress\", \"queue\", \"rp\", \"rt\", \"ruby\", \"s\", \"samp\", \"script\", \"style\", \"section\", \"select\", \"small\", \"source\", \"span\", \"strike\", \"strong\", \"sub\", \"summary\", \"sup\", \"table\", \"tbody\", \"td\", \"textarea\", \"tfoot\", \"th\", \"thead\", \"time\", \"tr\", \"track\", \"u\", \"ul\", \"var\", \"video\", \"wbr\"],\n    htmlRemoveTags: [\"script\", \"style\"],\n    htmlAllowedAttrs: [\"accept\", \"accept-charset\", \"accesskey\", \"action\", \"align\", \"allowfullscreen\", \"allowtransparency\", \"alt\", \"aria-.*\", \"async\", \"autocomplete\", \"autofocus\", \"autoplay\", \"autosave\", \"background\", \"bgcolor\", \"border\", \"charset\", \"cellpadding\", \"cellspacing\", \"checked\", \"cite\", \"class\", \"color\", \"cols\", \"colspan\", \"content\", \"contenteditable\", \"contextmenu\", \"controls\", \"coords\", \"data\", \"data-.*\", \"datetime\", \"default\", \"defer\", \"dir\", \"dirname\", \"disabled\", \"download\", \"draggable\", \"dropzone\", \"enctype\", \"for\", \"form\", \"formaction\", \"frameborder\", \"headers\", \"height\", \"hidden\", \"high\", \"href\", \"hreflang\", \"http-equiv\", \"icon\", \"id\", \"ismap\", \"itemprop\", \"keytype\", \"kind\", \"label\", \"lang\", \"language\", \"list\", \"loop\", \"low\", \"max\", \"maxlength\", \"media\", \"method\", \"min\", \"mozallowfullscreen\", \"multiple\", \"muted\", \"name\", \"novalidate\", \"open\", \"optimum\", \"pattern\", \"ping\", \"placeholder\", \"playsinline\", \"poster\", \"preload\", \"pubdate\", \"radiogroup\", \"readonly\", \"rel\", \"required\", \"reversed\", \"rows\", \"rowspan\", \"sandbox\", \"scope\", \"scoped\", \"scrolling\", \"seamless\", \"selected\", \"shape\", \"size\", \"sizes\", \"span\", \"src\", \"srcdoc\", \"srclang\", \"srcset\", \"start\", \"step\", \"summary\", \"spellcheck\", \"style\", \"tabindex\", \"target\", \"title\", \"type\", \"translate\", \"usemap\", \"value\", \"valign\", \"webkitallowfullscreen\", \"width\", \"wrap\"],\n    htmlAllowedStyleProps: [\".*\"],\n    htmlAllowComments: !0,\n    htmlUntouched: !1,\n    fullPage: !1\n  }), Ee.FE.HTML5Map = {\n    B: \"STRONG\",\n    I: \"EM\",\n    STRIKE: \"S\"\n  }, Ee.FE.MODULES.clean = function (f) {\n    var p, u, h, g;\n\n    function i(e) {\n      if (e.nodeType == Node.ELEMENT_NODE && e.getAttribute(\"class\") && 0 <= e.getAttribute(\"class\").indexOf(\"fr-marker\")) return !1;\n      var t,\n          n = f.node.contents(e),\n          r = [];\n\n      for (t = 0; t < n.length; t++) {\n        n[t].nodeType != Node.ELEMENT_NODE || f.node.isVoid(n[t]) ? n[t].nodeType == Node.TEXT_NODE && (n[t].textContent = n[t].textContent.replace(/\\u200b/g, \"\")) : n[t].textContent.replace(/\\u200b/g, \"\").length != n[t].textContent.length && i(n[t]);\n      }\n\n      if (e.nodeType == Node.ELEMENT_NODE && !f.node.isVoid(e) && (e.normalize(), n = f.node.contents(e), r = e.querySelectorAll(\".fr-marker\"), n.length - r.length == 0)) {\n        for (t = 0; t < n.length; t++) {\n          if (n[t].nodeType == Node.ELEMENT_NODE && (n[t].getAttribute(\"class\") || \"\").indexOf(\"fr-marker\") < 0) return !1;\n        }\n\n        for (t = 0; t < r.length; t++) {\n          e.parentNode.insertBefore(r[t].cloneNode(!0), e);\n        }\n\n        return e.parentNode.removeChild(e), !1;\n      }\n    }\n\n    function s(e, t) {\n      if (e.nodeType == Node.COMMENT_NODE) return \"\\x3c!--\" + e.nodeValue + \"--\\x3e\";\n      if (e.nodeType == Node.TEXT_NODE) return t ? e.textContent.replace(/\\&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\") : e.textContent.replace(/\\&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\\u00A0/g, \"&nbsp;\").replace(/\\u0009/g, \"\");\n      if (e.nodeType != Node.ELEMENT_NODE) return e.outerHTML;\n      if (e.nodeType == Node.ELEMENT_NODE && 0 <= [\"STYLE\", \"SCRIPT\", \"NOSCRIPT\"].indexOf(e.tagName)) return e.outerHTML;\n\n      if (e.nodeType == Node.ELEMENT_NODE && \"svg\" == e.tagName) {\n        var n = document.createElement(\"div\"),\n            r = e.cloneNode(!0);\n        return n.appendChild(r), n.innerHTML;\n      }\n\n      if (\"IFRAME\" == e.tagName) return e.outerHTML.replace(/\\&lt;/g, \"<\").replace(/\\&gt;/g, \">\");\n      var i = e.childNodes;\n      if (0 === i.length) return e.outerHTML;\n\n      for (var a = \"\", o = 0; o < i.length; o++) {\n        \"PRE\" == e.tagName && (t = !0), a += s(i[o], t);\n      }\n\n      return f.node.openTagString(e) + a + f.node.closeTagString(e);\n    }\n\n    var o = [];\n\n    function m(e) {\n      var t = e.replace(/;;/gi, \";\");\n      return \";\" != (t = t.replace(/^;/gi, \"\")).charAt(t.length) && (t += \";\"), t;\n    }\n\n    function l(e) {\n      var t;\n\n      for (t in e) {\n        if (e.hasOwnProperty(t)) {\n          var n = t.match(h),\n              r = null;\n          \"style\" == t && f.opts.htmlAllowedStyleProps.length && (r = e[t].match(g)), n && r ? e[t] = m(r.join(\";\")) : n && (\"style\" != t || r) || delete e[t];\n        }\n      }\n\n      for (var i = \"\", a = Object.keys(e).sort(), o = 0; o < a.length; o++) {\n        e[t = a[o]].indexOf('\"') < 0 ? i += \" \" + t + '=\"' + e[t] + '\"' : i += \" \" + t + \"='\" + e[t] + \"'\";\n      }\n\n      return i;\n    }\n\n    function d(e, t) {\n      var n,\n          r = document.implementation.createHTMLDocument(\"Froala DOC\").createElement(\"DIV\");\n      Ee(r).append(e);\n      var i = \"\";\n\n      if (r) {\n        var a = f.node.contents(r);\n\n        for (n = 0; n < a.length; n++) {\n          t(a[n]);\n        }\n\n        for (a = f.node.contents(r), n = 0; n < a.length; n++) {\n          i += s(a[n]);\n        }\n      }\n\n      return i;\n    }\n\n    function c(e, t, n) {\n      o = [];\n      var r = e = e.replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi, function (e) {\n        return o.push(e), \"[FROALA.EDITOR.SCRIPT \" + (o.length - 1) + \"]\";\n      }).replace(/<noscript\\b[^<]*(?:(?!<\\/noscript>)<[^<]*)*<\\/noscript>/gi, function (e) {\n        return o.push(e), \"[FROALA.EDITOR.NOSCRIPT \" + (o.length - 1) + \"]\";\n      }).replace(/<meta((?:[\\w\\W]*?)) http-equiv=\"/g, '<meta$1 data-fr-http-equiv=\"').replace(/<img((?:[\\w\\W]*?)) src=\"/g, '<img$1 data-fr-src=\"'),\n          i = null;\n      f.opts.fullPage && (r = f.html.extractNode(e, \"body\") || (0 <= e.indexOf(\"<body\") ? \"\" : e), n && (i = f.html.extractNode(e, \"head\") || \"\")), r = d(r, t), i && (i = d(i, t));\n\n      var a = function (e, t, n) {\n        if (f.opts.fullPage) {\n          var r = f.html.extractDoctype(n),\n              i = l(f.html.extractNodeAttrs(n, \"html\"));\n          return t = null == t ? f.html.extractNode(n, \"head\") || \"<title></title>\" : t, r + \"<html\" + i + \"><head\" + l(f.html.extractNodeAttrs(n, \"head\")) + \">\" + t + \"</head><body\" + l(f.html.extractNodeAttrs(n, \"body\")) + \">\" + e + \"</body></html>\";\n        }\n\n        return e;\n      }(r, i, e);\n\n      return a.replace(/\\[FROALA\\.EDITOR\\.SCRIPT ([\\d]*)\\]/gi, function (e, t) {\n        return 0 <= f.opts.htmlRemoveTags.indexOf(\"script\") ? \"\" : o[parseInt(t, 10)];\n      }).replace(/\\[FROALA\\.EDITOR\\.NOSCRIPT ([\\d]*)\\]/gi, function (e, t) {\n        return 0 <= f.opts.htmlRemoveTags.indexOf(\"noscript\") ? \"\" : o[parseInt(t, 10)].replace(/\\&lt;/g, \"<\").replace(/\\&gt;/g, \">\");\n      }).replace(/<img((?:[\\w\\W]*?)) data-fr-src=\"/g, '<img$1 src=\"');\n    }\n\n    function v(e) {\n      var t = f.doc.createElement(\"DIV\");\n      return t.innerText = e, t.textContent;\n    }\n\n    function E(e) {\n      for (var t = f.node.contents(e), n = 0; n < t.length; n++) {\n        t[n].nodeType != Node.TEXT_NODE && E(t[n]);\n      }\n\n      !function (e) {\n        if (\"SPAN\" == e.tagName && 0 <= (e.getAttribute(\"class\") || \"\").indexOf(\"fr-marker\")) return;\n        var t, n;\n        if (\"PRE\" == e.tagName && 0 <= (n = (t = e).innerHTML).indexOf(\"\\n\") && (t.innerHTML = n.replace(/\\n/g, \"<br>\")), e.nodeType == Node.ELEMENT_NODE && (e.getAttribute(\"data-fr-src\") && 0 !== e.getAttribute(\"data-fr-src\").indexOf(\"blob:\") && e.setAttribute(\"data-fr-src\", f.helpers.sanitizeURL(v(e.getAttribute(\"data-fr-src\")))), e.getAttribute(\"href\") && e.setAttribute(\"href\", f.helpers.sanitizeURL(v(e.getAttribute(\"href\")))), e.getAttribute(\"src\") && e.setAttribute(\"src\", f.helpers.sanitizeURL(v(e.getAttribute(\"src\")))), e.getAttribute(\"data\") && e.setAttribute(\"data\", f.helpers.sanitizeURL(v(e.getAttribute(\"data\")))), 0 <= [\"TABLE\", \"TBODY\", \"TFOOT\", \"TR\"].indexOf(e.tagName) && (e.innerHTML = e.innerHTML.trim())), !f.opts.pasteAllowLocalImages && e.nodeType == Node.ELEMENT_NODE && \"IMG\" == e.tagName && e.getAttribute(\"data-fr-src\") && 0 === e.getAttribute(\"data-fr-src\").indexOf(\"file://\")) return e.parentNode.removeChild(e);\n\n        if (e.nodeType == Node.ELEMENT_NODE && Ee.FE.HTML5Map[e.tagName] && \"\" === f.node.attributes(e)) {\n          var r = Ee.FE.HTML5Map[e.tagName],\n              i = \"<\" + r + \">\" + e.innerHTML + \"</\" + r + \">\";\n          e.insertAdjacentHTML(\"beforebegin\", i), (e = e.previousSibling).parentNode.removeChild(e.nextSibling);\n        }\n\n        if (f.opts.htmlAllowComments || e.nodeType != Node.COMMENT_NODE) {\n          if (e.tagName && e.tagName.match(u)) e.parentNode.removeChild(e);else if (e.tagName && !e.tagName.match(p)) {\n            if (\"svg\" === e.tagName) e.parentNode.removeChild(e);else if (!f.browser.safari || \"path\" != e.tagName || !e.parentNode || \"svg\" != e.parentNode.tagName) try {\n              e.outerHTML = e.innerHTML;\n            } catch (c) {}\n          } else {\n            var a = e.attributes;\n            if (a) for (var o = a.length - 1; 0 <= o; o--) {\n              var s = a[o],\n                  l = s.nodeName.match(h),\n                  d = null;\n              \"style\" == s.nodeName && f.opts.htmlAllowedStyleProps.length && (d = s.value.match(g)), l && d ? s.value = m(d.join(\";\")) : l && (\"style\" != s.nodeName || d) || e.removeAttribute(s.nodeName);\n            }\n          }\n        } else 0 !== e.data.indexOf(\"[FROALA.EDITOR\") && e.parentNode.removeChild(e);\n      }(e);\n    }\n\n    return {\n      _init: function _init() {\n        f.opts.fullPage && Ee.merge(f.opts.htmlAllowedTags, [\"head\", \"title\", \"style\", \"link\", \"base\", \"body\", \"html\", \"meta\"]);\n      },\n      html: function html(e, t, n, r) {\n        void 0 === t && (t = []), void 0 === n && (n = []), void 0 === r && (r = !1);\n        var i,\n            a = Ee.merge([], f.opts.htmlAllowedTags);\n\n        for (i = 0; i < t.length; i++) {\n          0 <= a.indexOf(t[i]) && a.splice(a.indexOf(t[i]), 1);\n        }\n\n        var o = Ee.merge([], f.opts.htmlAllowedAttrs);\n\n        for (i = 0; i < n.length; i++) {\n          0 <= o.indexOf(n[i]) && o.splice(o.indexOf(n[i]), 1);\n        }\n\n        return o.push(\"data-fr-.*\"), o.push(\"fr-.*\"), p = new RegExp(\"^\" + a.join(\"$|^\") + \"$\", \"gi\"), h = new RegExp(\"^\" + o.join(\"$|^\") + \"$\", \"gi\"), u = new RegExp(\"^\" + f.opts.htmlRemoveTags.join(\"$|^\") + \"$\", \"gi\"), g = f.opts.htmlAllowedStyleProps.length ? new RegExp(\"((^|;|\\\\s)\" + f.opts.htmlAllowedStyleProps.join(\":.+?(?=;|$))|((^|;|\\\\s)\") + \":.+?(?=(;)|$))\", \"gi\") : null, e = c(e, E, !0);\n      },\n      toHTML5: function toHTML5() {\n        var e = f.el.querySelectorAll(Object.keys(Ee.FE.HTML5Map).join(\",\"));\n\n        if (e.length) {\n          var t = !1;\n          f.el.querySelector(\".fr-marker\") || (f.selection.save(), t = !0);\n\n          for (var n = 0; n < e.length; n++) {\n            \"\" === f.node.attributes(e[n]) && Ee(e[n]).replaceWith(\"<\" + Ee.FE.HTML5Map[e[n].tagName] + \">\" + e[n].innerHTML + \"</\" + Ee.FE.HTML5Map[e[n].tagName] + \">\");\n          }\n\n          t && f.selection.restore();\n        }\n      },\n      tables: function tables() {\n        !function () {\n          for (var e = f.el.querySelectorAll(\"tr\"), t = 0; t < e.length; t++) {\n            for (var n = e[t].children, r = !0, i = 0; i < n.length; i++) {\n              if (\"TH\" != n[i].tagName) {\n                r = !1;\n                break;\n              }\n            }\n\n            if (!1 !== r && 0 !== n.length) {\n              for (var a = e[t]; a && \"TABLE\" != a.tagName && \"THEAD\" != a.tagName;) {\n                a = a.parentNode;\n              }\n\n              var o = a;\n              \"THEAD\" != o.tagName && (o = f.doc.createElement(\"THEAD\"), a.insertBefore(o, a.firstChild)), o.appendChild(e[t]);\n            }\n          }\n        }();\n      },\n      lists: function lists() {\n        !function () {\n          var e,\n              t = [];\n\n          do {\n            if (t.length) {\n              var n = t[0],\n                  r = f.doc.createElement(\"ul\");\n              n.parentNode.insertBefore(r, n);\n\n              do {\n                var i = n;\n                n = n.nextSibling, r.appendChild(i);\n              } while (n && \"LI\" == n.tagName);\n            }\n\n            t = [];\n\n            for (var a = f.el.querySelectorAll(\"li\"), o = 0; o < a.length; o++) {\n              e = a[o], f.node.isList(e.parentNode) || t.push(a[o]);\n            }\n          } while (0 < t.length);\n        }(), function () {\n          for (var e = f.el.querySelectorAll(\"ol + ol, ul + ul\"), t = 0; t < e.length; t++) {\n            var n = e[t];\n\n            if (f.node.isList(n.previousSibling) && f.node.openTagString(n) == f.node.openTagString(n.previousSibling)) {\n              for (var r = f.node.contents(n), i = 0; i < r.length; i++) {\n                n.previousSibling.appendChild(r[i]);\n              }\n\n              n.parentNode.removeChild(n);\n            }\n          }\n        }(), function () {\n          for (var e = f.el.querySelectorAll(\"ul, ol\"), t = 0; t < e.length; t++) {\n            for (var n = f.node.contents(e[t]), r = null, i = n.length - 1; 0 <= i; i--) {\n              \"LI\" != n[i].tagName && \"UL\" != n[i].tagName && \"OL\" != n[i].tagName ? (r || (r = Ee(\"<li>\")).insertBefore(n[i]), r.prepend(n[i])) : r = null;\n            }\n          }\n        }(), function () {\n          var e, t, n;\n\n          do {\n            t = !1;\n            var r = f.el.querySelectorAll(\"li:empty\");\n\n            for (e = 0; e < r.length; e++) {\n              r[e].parentNode.removeChild(r[e]);\n            }\n\n            var i = f.el.querySelectorAll(\"ul, ol\");\n\n            for (e = 0; e < i.length; e++) {\n              (n = i[e]).querySelector(\"LI\") || (t = !0, n.parentNode.removeChild(n));\n            }\n          } while (!0 === t);\n        }(), function () {\n          for (var e = f.el.querySelectorAll(\"ul > ul, ol > ol, ul > ol, ol > ul\"), t = 0; t < e.length; t++) {\n            var n = e[t],\n                r = n.previousSibling;\n            r && (\"LI\" == r.tagName ? r.appendChild(n) : Ee(n).wrap(\"<li></li>\"));\n          }\n        }(), function () {\n          for (var e = f.el.querySelectorAll(\"li > ul, li > ol\"), t = 0; t < e.length; t++) {\n            var n = e[t];\n\n            if (n.nextSibling) {\n              var r = n.nextSibling,\n                  i = Ee(\"<li>\");\n              Ee(n.parentNode).after(i);\n\n              do {\n                var a = r;\n                r = r.nextSibling, i.append(a);\n              } while (r);\n            }\n          }\n        }(), function () {\n          for (var e = f.el.querySelectorAll(\"li > ul, li > ol\"), t = 0; t < e.length; t++) {\n            var n = e[t];\n            if (f.node.isFirstSibling(n)) Ee(n).before(\"<br/>\");else if (n.previousSibling && \"BR\" == n.previousSibling.tagName) {\n              for (var r = n.previousSibling.previousSibling; r && f.node.hasClass(r, \"fr-marker\");) {\n                r = r.previousSibling;\n              }\n\n              r && \"BR\" != r.tagName && Ee(n.previousSibling).remove();\n            }\n          }\n        }(), function () {\n          for (var e = f.el.querySelectorAll(\"li:empty\"), t = 0; t < e.length; t++) {\n            Ee(e[t]).remove();\n          }\n        }();\n      },\n      invisibleSpaces: function invisibleSpaces(e) {\n        return e.replace(/\\u200b/g, \"\").length == e.length ? e : f.clean.exec(e, i);\n      },\n      exec: c\n    };\n  }, Ee.FE.MODULES.spaces = function (l) {\n    function r(e, t) {\n      var n = e.previousSibling,\n          r = e.nextSibling,\n          i = e.textContent,\n          a = e.parentNode;\n\n      if (!l.html.isPreformatted(a)) {\n        t && (i = i.replace(/[\\f\\n\\r\\t\\v ]{2,}/g, \" \"), r && \"BR\" !== r.tagName && !l.node.isBlock(r) || !(l.node.isBlock(a) || l.node.isLink(a) && !a.nextSibling || l.node.isElement(a)) || (i = i.replace(/[\\f\\n\\r\\t\\v ]{1,}$/g, \"\")), n && \"BR\" !== n.tagName && !l.node.isBlock(n) || !(l.node.isBlock(a) || l.node.isLink(a) && !a.previousSibling || l.node.isElement(a)) || (i = i.replace(/^[\\f\\n\\r\\t\\v ]{1,}/g, \"\")), (l.node.isBlock(r) || l.node.isBlock(n)) && (i = i.replace(/^[\\f\\n\\r\\t\\v ]{1,}/g, \"\")), \" \" === i && (n && l.node.isVoid(n) || r && l.node.isVoid(r)) && !(n && r && l.node.isVoid(n) || r && n && l.node.isVoid(r)) && (i = \"\")), (!n && l.node.isBlock(r) || !r && l.node.isBlock(n)) && l.node.isBlock(a) && a !== l.el && (i = i.replace(/^[\\f\\n\\r\\t\\v ]{1,}/g, \"\")), t || (i = i.replace(new RegExp(Ee.FE.UNICODE_NBSP, \"g\"), \" \"));\n\n        for (var o = \"\", s = 0; s < i.length; s++) {\n          32 != i.charCodeAt(s) || 0 !== s && 32 != o.charCodeAt(s - 1) || n && r && l.node.isVoid(n) || n && r && l.node.isVoid(r) ? o += i[s] : o += Ee.FE.UNICODE_NBSP;\n        }\n\n        (!r || r && l.node.isBlock(r) || r && r.nodeType == Node.ELEMENT_NODE && l.win.getComputedStyle(r) && \"block\" == l.win.getComputedStyle(r).display) && (l.node.isVoid(n) || (o = o.replace(/ $/, Ee.FE.UNICODE_NBSP))), !n || l.node.isVoid(n) || l.node.isBlock(n) || 1 !== (o = o.replace(/^\\u00A0([^ $])/, \" $1\")).length || 160 !== o.charCodeAt(0) || !r || l.node.isVoid(r) || l.node.isBlock(r) || l.node.hasClass(n, \"fr-marker\") && l.node.hasClass(r, \"fr-marker\") || (o = \" \"), t || (o = o.replace(/([^ \\u00A0])\\u00A0([^ \\u00A0])/g, \"$1 $2\")), e.textContent != o && (e.textContent = o);\n      }\n    }\n\n    function d(e, t) {\n      if (void 0 !== e && e || (e = l.el), void 0 === t && (t = !1), !e.getAttribute || \"false\" != e.getAttribute(\"contenteditable\")) if (e.nodeType == Node.TEXT_NODE) r(e, t);else if (e.nodeType == Node.ELEMENT_NODE) for (var n = l.doc.createTreeWalker(e, NodeFilter.SHOW_TEXT, l.node.filter(function (e) {\n        for (var t = e.parentNode; t && t !== l.el;) {\n          if (\"STYLE\" == t.tagName || \"IFRAME\" == t.tagName) return !1;\n          if (\"PRE\" === t.tagName) return !1;\n          t = t.parentNode;\n        }\n\n        return null != e.textContent.match(/([ \\u00A0\\f\\n\\r\\t\\v]{2,})|(^[ \\u00A0\\f\\n\\r\\t\\v]{1,})|([ \\u00A0\\f\\n\\r\\t\\v]{1,}$)/g) && !l.node.hasClass(e.parentNode, \"fr-marker\");\n      }), !1); n.nextNode();) {\n        r(n.currentNode, t);\n      }\n    }\n\n    return {\n      normalize: d,\n      normalizeAroundCursor: function normalizeAroundCursor() {\n        for (var e = [], t = l.el.querySelectorAll(\".fr-marker\"), n = 0; n < t.length; n++) {\n          for (var r = null, i = l.node.blockParent(t[n]), a = (r = i || t[n]).nextSibling, o = r.previousSibling; a && \"BR\" == a.tagName;) {\n            a = a.nextSibling;\n          }\n\n          for (; o && \"BR\" == o.tagName;) {\n            o = o.previousSibling;\n          }\n\n          r && e.indexOf(r) < 0 && e.push(r), o && e.indexOf(o) < 0 && e.push(o), a && e.indexOf(a) < 0 && e.push(a);\n        }\n\n        for (var s = 0; s < e.length; s++) {\n          d(e[s]);\n        }\n      }\n    };\n  }, Ee.FE.UNICODE_NBSP = String.fromCharCode(160), Ee.FE.VOID_ELEMENTS = [\"area\", \"base\", \"br\", \"col\", \"embed\", \"hr\", \"img\", \"input\", \"keygen\", \"link\", \"menuitem\", \"meta\", \"param\", \"source\", \"track\", \"wbr\"], Ee.FE.BLOCK_TAGS = [\"address\", \"article\", \"aside\", \"audio\", \"blockquote\", \"canvas\", \"details\", \"dd\", \"div\", \"dl\", \"dt\", \"fieldset\", \"figcaption\", \"figure\", \"footer\", \"form\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"header\", \"hgroup\", \"hr\", \"li\", \"main\", \"nav\", \"noscript\", \"ol\", \"output\", \"p\", \"pre\", \"section\", \"table\", \"tbody\", \"td\", \"tfoot\", \"th\", \"thead\", \"tr\", \"ul\", \"video\"], Ee.extend(Ee.FE.DEFAULTS, {\n    htmlAllowedEmptyTags: [\"textarea\", \"a\", \"iframe\", \"object\", \"video\", \"style\", \"script\", \".fa\", \".fr-emoticon\", \".fr-inner\", \"path\", \"line\"],\n    htmlDoNotWrapTags: [\"script\", \"style\"],\n    htmlSimpleAmpersand: !1,\n    htmlIgnoreCSSProperties: [],\n    htmlExecuteScripts: !0\n  }), Ee.FE.MODULES.html = function (N) {\n    function c() {\n      return N.opts.enter == Ee.FE.ENTER_P ? \"p\" : N.opts.enter == Ee.FE.ENTER_DIV ? \"div\" : N.opts.enter == Ee.FE.ENTER_BR ? null : void 0;\n    }\n\n    function s(e, t) {\n      return !(!e || e === N.el) && (t ? -1 != [\"PRE\", \"SCRIPT\", \"STYLE\"].indexOf(e.tagName) || s(e.parentNode, t) : -1 != [\"PRE\", \"SCRIPT\", \"STYLE\"].indexOf(e.tagName));\n    }\n\n    function a(e) {\n      var t,\n          n = [],\n          r = [];\n\n      if (e) {\n        var i = N.el.querySelectorAll(\".fr-marker\");\n\n        for (t = 0; t < i.length; t++) {\n          var a = N.node.blockParent(i[t]) || i[t];\n\n          if (a) {\n            var o = a.nextSibling,\n                s = a.previousSibling;\n            a && r.indexOf(a) < 0 && N.node.isBlock(a) && r.push(a), s && N.node.isBlock(s) && r.indexOf(s) < 0 && r.push(s), o && N.node.isBlock(o) && r.indexOf(o) < 0 && r.push(o);\n          }\n        }\n      } else r = N.el.querySelectorAll(p());\n\n      var l = p();\n\n      for (l += \",\" + Ee.FE.VOID_ELEMENTS.join(\",\"), l += \", .fr-inner\", l += \",\" + N.opts.htmlAllowedEmptyTags.join(\":not(.fr-marker),\") + \":not(.fr-marker)\", t = r.length - 1; 0 <= t; t--) {\n        if (!(r[t].textContent && 0 < r[t].textContent.replace(/\\u200B|\\n/g, \"\").length || 0 < r[t].querySelectorAll(l).length)) {\n          for (var d = N.node.contents(r[t]), c = !1, f = 0; f < d.length; f++) {\n            if (d[f].nodeType != Node.COMMENT_NODE && d[f].textContent && 0 < d[f].textContent.replace(/\\u200B|\\n/g, \"\").length) {\n              c = !0;\n              break;\n            }\n          }\n\n          c || n.push(r[t]);\n        }\n      }\n\n      return n;\n    }\n\n    function p() {\n      return Ee.FE.BLOCK_TAGS.join(\", \");\n    }\n\n    function e(e) {\n      var t,\n          n,\n          r = Ee.merge([], Ee.FE.VOID_ELEMENTS);\n      r = Ee.merge(r, N.opts.htmlAllowedEmptyTags), r = void 0 === e ? Ee.merge(r, Ee.FE.BLOCK_TAGS) : Ee.merge(r, Ee.FE.NO_DELETE_TAGS), t = N.el.querySelectorAll(\"*:empty:not(\" + r.join(\"):not(\") + \"):not(.fr-marker)\");\n\n      do {\n        n = !1;\n\n        for (var i = 0; i < t.length; i++) {\n          0 !== t[i].attributes.length && void 0 === t[i].getAttribute(\"href\") || (t[i].parentNode.removeChild(t[i]), n = !0);\n        }\n\n        t = N.el.querySelectorAll(\"*:empty:not(\" + r.join(\"):not(\") + \"):not(.fr-marker)\");\n      } while (t.length && n);\n    }\n\n    function o(e, t) {\n      var n = c();\n\n      if (t && (n = \"div\"), n) {\n        for (var r = N.doc.createDocumentFragment(), i = null, a = !1, o = e.firstChild, s = !1; o;) {\n          var l = o.nextSibling;\n          if (o.nodeType == Node.ELEMENT_NODE && (N.node.isBlock(o) || 0 <= N.opts.htmlDoNotWrapTags.indexOf(o.tagName.toLowerCase()) && !N.node.hasClass(o, \"fr-marker\"))) i = null, r.appendChild(o.cloneNode(!0));else if (o.nodeType != Node.ELEMENT_NODE && o.nodeType != Node.TEXT_NODE) i = null, r.appendChild(o.cloneNode(!0));else if (\"BR\" == o.tagName) null == i ? (i = N.doc.createElement(n), s = !0, t && (i.setAttribute(\"class\", \"fr-temp-div\"), i.setAttribute(\"data-empty\", !0)), i.appendChild(o.cloneNode(!0)), r.appendChild(i)) : !1 === a && (i.appendChild(N.doc.createElement(\"br\")), t && (i.setAttribute(\"class\", \"fr-temp-div\"), i.setAttribute(\"data-empty\", !0))), i = null;else {\n            var d = o.textContent;\n            o.nodeType !== Node.TEXT_NODE || 0 < d.replace(/\\n/g, \"\").replace(/(^ *)|( *$)/g, \"\").length || d.replace(/(^ *)|( *$)/g, \"\").length && d.indexOf(\"\\n\") < 0 ? (null == i && (i = N.doc.createElement(n), s = !0, t && i.setAttribute(\"class\", \"fr-temp-div\"), r.appendChild(i), a = !1), i.appendChild(o.cloneNode(!0)), a || N.node.hasClass(o, \"fr-marker\") || o.nodeType == Node.TEXT_NODE && 0 === d.replace(/ /g, \"\").length || (a = !0)) : s = !0;\n          }\n          o = l;\n        }\n\n        s && (e.innerHTML = \"\", e.appendChild(r));\n      }\n    }\n\n    function l(e, t) {\n      for (var n = e.length - 1; 0 <= n; n--) {\n        o(e[n], t);\n      }\n    }\n\n    function t(e, t, n, r, i) {\n      if (!N.$wp) return !1;\n      void 0 === e && (e = !1), void 0 === t && (t = !1), void 0 === n && (n = !1), void 0 === r && (r = !1), void 0 === i && (i = !1);\n      var a = N.$wp.scrollTop();\n      o(N.el, e), r && l(N.el.querySelectorAll(\".fr-inner\"), e), t && l(N.el.querySelectorAll(\"td, th\"), e), n && l(N.el.querySelectorAll(\"blockquote\"), e), i && l(N.el.querySelectorAll(\"li\"), e), a != N.$wp.scrollTop() && N.$wp.scrollTop(a);\n    }\n\n    function n(e) {\n      if (void 0 === e && (e = N.el), e && 0 <= [\"SCRIPT\", \"STYLE\", \"PRE\"].indexOf(e.tagName)) return !1;\n\n      for (var t = N.doc.createTreeWalker(e, NodeFilter.SHOW_TEXT, N.node.filter(function (e) {\n        return null != e.textContent.match(/([ \\n]{2,})|(^[ \\n]{1,})|([ \\n]{1,}$)/g);\n      }), !1); t.nextNode();) {\n        var n = t.currentNode;\n\n        if (!s(n.parentNode, !0)) {\n          var r = N.node.isBlock(n.parentNode) || N.node.isElement(n.parentNode),\n              i = n.textContent.replace(/(?!^)( ){2,}(?!$)/g, \" \").replace(/\\n/g, \" \").replace(/^[ ]{2,}/g, \" \").replace(/[ ]{2,}$/g, \" \");\n\n          if (r) {\n            var a = n.previousSibling,\n                o = n.nextSibling;\n            a && o && \" \" == i ? i = N.node.isBlock(a) && N.node.isBlock(o) ? \"\" : \" \" : (a || (i = i.replace(/^ */, \"\")), o || (i = i.replace(/ *$/, \"\")));\n          }\n\n          n.textContent = i;\n        }\n      }\n    }\n\n    function r(e, t, n) {\n      var r = new RegExp(t, \"gi\").exec(e);\n      return r ? r[n] : null;\n    }\n\n    function O(e) {\n      var t = e.doctype,\n          n = \"<!DOCTYPE html>\";\n      return t && (n = \"<!DOCTYPE \" + t.name + (t.publicId ? ' PUBLIC \"' + t.publicId + '\"' : \"\") + (!t.publicId && t.systemId ? \" SYSTEM\" : \"\") + (t.systemId ? ' \"' + t.systemId + '\"' : \"\") + \">\"), n;\n    }\n\n    function d(e) {\n      var t = e.parentNode;\n\n      if (t && (N.node.isBlock(t) || N.node.isElement(t)) && [\"TD\", \"TH\"].indexOf(t.tagName) < 0) {\n        for (var n = e.previousSibling, r = e.nextSibling; n && (n.nodeType == Node.TEXT_NODE && 0 === n.textContent.replace(/\\n|\\r/g, \"\").length || N.node.hasClass(n, \"fr-tmp\"));) {\n          n = n.previousSibling;\n        }\n\n        if (r) return !1;\n        n && t && \"BR\" != n.tagName && !N.node.isBlock(n) && !r && 0 < t.textContent.replace(/\\u200B/g, \"\").length && 0 < n.textContent.length && !N.node.hasClass(n, \"fr-marker\") && (N.el == t && !r && N.opts.enter == Ee.FE.ENTER_BR && N.browser.msie || e.parentNode.removeChild(e));\n      } else !t || N.node.isBlock(t) || N.node.isElement(t) || e.previousSibling || e.nextSibling || !N.node.isDeletable(e.parentNode) || d(e.parentNode);\n    }\n\n    function u() {\n      N.opts.htmlUntouched || (e(), t(), n(), N.spaces.normalize(null, !0), N.html.fillEmptyBlocks(), N.clean.lists(), N.clean.tables(), N.clean.toHTML5(), N.html.cleanBRs()), N.selection.restore(), i(), N.placeholder.refresh();\n    }\n\n    function i() {\n      N.node.isEmpty(N.el) && (null != c() ? N.el.querySelector(p()) || N.el.querySelector(N.opts.htmlDoNotWrapTags.join(\":not(.fr-marker),\") + \":not(.fr-marker)\") || (N.core.hasFocus() ? (N.$el.html(\"<\" + c() + \">\" + Ee.FE.MARKERS + \"<br/></\" + c() + \">\"), N.selection.restore()) : N.$el.html(\"<\" + c() + \"><br/></\" + c() + \">\")) : N.el.querySelector(\"*:not(.fr-marker):not(br)\") || (N.core.hasFocus() ? (N.$el.html(Ee.FE.MARKERS + \"<br/>\"), N.selection.restore()) : N.$el.html(\"<br/>\")));\n    }\n\n    function h(e, t) {\n      return r(e, \"<\" + t + \"[^>]*?>([\\\\w\\\\W]*)</\" + t + \">\", 1);\n    }\n\n    function g(e, t) {\n      var n = Ee(\"<div \" + (r(e, \"<\" + t + \"([^>]*?)>\", 1) || \"\") + \">\");\n      return N.node.rawAttributes(n.get(0));\n    }\n\n    function m(e) {\n      return (r(e, \"<!DOCTYPE([^>]*?)>\", 0) || \"<!DOCTYPE html>\").replace(/\\n/g, \" \").replace(/ {2,}/g, \" \");\n    }\n\n    function v(e, t) {\n      N.opts.htmlExecuteScripts ? e.html(t) : e.get(0).innerHTML = t;\n    }\n\n    function I(e) {\n      var t;\n      (t = /:not\\(([^\\)]*)\\)/g).test(e) && (e = e.replace(t, \"     $1 \"));\n      var n = 100 * (e.match(/(#[^\\s\\+>~\\.\\[:]+)/g) || []).length + 10 * (e.match(/(\\[[^\\]]+\\])/g) || []).length + 10 * (e.match(/(\\.[^\\s\\+>~\\.\\[:]+)/g) || []).length + 10 * (e.match(/(:[\\w-]+\\([^\\)]*\\))/gi) || []).length + 10 * (e.match(/(:[^\\s\\+>~\\.\\[:]+)/g) || []).length + (e.match(/(::[^\\s\\+>~\\.\\[:]+|:first-line|:first-letter|:before|:after)/gi) || []).length;\n      return n += ((e = (e = e.replace(/[\\*\\s\\+>~]/g, \" \")).replace(/[#\\.]/g, \" \")).match(/([^\\s\\+>~\\.\\[:]+)/g) || []).length;\n    }\n\n    function D(e) {\n      if (N.events.trigger(\"html.processGet\", [e]), e && e.getAttribute && \"\" === e.getAttribute(\"class\") && e.removeAttribute(\"class\"), e && e.getAttribute && \"\" === e.getAttribute(\"style\") && e.removeAttribute(\"style\"), e && e.nodeType == Node.ELEMENT_NODE) {\n        var t,\n            n = e.querySelectorAll('[class=\"\"],[style=\"\"]');\n\n        for (t = 0; t < n.length; t++) {\n          var r = n[t];\n          \"\" === r.getAttribute(\"class\") && r.removeAttribute(\"class\"), \"\" === r.getAttribute(\"style\") && r.removeAttribute(\"style\");\n        }\n\n        if (\"BR\" === e.tagName) d(e);else {\n          var i = e.querySelectorAll(\"br\");\n\n          for (t = 0; t < i.length; t++) {\n            d(i[t]);\n          }\n        }\n      }\n    }\n\n    function k(e, t) {\n      return e[3] - t[3];\n    }\n\n    function f(e) {\n      var t = N.doc.createElement(\"div\");\n      return t.innerHTML = e, null !== t.querySelector(p());\n    }\n\n    function E(e) {\n      var t = null;\n      if (void 0 === e && (t = N.selection.element()), N.opts.keepFormatOnDelete) return !1;\n      var n,\n          r,\n          i = t ? (t.textContent.match(/\\u200B/g) || []).length - t.querySelectorAll(\".fr-marker\").length : 0;\n      if ((N.el.textContent.match(/\\u200B/g) || []).length - N.el.querySelectorAll(\".fr-marker\").length == i) return !1;\n\n      do {\n        r = !1, n = N.el.querySelectorAll(\"*:not(.fr-marker)\");\n\n        for (var a = 0; a < n.length; a++) {\n          var o = n[a];\n\n          if (t != o) {\n            var s = o.textContent;\n            0 === o.children.length && 1 === s.length && 8203 == s.charCodeAt(0) && \"TD\" !== o.tagName && (Ee(o).remove(), r = !0);\n          }\n        }\n      } while (r);\n    }\n\n    return {\n      defaultTag: c,\n      isPreformatted: s,\n      emptyBlocks: a,\n      emptyBlockTagsQuery: function emptyBlockTagsQuery() {\n        return Ee.FE.BLOCK_TAGS.join(\":empty, \") + \":empty\";\n      },\n      blockTagsQuery: p,\n      fillEmptyBlocks: function fillEmptyBlocks(e) {\n        var t = a(e);\n        N.node.isEmpty(N.el) && N.opts.enter === Ee.FE.ENTER_BR && t.push(N.el);\n\n        for (var n = 0; n < t.length; n++) {\n          var r = t[n];\n          \"false\" === r.getAttribute(\"contenteditable\") || r.querySelector(N.opts.htmlAllowedEmptyTags.join(\":not(.fr-marker),\") + \":not(.fr-marker)\") || N.node.isVoid(r) || \"TABLE\" != r.tagName && \"TBODY\" != r.tagName && \"TR\" != r.tagName && \"UL\" != r.tagName && \"OL\" != r.tagName && r.appendChild(N.doc.createElement(\"br\"));\n        }\n\n        if (N.browser.msie && N.opts.enter == Ee.FE.ENTER_BR) {\n          var i = N.node.contents(N.el);\n          i.length && i[i.length - 1].nodeType == Node.TEXT_NODE && N.$el.append(\"<br>\");\n        }\n      },\n      cleanEmptyTags: e,\n      cleanWhiteTags: E,\n      cleanBlankSpaces: n,\n      blocks: function blocks() {\n        return N.$el.get(0).querySelectorAll(p());\n      },\n      getDoctype: O,\n      set: function set(e) {\n        var t,\n            n,\n            r,\n            i = N.clean.html((e || \"\").trim(), [], [], N.opts.fullPage);\n\n        if (N.opts.fullPage) {\n          var a = h(i, \"body\") || (0 <= i.indexOf(\"<body\") ? \"\" : i),\n              o = g(i, \"body\"),\n              s = h(i, \"head\") || \"<title></title>\",\n              l = g(i, \"head\"),\n              d = Ee(\"<div>\").append(s).contents().each(function () {\n            (this.nodeType == Node.COMMENT_NODE || 0 <= [\"BASE\", \"LINK\", \"META\", \"NOSCRIPT\", \"SCRIPT\", \"STYLE\", \"TEMPLATE\", \"TITLE\"].indexOf(this.tagName)) && this.parentNode.removeChild(this);\n          }).end().html().trim();\n          s = Ee(\"<div>\").append(s).contents().map(function () {\n            return this.nodeType == Node.COMMENT_NODE ? \"\\x3c!--\" + this.nodeValue + \"--\\x3e\" : 0 <= [\"BASE\", \"LINK\", \"META\", \"NOSCRIPT\", \"SCRIPT\", \"STYLE\", \"TEMPLATE\", \"TITLE\"].indexOf(this.tagName) ? this.outerHTML : \"\";\n          }).toArray().join(\"\");\n          var c = m(i),\n              f = g(i, \"html\");\n          v(N.$el, d + \"\\n\" + a), N.node.clearAttributes(N.el), N.$el.attr(o), N.$el.addClass(\"fr-view\"), N.$el.attr(\"spellcheck\", N.opts.spellcheck), N.$el.attr(\"dir\", N.opts.direction), v(N.$head, s), N.node.clearAttributes(N.$head.get(0)), N.$head.attr(l), N.node.clearAttributes(N.$html.get(0)), N.$html.attr(f), N.iframe_document.doctype.parentNode.replaceChild((t = c, n = N.iframe_document, (r = t.match(/<!DOCTYPE ?([^ ]*) ?([^ ]*) ?\"?([^\"]*)\"? ?\"?([^\"]*)\"?>/i)) ? n.implementation.createDocumentType(r[1], r[3], r[4]) : n.implementation.createDocumentType(\"html\")), N.iframe_document.doctype);\n        } else v(N.$el, i);\n\n        var p = N.edit.isDisabled();\n        N.edit.on(), N.core.injectStyle(N.opts.iframeDefaultStyle + N.opts.iframeStyle), u(), N.opts.useClasses || (N.$el.find(\"[fr-original-class]\").each(function () {\n          this.setAttribute(\"class\", this.getAttribute(\"fr-original-class\")), this.removeAttribute(\"fr-original-class\");\n        }), N.$el.find(\"[fr-original-style]\").each(function () {\n          this.setAttribute(\"style\", this.getAttribute(\"fr-original-style\")), this.removeAttribute(\"fr-original-style\");\n        })), p && N.edit.off(), N.events.trigger(\"html.set\");\n      },\n      get: function get(e, t) {\n        if (!N.$wp) return N.$oel.clone().removeClass(\"fr-view\").removeAttr(\"contenteditable\").get(0).outerHTML;\n        var n = \"\";\n        N.events.trigger(\"html.beforeGet\");\n        var r,\n            i,\n            a = [],\n            o = {},\n            s = [],\n            l = N.el.querySelectorAll(\"input, textarea\");\n\n        for (r = 0; r < l.length; r++) {\n          l[r].setAttribute(\"value\", l[r].value);\n        }\n\n        if (!N.opts.useClasses && !t) {\n          var d = new RegExp(\"^\" + N.opts.htmlIgnoreCSSProperties.join(\"$|^\") + \"$\", \"gi\");\n\n          for (r = 0; r < N.doc.styleSheets.length; r++) {\n            var c,\n                f = 0;\n\n            try {\n              c = N.doc.styleSheets[r].cssRules, N.doc.styleSheets[r].ownerNode && \"STYLE\" == N.doc.styleSheets[r].ownerNode.nodeType && (f = 1);\n            } catch (w) {}\n\n            if (c) for (var p = 0, u = c.length; p < u; p++) {\n              if (c[p].selectorText && 0 < c[p].style.cssText.length) {\n                var h,\n                    g = c[p].selectorText.replace(/body |\\.fr-view /g, \"\").replace(/::/g, \":\");\n\n                try {\n                  h = N.el.querySelectorAll(g);\n                } catch (w) {\n                  h = [];\n                }\n\n                for (i = 0; i < h.length; i++) {\n                  !h[i].getAttribute(\"fr-original-style\") && h[i].getAttribute(\"style\") ? (h[i].setAttribute(\"fr-original-style\", h[i].getAttribute(\"style\")), a.push(h[i])) : h[i].getAttribute(\"fr-original-style\") || (h[i].setAttribute(\"fr-original-style\", \"\"), a.push(h[i])), o[h[i]] || (o[h[i]] = {});\n\n                  for (var m = 1e3 * f + I(c[p].selectorText), v = c[p].style.cssText.split(\";\"), E = 0; E < v.length; E++) {\n                    var b = v[E].trim().split(\":\")[0];\n\n                    if (b && !b.match(d) && (o[h[i]][b] || (o[h[i]][b] = 0) <= (h[i].getAttribute(\"fr-original-style\") || \"\").indexOf(b + \":\") && (o[h[i]][b] = 1e4), m >= o[h[i]][b] && (o[h[i]][b] = m, v[E].trim().length))) {\n                      var T = v[E].trim().split(\":\");\n                      T.splice(0, 1), s.push([h[i], b.trim(), T.join(\":\").trim(), m]);\n                    }\n                  }\n                }\n              }\n            }\n          }\n\n          for (s.sort(k), r = 0; r < s.length; r++) {\n            var A = s[r];\n            A[0].style[A[1]] = A[2];\n          }\n\n          for (r = 0; r < a.length; r++) {\n            if (a[r].getAttribute(\"class\") && (a[r].setAttribute(\"fr-original-class\", a[r].getAttribute(\"class\")), a[r].removeAttribute(\"class\")), 0 < (a[r].getAttribute(\"fr-original-style\") || \"\").trim().length) {\n              var C = a[r].getAttribute(\"fr-original-style\").split(\";\");\n\n              for (i = 0; i < C.length; i++) {\n                if (0 < C[i].indexOf(\":\")) {\n                  var S = C[i].split(\":\"),\n                      R = S[0];\n                  S.splice(0, 1), a[r].style[R.trim()] = S.join(\":\").trim();\n                }\n              }\n            }\n          }\n        }\n\n        if (N.node.isEmpty(N.el)) N.opts.fullPage && (n = O(N.iframe_document), n += \"<html\" + N.node.attributes(N.$html.get(0)) + \">\" + N.$html.find(\"head\").get(0).outerHTML + \"<body></body></html>\");else if (void 0 === e && (e = !1), N.opts.fullPage) {\n          n = O(N.iframe_document), N.$el.removeClass(\"fr-view\");\n          var y = N.opts.heightMin,\n              _ = N.opts.height,\n              L = N.opts.heightMax;\n          N.opts.heightMin = null, N.opts.height = null, N.opts.heightMax = null, N.size.refresh(), n += \"<html\" + N.node.attributes(N.$html.get(0)) + \">\" + N.$html.html() + \"</html>\", N.opts.heightMin = y, N.opts.height = _, N.opts.heightMax = L, N.size.refresh(), N.$el.addClass(\"fr-view\");\n        } else n = N.$el.html();\n        if (!N.opts.useClasses && !t) for (r = 0; r < a.length; r++) {\n          a[r].getAttribute(\"fr-original-class\") && (a[r].setAttribute(\"class\", a[r].getAttribute(\"fr-original-class\")), a[r].removeAttribute(\"fr-original-class\")), null != a[r].getAttribute(\"fr-original-style\") && void 0 !== a[r].getAttribute(\"fr-original-style\") ? (0 !== a[r].getAttribute(\"fr-original-style\").length ? a[r].setAttribute(\"style\", a[r].getAttribute(\"fr-original-style\")) : a[r].removeAttribute(\"style\"), a[r].removeAttribute(\"fr-original-style\")) : a[r].removeAttribute(\"style\");\n        }\n        N.opts.fullPage && (n = (n = (n = (n = (n = (n = (n = (n = n.replace(/<style data-fr-style=\"true\">(?:[\\w\\W]*?)<\\/style>/g, \"\")).replace(/<link([^>]*)data-fr-style=\"true\"([^>]*)>/g, \"\")).replace(/<style(?:[\\w\\W]*?)class=\"firebugResetStyles\"(?:[\\w\\W]*?)>(?:[\\w\\W]*?)<\\/style>/g, \"\")).replace(/<body((?:[\\w\\W]*?)) spellcheck=\"true\"((?:[\\w\\W]*?))>((?:[\\w\\W]*?))<\\/body>/g, \"<body$1$2>$3</body>\")).replace(/<body((?:[\\w\\W]*?)) contenteditable=\"(true|false)\"((?:[\\w\\W]*?))>((?:[\\w\\W]*?))<\\/body>/g, \"<body$1$3>$4</body>\")).replace(/<body((?:[\\w\\W]*?)) dir=\"([\\w]*)\"((?:[\\w\\W]*?))>((?:[\\w\\W]*?))<\\/body>/g, \"<body$1$3>$4</body>\")).replace(/<body((?:[\\w\\W]*?))class=\"([\\w\\W]*?)(fr-rtl|fr-ltr)([\\w\\W]*?)\"((?:[\\w\\W]*?))>((?:[\\w\\W]*?))<\\/body>/g, '<body$1class=\"$2$4\"$5>$6</body>')).replace(/<body((?:[\\w\\W]*?)) class=\"\"((?:[\\w\\W]*?))>((?:[\\w\\W]*?))<\\/body>/g, \"<body$1$2>$3</body>\")), N.opts.htmlSimpleAmpersand && (n = n.replace(/\\&amp;/gi, \"&\")), N.events.trigger(\"html.afterGet\"), e || (n = n.replace(/<span[^>]*? class\\s*=\\s*[\"']?fr-marker[\"']?[^>]+>\\u200b<\\/span>/gi, \"\")), n = N.clean.invisibleSpaces(n), n = N.clean.exec(n, D);\n        var x = N.events.chainTrigger(\"html.get\", n);\n        return \"string\" == typeof x && (n = x), n = (n = n.replace(/<pre(?:[\\w\\W]*?)>(?:[\\w\\W]*?)<\\/pre>/g, function (e) {\n          return e.replace(/<br>/g, \"\\n\");\n        })).replace(/<meta((?:[\\w\\W]*?)) data-fr-http-equiv=\"/g, '<meta$1 http-equiv=\"');\n      },\n      getSelected: function getSelected() {\n        var e,\n            t,\n            n = function n(e, t) {\n          for (; t && (t.nodeType == Node.TEXT_NODE || !N.node.isBlock(t)) && !N.node.isElement(t) && !N.node.hasClass(t, \"fr-inner\");) {\n            t && t.nodeType != Node.TEXT_NODE && Ee(e).wrapInner(N.node.openTagString(t) + N.node.closeTagString(t)), t = t.parentNode;\n          }\n\n          t && e.innerHTML == t.innerHTML && (e.innerHTML = t.outerHTML);\n        },\n            r = \"\";\n\n        if (\"undefined\" != typeof N.win.getSelection) {\n          N.browser.mozilla && (N.selection.save(), 1 < N.$el.find('.fr-marker[data-type=\"false\"]').length && (N.$el.find('.fr-marker[data-type=\"false\"][data-id=\"0\"]').remove(), N.$el.find('.fr-marker[data-type=\"false\"]:last').attr(\"data-id\", \"0\"), N.$el.find(\".fr-marker\").not('[data-id=\"0\"]').remove()), N.selection.restore());\n\n          for (var i = N.selection.ranges(), a = 0; a < i.length; a++) {\n            var o = document.createElement(\"div\");\n            o.appendChild(i[a].cloneContents()), n(o, (t = e = void 0, t = null, N.win.getSelection ? (e = N.win.getSelection()) && e.rangeCount && (t = e.getRangeAt(0).commonAncestorContainer).nodeType != Node.ELEMENT_NODE && (t = t.parentNode) : (e = N.doc.selection) && \"Control\" != e.type && (t = e.createRange().parentElement()), null != t && (0 <= Ee.inArray(N.el, Ee(t).parents()) || t == N.el) ? t : null)), 0 < Ee(o).find(\".fr-element\").length && (o = N.el), r += o.innerHTML;\n          }\n        } else \"undefined\" != typeof N.doc.selection && \"Text\" == N.doc.selection.type && (r = N.doc.selection.createRange().htmlText);\n\n        return r;\n      },\n      insert: function insert(e, t, n) {\n        var r, i, a;\n        if (N.selection.isCollapsed() || N.selection.remove(), r = t ? e : N.clean.html(e), e.indexOf('class=\"fr-marker\"') < 0 && (i = r, (a = N.doc.createElement(\"div\")).innerHTML = i, N.selection.setAtEnd(a, !0), r = a.innerHTML), N.node.isEmpty(N.el) && !N.opts.keepFormatOnDelete && f(r)) N.el.innerHTML = r;else {\n          var o = N.markers.insert();\n\n          if (o) {\n            N.node.isLastSibling(o) && Ee(o).parent().hasClass(\"fr-deletable\") && Ee(o).insertAfter(Ee(o).parent());\n            var s = N.node.blockParent(o);\n\n            if ((f(r) || n) && (N.node.deepestParent(o) || s && \"LI\" == s.tagName)) {\n              if (s && \"LI\" == s.tagName && (r = function (e) {\n                if (!N.html.defaultTag()) return e;\n                var t = N.doc.createElement(\"div\");\n                t.innerHTML = e;\n\n                for (var n = t.querySelectorAll(\":scope > \" + N.html.defaultTag()), r = n.length - 1; 0 <= r; r--) {\n                  var i = n[r];\n                  N.node.isBlock(i.previousSibling) || (i.previousSibling && !N.node.isEmpty(i) && Ee(\"<br>\").insertAfter(i.previousSibling), i.outerHTML = i.innerHTML);\n                }\n\n                return t.innerHTML;\n              }(r)), !(o = N.markers.split())) return !1;\n              o.outerHTML = r;\n            } else o.outerHTML = r;\n          } else N.el.innerHTML = N.el.innerHTML + r;\n        }\n        u(), N.keys.positionCaret(), N.events.trigger(\"html.inserted\");\n      },\n      wrap: t,\n      unwrap: function unwrap() {\n        N.$el.find(\"div.fr-temp-div\").each(function () {\n          this.previousSibling && this.previousSibling.nodeType === Node.TEXT_NODE && Ee(this).before(\"<br>\"), Ee(this).attr(\"data-empty\") || !this.nextSibling || N.node.isBlock(this.nextSibling) && !Ee(this.nextSibling).hasClass(\"fr-temp-div\") ? Ee(this).replaceWith(Ee(this).html()) : Ee(this).replaceWith(Ee(this).html() + \"<br>\");\n        }), N.$el.find(\".fr-temp-div\").removeClass(\"fr-temp-div\").filter(function () {\n          return \"\" === Ee(this).attr(\"class\");\n        }).removeAttr(\"class\");\n      },\n      escapeEntities: function escapeEntities(e) {\n        return e.replace(/</gi, \"&lt;\").replace(/>/gi, \"&gt;\").replace(/\"/gi, \"&quot;\").replace(/'/gi, \"&#39;\");\n      },\n      checkIfEmpty: i,\n      extractNode: h,\n      extractNodeAttrs: g,\n      extractDoctype: m,\n      cleanBRs: function cleanBRs() {\n        for (var e = N.el.getElementsByTagName(\"br\"), t = 0; t < e.length; t++) {\n          d(e[t]);\n        }\n      },\n      _init: function _init() {\n        if (N.$wp) {\n          var e = function e() {\n            E(), N.placeholder && setTimeout(N.placeholder.refresh, 0);\n          };\n\n          N.events.on(\"mouseup\", e), N.events.on(\"keydown\", e), N.events.on(\"contentChanged\", i);\n        }\n      }\n    };\n  }, Ee.extend(Ee.FE.DEFAULTS, {\n    height: null,\n    heightMax: null,\n    heightMin: null,\n    width: null\n  }), Ee.FE.MODULES.size = function (e) {\n    function t() {\n      n(), e.opts.height && e.$el.css(\"minHeight\", e.opts.height - e.helpers.getPX(e.$el.css(\"padding-top\")) - e.helpers.getPX(e.$el.css(\"padding-bottom\"))), e.$iframe.height(e.$el.outerHeight(!0));\n    }\n\n    function n() {\n      e.opts.heightMin ? e.$el.css(\"minHeight\", e.opts.heightMin) : e.$el.css(\"minHeight\", \"\"), e.opts.heightMax ? (e.$wp.css(\"maxHeight\", e.opts.heightMax), e.$wp.css(\"overflow\", \"auto\")) : (e.$wp.css(\"maxHeight\", \"\"), e.$wp.css(\"overflow\", \"\")), e.opts.height ? (e.$wp.height(e.opts.height), e.$wp.css(\"overflow\", \"auto\"), e.$el.css(\"minHeight\", e.opts.height - e.helpers.getPX(e.$el.css(\"padding-top\")) - e.helpers.getPX(e.$el.css(\"padding-bottom\")))) : (e.$wp.css(\"height\", \"\"), e.opts.heightMin || e.$el.css(\"minHeight\", \"\"), e.opts.heightMax || e.$wp.css(\"overflow\", \"\")), e.opts.width && e.$box.width(e.opts.width);\n    }\n\n    return {\n      _init: function _init() {\n        if (!e.$wp) return !1;\n        n(), e.$iframe && (e.events.on(\"keyup keydown\", function () {\n          setTimeout(t, 0);\n        }, !0), e.events.on(\"commands.after html.set init initialized paste.after\", t));\n      },\n      syncIframe: t,\n      refresh: n\n    };\n  }, Ee.extend(Ee.FE.DEFAULTS, {\n    language: null\n  }), Ee.FE.LANGUAGE = {}, Ee.FE.MODULES.language = function (e) {\n    var t;\n    return {\n      _init: function _init() {\n        Ee.FE.LANGUAGE && (t = Ee.FE.LANGUAGE[e.opts.language]), t && t.direction && (e.opts.direction = t.direction);\n      },\n      translate: function translate(e) {\n        return t && t.translation[e] && t.translation[e].length ? t.translation[e] : e;\n      }\n    };\n  }, Ee.extend(Ee.FE.DEFAULTS, {\n    placeholderText: \"Type something\"\n  }), Ee.FE.MODULES.placeholder = function (f) {\n    function e() {\n      f.$placeholder || (f.$placeholder = Ee('<span class=\"fr-placeholder\"></span>'), f.$wp.append(f.$placeholder));\n      var e = f.opts.iframe ? f.$iframe.prev().outerHeight(!0) : f.$el.prev().outerHeight(!0),\n          t = 0,\n          n = 0,\n          r = 0,\n          i = 0,\n          a = 0,\n          o = 0,\n          s = f.node.contents(f.el),\n          l = Ee(f.selection.element()).css(\"text-align\");\n\n      if (s.length && s[0].nodeType == Node.ELEMENT_NODE) {\n        var d = Ee(s[0]);\n        (!f.opts.toolbarInline || 0 < f.$el.prev().length) && f.ready && (t = f.helpers.getPX(d.css(\"margin-top\")), i = f.helpers.getPX(d.css(\"padding-top\")), n = f.helpers.getPX(d.css(\"margin-left\")), r = f.helpers.getPX(d.css(\"margin-right\")), a = f.helpers.getPX(d.css(\"padding-left\")), o = f.helpers.getPX(d.css(\"padding-right\"))), f.$placeholder.css(\"font-size\", d.css(\"font-size\")), f.$placeholder.css(\"line-height\", d.css(\"line-height\"));\n      } else f.$placeholder.css(\"font-size\", f.$el.css(\"font-size\")), f.$placeholder.css(\"line-height\", f.$el.css(\"line-height\"));\n\n      if (f.$wp.addClass(\"show-placeholder\"), f.$placeholder.css({\n        marginTop: Math.max(f.helpers.getPX(f.$el.css(\"margin-top\")), t) + (e || 0),\n        paddingTop: Math.max(f.helpers.getPX(f.$el.css(\"padding-top\")), i),\n        paddingLeft: Math.max(f.helpers.getPX(f.$el.css(\"padding-left\")), a),\n        marginLeft: Math.max(f.helpers.getPX(f.$el.css(\"margin-left\")), n),\n        paddingRight: Math.max(f.helpers.getPX(f.$el.css(\"padding-right\")), o),\n        marginRight: Math.max(f.helpers.getPX(f.$el.css(\"margin-right\")), r),\n        textAlign: l\n      }).text(f.language.translate(f.opts.placeholderText || f.$oel.attr(\"placeholder\") || \"\")), f.$placeholder.html(f.$placeholder.text().replace(/\\n/g, \"<br>\")), f.size.refresh(), f.$placeholder.height() > f.$el.height()) {\n        var c = f.opts.heightMin;\n        f.opts.heightMin = f.$placeholder.height() + f.$tb ? f.$tb.height() : 0, f.size.refresh(), f.opts.heightMin = c;\n      }\n    }\n\n    function t() {\n      f.$wp.removeClass(\"show-placeholder\"), f.size.refresh();\n    }\n\n    function n() {\n      if (!f.$wp) return !1;\n      f.core.isEmpty() ? e() : t();\n    }\n\n    return {\n      _init: function _init() {\n        if (!f.$wp) return !1;\n        f.events.on(\"init input keydown keyup contentChanged initialized\", n);\n      },\n      show: e,\n      hide: t,\n      refresh: n,\n      isVisible: function isVisible() {\n        return !!f.$wp && f.node.hasClass(f.$wp.get(0), \"show-placeholder\");\n      }\n    };\n  }, Ee.FE.MODULES.edit = function (t) {\n    function e() {\n      if (t.browser.mozilla) try {\n        t.doc.execCommand(\"enableObjectResizing\", !1, \"false\"), t.doc.execCommand(\"enableInlineTableEditing\", !1, \"false\");\n      } catch (e) {}\n      if (t.browser.msie) try {\n        t.doc.body.addEventListener(\"mscontrolselect\", function (e) {\n          return e.preventDefault(), !1;\n        });\n      } catch (e) {}\n    }\n\n    var n = !1;\n\n    function r() {\n      return n;\n    }\n\n    return {\n      _init: function _init() {\n        t.events.on(\"focus\", function () {\n          r() ? t.edit.off() : t.edit.on();\n        });\n      },\n      on: function on() {\n        t.$wp ? (t.$el.attr(\"contenteditable\", !0), t.$el.removeClass(\"fr-disabled\").attr(\"aria-disabled\", !1), t.$tb && t.$tb.removeClass(\"fr-disabled\").removeAttr(\"aria-disabled\"), e()) : t.$el.is(\"a\") && t.$el.attr(\"contenteditable\", !0), n = !1;\n      },\n      off: function off() {\n        t.events.disableBlur(), t.$wp ? (t.$el.attr(\"contenteditable\", !1), t.$el.addClass(\"fr-disabled\").attr(\"aria-disabled\", !0), t.$tb && t.$tb.addClass(\"fr-disabled\").attr(\"aria-disabled\", !0)) : t.$el.is(\"a\") && t.$el.attr(\"contenteditable\", !1), t.events.enableBlur(), n = !0;\n      },\n      disableDesign: e,\n      isDisabled: r\n    };\n  }, Ee.extend(Ee.FE.DEFAULTS, {\n    documentReady: !1,\n    editorClass: null,\n    typingTimer: 500,\n    iframe: !1,\n    requestWithCORS: !0,\n    requestWithCredentials: !1,\n    requestHeaders: {},\n    useClasses: !0,\n    spellcheck: !0,\n    iframeDefaultStyle: 'html{margin:0px;height:auto;}body{height:auto;padding:10px;background:transparent;color:#000000;position:relative;z-index: 2;-webkit-user-select:auto;margin:0px;overflow:hidden;min-height:20px;}body:after{content:\"\";display:block;clear:both;}body::-moz-selection{background:#b5d6fd;color:#000;}body::selection{background:#b5d6fd;color:#000;}',\n    iframeStyle: \"\",\n    iframeStyleFiles: [],\n    direction: \"auto\",\n    zIndex: 1,\n    tabIndex: null,\n    disableRightClick: !1,\n    scrollableContainer: \"body\",\n    keepFormatOnDelete: !1,\n    theme: null\n  }), Ee.FE.MODULES.core = function (a) {\n    function t() {\n      if (a.$box.addClass(\"fr-box\" + (a.opts.editorClass ? \" \" + a.opts.editorClass : \"\")), a.$box.attr(\"role\", \"application\"), a.$wp.addClass(\"fr-wrapper\"), a.opts.documentReady && a.$box.addClass(\"fr-document\"), a.opts.iframe || a.$el.addClass(\"fr-element fr-view\"), a.opts.iframe) {\n        a.$iframe.addClass(\"fr-iframe\"), a.$el.addClass(\"fr-view\");\n\n        for (var e = 0; e < a.o_doc.styleSheets.length; e++) {\n          var t;\n\n          try {\n            t = a.o_doc.styleSheets[e].cssRules;\n          } catch (i) {}\n\n          if (t) for (var n = 0, r = t.length; n < r; n++) {\n            !t[n].selectorText || 0 !== t[n].selectorText.indexOf(\".fr-view\") && 0 !== t[n].selectorText.indexOf(\".fr-element\") || 0 < t[n].style.cssText.length && (0 === t[n].selectorText.indexOf(\".fr-view\") ? a.opts.iframeStyle += t[n].selectorText.replace(/\\.fr-view/g, \"body\") + \"{\" + t[n].style.cssText + \"}\" : a.opts.iframeStyle += t[n].selectorText.replace(/\\.fr-element/g, \"body\") + \"{\" + t[n].style.cssText + \"}\");\n          }\n        }\n      }\n\n      \"auto\" != a.opts.direction && a.$box.removeClass(\"fr-ltr fr-rtl\").addClass(\"fr-\" + a.opts.direction), a.$el.attr(\"dir\", a.opts.direction), a.$wp.attr(\"dir\", a.opts.direction), 1 < a.opts.zIndex && a.$box.css(\"z-index\", a.opts.zIndex), a.opts.theme && a.$box.addClass(a.opts.theme + \"-theme\"), a.opts.tabIndex = a.opts.tabIndex || a.$oel.attr(\"tabIndex\"), a.opts.tabIndex && a.$el.attr(\"tabIndex\", a.opts.tabIndex);\n    }\n\n    return {\n      _init: function _init() {\n        if (Ee.FE.INSTANCES.push(a), a.drag_support = {\n          filereader: \"undefined\" != typeof FileReader,\n          formdata: !!a.win.FormData,\n          progress: \"upload\" in new XMLHttpRequest()\n        }, a.$wp) {\n          t(), a.html.set(a._original_html), a.$el.attr(\"spellcheck\", a.opts.spellcheck), a.helpers.isMobile() && (a.$el.attr(\"autocomplete\", a.opts.spellcheck ? \"on\" : \"off\"), a.$el.attr(\"autocorrect\", a.opts.spellcheck ? \"on\" : \"off\"), a.$el.attr(\"autocapitalize\", a.opts.spellcheck ? \"on\" : \"off\")), a.opts.disableRightClick && a.events.$on(a.$el, \"contextmenu\", function (e) {\n            if (2 == e.button) return !1;\n          });\n\n          try {\n            a.doc.execCommand(\"styleWithCSS\", !1, !1);\n          } catch (e) {}\n        }\n\n        \"TEXTAREA\" == a.$oel.get(0).tagName && (a.events.on(\"contentChanged\", function () {\n          a.$oel.val(a.html.get());\n        }), a.events.on(\"form.submit\", function () {\n          a.$oel.val(a.html.get());\n        }), a.events.on(\"form.reset\", function () {\n          a.html.set(a._original_html);\n        }), a.$oel.val(a.html.get())), a.helpers.isIOS() && a.events.$on(a.$doc, \"selectionchange\", function () {\n          a.$doc.get(0).hasFocus() || a.$win.get(0).focus();\n        }), a.events.trigger(\"init\"), a.opts.autofocus && !a.opts.initOnClick && a.$wp && a.events.on(\"initialized\", function () {\n          a.events.focus(!0);\n        });\n      },\n      destroy: function destroy(e) {\n        \"TEXTAREA\" == a.$oel.get(0).tagName && a.$oel.val(e), a.$box && a.$box.removeAttr(\"role\"), a.$wp && (\"TEXTAREA\" == a.$oel.get(0).tagName ? (a.$el.html(\"\"), a.$wp.html(\"\"), a.$box.replaceWith(a.$oel), a.$oel.show()) : (a.$wp.replaceWith(e), a.$el.html(\"\"), a.$box.removeClass(\"fr-view fr-ltr fr-box \" + (a.opts.editorClass || \"\")), a.opts.theme && a.$box.addClass(a.opts.theme + \"-theme\"))), this.$wp = null, this.$el = null, this.el = null, this.$box = null;\n      },\n      isEmpty: function isEmpty() {\n        return a.node.isEmpty(a.el);\n      },\n      getXHR: function getXHR(e, t) {\n        var n = new XMLHttpRequest();\n\n        for (var r in n.open(t, e, !0), a.opts.requestWithCredentials && (n.withCredentials = !0), a.opts.requestHeaders) {\n          a.opts.requestHeaders.hasOwnProperty(r) && n.setRequestHeader(r, a.opts.requestHeaders[r]);\n        }\n\n        return n;\n      },\n      injectStyle: function injectStyle(e) {\n        if (a.opts.iframe) {\n          a.$head.find(\"style[data-fr-style], link[data-fr-style]\").remove(), a.$head.append('<style data-fr-style=\"true\">' + e + \"</style>\");\n\n          for (var t = 0; t < a.opts.iframeStyleFiles.length; t++) {\n            var n = Ee('<link data-fr-style=\"true\" rel=\"stylesheet\" href=\"' + a.opts.iframeStyleFiles[t] + '\">');\n            n.get(0).addEventListener(\"load\", a.size.syncIframe), a.$head.append(n);\n          }\n        }\n      },\n      hasFocus: function hasFocus() {\n        return a.browser.mozilla && a.helpers.isMobile() ? a.selection.inEditor() : a.node.hasFocus(a.el) || 0 < a.$el.find(\"*:focus\").length;\n      },\n      sameInstance: function sameInstance(e) {\n        if (!e) return !1;\n        var t = e.data(\"instance\");\n        return !!t && t.id == a.id;\n      }\n    };\n  }, Ee.FE.MODULES.cursorLists = function (g) {\n    function m(e) {\n      for (var t = e; \"LI\" != t.tagName;) {\n        t = t.parentNode;\n      }\n\n      return t;\n    }\n\n    function v(e) {\n      for (var t = e; !g.node.isList(t);) {\n        t = t.parentNode;\n      }\n\n      return t;\n    }\n\n    return {\n      _startEnter: function _startEnter(e) {\n        var t,\n            n = m(e),\n            r = n.nextSibling,\n            i = n.previousSibling,\n            a = g.html.defaultTag();\n\n        if (g.node.isEmpty(n, !0) && r) {\n          for (var o = \"\", s = \"\", l = e.parentNode; !g.node.isList(l) && l.parentNode && (\"LI\" !== l.parentNode.tagName || l.parentNode === n);) {\n            o = g.node.openTagString(l) + o, s += g.node.closeTagString(l), l = l.parentNode;\n          }\n\n          o = g.node.openTagString(l) + o, s += g.node.closeTagString(l);\n          var d = \"\";\n\n          for (d = l.parentNode && \"LI\" == l.parentNode.tagName ? s + \"<li>\" + Ee.FE.MARKERS + \"<br>\" + o : a ? s + \"<\" + a + \">\" + Ee.FE.MARKERS + \"<br></\" + a + \">\" + o : s + Ee.FE.MARKERS + \"<br>\" + o; [\"UL\", \"OL\"].indexOf(l.tagName) < 0 || l.parentNode && \"LI\" === l.parentNode.tagName;) {\n            l = l.parentNode;\n          }\n\n          Ee(n).replaceWith('<span id=\"fr-break\"></span>');\n          var c = g.node.openTagString(l) + Ee(l).html() + g.node.closeTagString(l);\n          c = c.replace(/<span id=\"fr-break\"><\\/span>/g, d), Ee(l).replaceWith(c), g.$el.find(\"li:empty\").remove();\n        } else if (i && r || !g.node.isEmpty(n, !0)) {\n          for (var f = \"<br>\", p = e.parentNode; p && \"LI\" != p.tagName;) {\n            f = g.node.openTagString(p) + f + g.node.closeTagString(p), p = p.parentNode;\n          }\n\n          Ee(n).before(\"<li>\" + f + \"</li>\"), Ee(e).remove();\n        } else if (i) {\n          t = v(n);\n\n          for (var u = Ee.FE.MARKERS + \"<br>\", h = e.parentNode; h && \"LI\" != h.tagName;) {\n            u = g.node.openTagString(h) + u + g.node.closeTagString(h), h = h.parentNode;\n          }\n\n          t.parentNode && \"LI\" == t.parentNode.tagName ? Ee(t.parentNode).after(\"<li>\" + u + \"</li>\") : a ? Ee(t).after(\"<\" + a + \">\" + u + \"</\" + a + \">\") : Ee(t).after(u), Ee(n).remove();\n        } else (t = v(n)).parentNode && \"LI\" == t.parentNode.tagName ? r ? Ee(t.parentNode).before(g.node.openTagString(n) + Ee.FE.MARKERS + \"<br></li>\") : Ee(t.parentNode).after(g.node.openTagString(n) + Ee.FE.MARKERS + \"<br></li>\") : a ? Ee(t).before(\"<\" + a + \">\" + Ee.FE.MARKERS + \"<br></\" + a + \">\") : Ee(t).before(Ee.FE.MARKERS + \"<br>\"), Ee(n).remove();\n      },\n      _middleEnter: function _middleEnter(e) {\n        for (var t = m(e), n = \"\", r = e, i = \"\", a = \"\"; r != t;) {\n          var o = \"A\" == (r = r.parentNode).tagName && g.cursor.isAtEnd(e, r) ? \"fr-to-remove\" : \"\";\n          i = g.node.openTagString(Ee(r).clone().addClass(o).get(0)) + i, a = g.node.closeTagString(r) + a;\n        }\n\n        n = a + n + i + Ee.FE.MARKERS + (g.opts.keepFormatOnDelete ? Ee.FE.INVISIBLE_SPACE : \"\"), Ee(e).replaceWith('<span id=\"fr-break\"></span>');\n        var s = g.node.openTagString(t) + Ee(t).html() + g.node.closeTagString(t);\n        s = s.replace(/<span id=\"fr-break\"><\\/span>/g, n), Ee(t).replaceWith(s);\n      },\n      _endEnter: function _endEnter(e) {\n        for (var t = m(e), n = Ee.FE.MARKERS, r = \"\", i = e, a = !1; i != t;) {\n          var o = \"A\" == (i = i.parentNode).tagName && g.cursor.isAtEnd(e, i) ? \"fr-to-remove\" : \"\";\n          a || i == t || g.node.isBlock(i) || (a = !0, r += Ee.FE.INVISIBLE_SPACE), r = g.node.openTagString(Ee(i).clone().addClass(o).get(0)) + r, n += g.node.closeTagString(i);\n        }\n\n        var s = r + n;\n        Ee(e).remove(), Ee(t).after(s);\n      },\n      _backspace: function _backspace(e) {\n        var t = m(e),\n            n = t.previousSibling;\n\n        if (n) {\n          n = Ee(n).find(g.html.blockTagsQuery()).get(-1) || n, Ee(e).replaceWith(Ee.FE.MARKERS);\n          var r = g.node.contents(n);\n          r.length && \"BR\" == r[r.length - 1].tagName && Ee(r[r.length - 1]).remove(), Ee(t).find(g.html.blockTagsQuery()).not(\"ol, ul, table\").each(function () {\n            this.parentNode == t && Ee(this).replaceWith(Ee(this).html() + (g.node.isEmpty(this) ? \"\" : \"<br>\"));\n          });\n\n          for (var i, a = g.node.contents(t)[0]; a && !g.node.isList(a);) {\n            i = a.nextSibling, Ee(n).append(a), a = i;\n          }\n\n          for (n = t.previousSibling; a;) {\n            i = a.nextSibling, Ee(n).append(a), a = i;\n          }\n\n          1 < (r = g.node.contents(n)).length && \"BR\" === r[r.length - 1].tagName && Ee(r[r.length - 1]).remove(), Ee(t).remove();\n        } else {\n          var o = v(t);\n\n          if (Ee(e).replaceWith(Ee.FE.MARKERS), o.parentNode && \"LI\" == o.parentNode.tagName) {\n            var s = o.previousSibling;\n            g.node.isBlock(s) ? (Ee(t).find(g.html.blockTagsQuery()).not(\"ol, ul, table\").each(function () {\n              this.parentNode == t && Ee(this).replaceWith(Ee(this).html() + (g.node.isEmpty(this) ? \"\" : \"<br>\"));\n            }), Ee(s).append(Ee(t).html())) : Ee(o).before(Ee(t).html());\n          } else {\n            var l = g.html.defaultTag();\n            l && 0 === Ee(t).find(g.html.blockTagsQuery()).length ? Ee(o).before(\"<\" + l + \">\" + Ee(t).html() + \"</\" + l + \">\") : Ee(o).before(Ee(t).html());\n          }\n\n          Ee(t).remove(), g.html.wrap(), 0 === Ee(o).find(\"li\").length && Ee(o).remove();\n        }\n      },\n      _del: function _del(e) {\n        var t,\n            n = m(e),\n            r = n.nextSibling;\n\n        if (r) {\n          (t = g.node.contents(r)).length && \"BR\" == t[0].tagName && Ee(t[0]).remove(), Ee(r).find(g.html.blockTagsQuery()).not(\"ol, ul, table\").each(function () {\n            this.parentNode == r && Ee(this).replaceWith(Ee(this).html() + (g.node.isEmpty(this) ? \"\" : \"<br>\"));\n          });\n\n          for (var i, a = e, o = g.node.contents(r)[0]; o && !g.node.isList(o);) {\n            i = o.nextSibling, Ee(a).after(o), a = o, o = i;\n          }\n\n          for (; o;) {\n            i = o.nextSibling, Ee(n).append(o), o = i;\n          }\n\n          Ee(e).replaceWith(Ee.FE.MARKERS), Ee(r).remove();\n        } else {\n          for (var s = n; !s.nextSibling && s != g.el;) {\n            s = s.parentNode;\n          }\n\n          if (s == g.el) return !1;\n          if (s = s.nextSibling, g.node.isBlock(s)) Ee.FE.NO_DELETE_TAGS.indexOf(s.tagName) < 0 && (Ee(e).replaceWith(Ee.FE.MARKERS), (t = g.node.contents(n)).length && \"BR\" == t[t.length - 1].tagName && Ee(t[t.length - 1]).remove(), Ee(n).append(Ee(s).html()), Ee(s).remove());else for ((t = g.node.contents(n)).length && \"BR\" == t[t.length - 1].tagName && Ee(t[t.length - 1]).remove(), Ee(e).replaceWith(Ee.FE.MARKERS); s && !g.node.isBlock(s) && \"BR\" != s.tagName;) {\n            Ee(n).append(Ee(s)), s = s.nextSibling;\n          }\n        }\n      }\n    };\n  }, Ee.FE.NO_DELETE_TAGS = [\"TH\", \"TD\", \"TR\", \"TABLE\", \"FORM\"], Ee.FE.SIMPLE_ENTER_TAGS = [\"TH\", \"TD\", \"LI\", \"DL\", \"DT\", \"FORM\"], Ee.FE.MODULES.cursor = function (u) {\n    function a(e) {\n      return !!e && (!!u.node.isBlock(e) || (e.nextSibling && e.nextSibling.nodeType == Node.TEXT_NODE && 0 === e.nextSibling.textContent.replace(/\\u200b/g, \"\").length ? a(e.nextSibling) : !(e.nextSibling && (!e.previousSibling || \"BR\" != e.nextSibling.tagName || e.nextSibling.nextSibling)) && a(e.parentNode)));\n    }\n\n    function o(e) {\n      return !!e && (!!u.node.isBlock(e) || (e.previousSibling && e.previousSibling.nodeType == Node.TEXT_NODE && 0 === e.previousSibling.textContent.replace(/\\u200b/g, \"\").length ? o(e.previousSibling) : !e.previousSibling && (!(e.previousSibling || !u.node.hasClass(e.parentNode, \"fr-inner\")) || o(e.parentNode))));\n    }\n\n    function h(e, t) {\n      return !!e && e != u.$wp.get(0) && (e.previousSibling && e.previousSibling.nodeType == Node.TEXT_NODE && 0 === e.previousSibling.textContent.replace(/\\u200b/g, \"\").length ? h(e.previousSibling, t) : !e.previousSibling && (e.parentNode == t || h(e.parentNode, t)));\n    }\n\n    function g(e, t) {\n      return !!e && e != u.$wp.get(0) && (e.nextSibling && e.nextSibling.nodeType == Node.TEXT_NODE && 0 === e.nextSibling.textContent.replace(/\\u200b/g, \"\").length ? g(e.nextSibling, t) : !(e.nextSibling && (!e.previousSibling || \"BR\" != e.nextSibling.tagName || e.nextSibling.nextSibling)) && (e.parentNode == t || g(e.parentNode, t)));\n    }\n\n    function s(e) {\n      return 0 < Ee(e).parentsUntil(u.$el, \"LI\").length && 0 === Ee(e).parentsUntil(\"LI\", \"TABLE\").length;\n    }\n\n    function d(e, t) {\n      var n = new RegExp((t ? \"^\" : \"\") + \"(([\\\\uD83C-\\\\uDBFF\\\\uDC00-\\\\uDFFF]+\\\\u200D)*[\\\\uD83C-\\\\uDBFF\\\\uDC00-\\\\uDFFF]{2})\" + (t ? \"\" : \"$\"), \"i\"),\n          r = e.match(n);\n      return r ? r[0].length : 1;\n    }\n\n    function c(e) {\n      for (var t, n = e; !n.previousSibling;) {\n        if (n = n.parentNode, u.node.isElement(n)) return !1;\n      }\n\n      if (n = n.previousSibling, !u.node.isBlock(n) && u.node.isEditable(n)) {\n        for (t = u.node.contents(n); n.nodeType != Node.TEXT_NODE && !u.node.isDeletable(n) && t.length && u.node.isEditable(n);) {\n          n = t[t.length - 1], t = u.node.contents(n);\n        }\n\n        if (n.nodeType == Node.TEXT_NODE) {\n          var r = n.textContent,\n              i = r.length;\n          if (r.length && \"\\n\" === r[r.length - 1]) return n.textContent = r.substring(0, i - 2), 0 === n.textContent.length && n.parentNode.removeChild(n), c(e);\n          if (u.opts.tabSpaces && r.length >= u.opts.tabSpaces) 0 === r.substr(r.length - u.opts.tabSpaces, r.length - 1).replace(/ /g, \"\").replace(new RegExp(Ee.FE.UNICODE_NBSP, \"g\"), \"\").length && (i = r.length - u.opts.tabSpaces + 1);\n          n.textContent = r.substring(0, i - d(r)), u.opts.htmlUntouched && !e.nextSibling && n.textContent.length && \" \" === n.textContent[n.textContent.length - 1] && (n.textContent = n.textContent.substring(0, n.textContent.length - 1) + Ee.FE.UNICODE_NBSP);\n          var a = r.length != n.textContent.length;\n          if (0 === n.textContent.length) {\n            if (a && u.opts.keepFormatOnDelete) Ee(n).after(Ee.FE.INVISIBLE_SPACE + Ee.FE.MARKERS);else if ((2 != n.parentNode.childNodes.length || n.parentNode != e.parentNode) && 1 != n.parentNode.childNodes.length || u.node.isBlock(n.parentNode) || u.node.isElement(n.parentNode) || !u.node.isDeletable(n.parentNode)) {\n              for (; !u.node.isElement(n.parentNode) && u.node.isEmpty(n.parentNode) && Ee.FE.NO_DELETE_TAGS.indexOf(n.parentNode.tagName) < 0;) {\n                var o = n;\n                n = n.parentNode, o.parentNode.removeChild(o);\n              }\n\n              Ee(n).after(Ee.FE.MARKERS), u.node.isElement(n.parentNode) && !e.nextSibling && n.previousSibling && \"BR\" == n.previousSibling.tagName && Ee(e).after(\"<br>\"), n.parentNode.removeChild(n);\n            } else Ee(n.parentNode).after(Ee.FE.MARKERS), Ee(n.parentNode).remove();\n          } else Ee(n).after(Ee.FE.MARKERS);\n        } else u.node.isDeletable(n) ? (Ee(n).after(Ee.FE.MARKERS), Ee(n).remove()) : e.nextSibling && \"BR\" == e.nextSibling.tagName && u.node.isVoid(n) && \"BR\" != n.tagName ? (Ee(e.nextSibling).remove(), Ee(e).replaceWith(Ee.FE.MARKERS)) : !1 !== u.events.trigger(\"node.remove\", [Ee(n)]) && (Ee(n).after(Ee.FE.MARKERS), Ee(n).remove());\n      } else if (Ee.FE.NO_DELETE_TAGS.indexOf(n.tagName) < 0 && (u.node.isEditable(n) || u.node.isDeletable(n))) {\n        if (u.node.isDeletable(n)) Ee(e).replaceWith(Ee.FE.MARKERS), Ee(n).remove();else if (u.node.isEmpty(n) && !u.node.isList(n)) Ee(n).remove(), Ee(e).replaceWith(Ee.FE.MARKERS);else {\n          for (u.node.isList(n) && (n = Ee(n).find(\"li:last\").get(0)), (t = u.node.contents(n)) && \"BR\" == t[t.length - 1].tagName && Ee(t[t.length - 1]).remove(), t = u.node.contents(n); t && u.node.isBlock(t[t.length - 1]);) {\n            n = t[t.length - 1], t = u.node.contents(n);\n          }\n\n          Ee(n).append(Ee.FE.MARKERS);\n\n          for (var s = e; !s.previousSibling;) {\n            s = s.parentNode;\n          }\n\n          for (; s && \"BR\" !== s.tagName && !u.node.isBlock(s);) {\n            var l = s;\n            s = s.nextSibling, Ee(n).append(l);\n          }\n\n          s && \"BR\" == s.tagName && Ee(s).remove(), Ee(e).remove();\n        }\n      } else e.nextSibling && \"BR\" == e.nextSibling.tagName && Ee(e.nextSibling).remove();\n    }\n\n    function l(e) {\n      var t = 0 < Ee(e).parentsUntil(u.$el, \"BLOCKQUOTE\").length,\n          n = u.node.deepestParent(e, [], !t);\n\n      if (n && \"BLOCKQUOTE\" == n.tagName) {\n        var r = u.node.deepestParent(e, [Ee(e).parentsUntil(u.$el, \"BLOCKQUOTE\").get(0)]);\n        r && r.nextSibling && (n = r);\n      }\n\n      if (null !== n) {\n        var i,\n            a = n.nextSibling;\n        if (u.node.isBlock(n) && (u.node.isEditable(n) || u.node.isDeletable(n)) && a && Ee.FE.NO_DELETE_TAGS.indexOf(a.tagName) < 0) if (u.node.isDeletable(a)) Ee(a).remove(), Ee(e).replaceWith(Ee.FE.MARKERS);else if (u.node.isBlock(a) && u.node.isEditable(a)) {\n          if (u.node.isList(a)) {\n            if (u.node.isEmpty(n, !0)) Ee(n).remove(), Ee(a).find(\"li:first\").prepend(Ee.FE.MARKERS);else {\n              var o = Ee(a).find(\"li:first\");\n              \"BLOCKQUOTE\" == n.tagName && (i = u.node.contents(n)).length && u.node.isBlock(i[i.length - 1]) && (n = i[i.length - 1]), 0 === o.find(\"ul, ol\").length && (Ee(e).replaceWith(Ee.FE.MARKERS), o.find(u.html.blockTagsQuery()).not(\"ol, ul, table\").each(function () {\n                this.parentNode == o.get(0) && Ee(this).replaceWith(Ee(this).html() + (u.node.isEmpty(this) ? \"\" : \"<br>\"));\n              }), Ee(n).append(u.node.contents(o.get(0))), o.remove(), 0 === Ee(a).find(\"li\").length && Ee(a).remove());\n            }\n          } else {\n            if ((i = u.node.contents(a)).length && \"BR\" == i[0].tagName && Ee(i[0]).remove(), \"BLOCKQUOTE\" != a.tagName && \"BLOCKQUOTE\" == n.tagName) for (i = u.node.contents(n); i.length && u.node.isBlock(i[i.length - 1]);) {\n              n = i[i.length - 1], i = u.node.contents(n);\n            } else if (\"BLOCKQUOTE\" == a.tagName && \"BLOCKQUOTE\" != n.tagName) for (i = u.node.contents(a); i.length && u.node.isBlock(i[0]);) {\n              a = i[0], i = u.node.contents(a);\n            }\n            Ee(e).replaceWith(Ee.FE.MARKERS), Ee(n).append(a.innerHTML), Ee(a).remove();\n          }\n        } else {\n          for (Ee(e).replaceWith(Ee.FE.MARKERS); a && \"BR\" !== a.tagName && !u.node.isBlock(a) && u.node.isEditable(a);) {\n            var s = a;\n            a = a.nextSibling, Ee(n).append(s);\n          }\n\n          a && \"BR\" == a.tagName && u.node.isEditable(a) && Ee(a).remove();\n        }\n      }\n    }\n\n    function n(e) {\n      for (var t, n = e; !n.nextSibling;) {\n        if (n = n.parentNode, u.node.isElement(n)) return !1;\n      }\n\n      if (\"BR\" == (n = n.nextSibling).tagName && u.node.isEditable(n)) if (n.nextSibling) {\n        if (u.node.isBlock(n.nextSibling) && u.node.isEditable(n.nextSibling)) {\n          if (!(Ee.FE.NO_DELETE_TAGS.indexOf(n.nextSibling.tagName) < 0)) return void Ee(n).remove();\n          n = n.nextSibling, Ee(n.previousSibling).remove();\n        }\n      } else if (a(n)) {\n        if (s(e)) u.cursorLists._del(e);else u.node.deepestParent(n) && ((!u.node.isEmpty(u.node.blockParent(n)) || (u.node.blockParent(n).nextSibling && Ee.FE.NO_DELETE_TAGS.indexOf(u.node.blockParent(n).nextSibling.tagName)) < 0) && Ee(n).remove(), l(e));\n        return;\n      }\n\n      if (!u.node.isBlock(n) && u.node.isEditable(n)) {\n        for (t = u.node.contents(n); n.nodeType != Node.TEXT_NODE && t.length && !u.node.isDeletable(n) && u.node.isEditable(n);) {\n          n = t[0], t = u.node.contents(n);\n        }\n\n        n.nodeType == Node.TEXT_NODE ? (Ee(n).before(Ee.FE.MARKERS), n.textContent.length && (n.textContent = n.textContent.substring(d(n.textContent, !0), n.textContent.length))) : u.node.isDeletable(n) ? (Ee(n).before(Ee.FE.MARKERS), Ee(n).remove()) : !1 !== u.events.trigger(\"node.remove\", [Ee(n)]) && (Ee(n).before(Ee.FE.MARKERS), Ee(n).remove()), Ee(e).remove();\n      } else if (Ee.FE.NO_DELETE_TAGS.indexOf(n.tagName) < 0 && (u.node.isEditable(n) || u.node.isDeletable(n))) if (u.node.isDeletable(n)) Ee(e).replaceWith(Ee.FE.MARKERS), Ee(n).remove();else if (u.node.isList(n)) e.previousSibling ? (Ee(n).find(\"li:first\").prepend(e), u.cursorLists._backspace(e)) : (Ee(n).find(\"li:first\").prepend(Ee.FE.MARKERS), Ee(e).remove());else if ((t = u.node.contents(n)) && t.length && \"BR\" == t[0].tagName && Ee(t[0]).remove(), t && \"BLOCKQUOTE\" == n.tagName) {\n        var r = t[0];\n\n        for (Ee(e).before(Ee.FE.MARKERS); r && \"BR\" != r.tagName;) {\n          var i = r;\n          r = r.nextSibling, Ee(e).before(i);\n        }\n\n        r && \"BR\" == r.tagName && Ee(r).remove();\n      } else Ee(e).after(Ee(n).html()).after(Ee.FE.MARKERS), Ee(n).remove();\n    }\n\n    function f() {\n      for (var e = u.el.querySelectorAll(\"blockquote:empty\"), t = 0; t < e.length; t++) {\n        e[t].parentNode.removeChild(e[t]);\n      }\n    }\n\n    function p(e, t, n) {\n      var r,\n          i = u.node.deepestParent(e, [], !n);\n      if (i && \"BLOCKQUOTE\" == i.tagName) return g(e, i) ? (r = u.html.defaultTag(), t ? Ee(e).replaceWith(\"<br>\" + Ee.FE.MARKERS) : r ? Ee(i).after(\"<\" + r + \">\" + Ee.FE.MARKERS + \"<br></\" + r + \">\") : Ee(i).after(Ee.FE.MARKERS + \"<br>\"), Ee(e).remove()) : m(e, t, n), !1;\n      if (null == i) (r = u.html.defaultTag()) && u.node.isElement(e.parentNode) ? Ee(e).replaceWith(\"<\" + r + \">\" + Ee.FE.MARKERS + \"<br></\" + r + \">\") : !e.previousSibling || Ee(e.previousSibling).is(\"br\") || e.nextSibling ? Ee(e).replaceWith(\"<br>\" + Ee.FE.MARKERS) : Ee(e).replaceWith(\"<br>\" + Ee.FE.MARKERS + \"<br>\");else {\n        var a = e,\n            o = \"\";\n        \"PRE\" != i.tagName || e.nextSibling || (t = !0), u.node.isBlock(i) && !t || (o = \"<br/>\");\n        var s,\n            l = \"\",\n            d = \"\",\n            c = \"\",\n            f = \"\";\n        (r = u.html.defaultTag()) && u.node.isBlock(i) && (c = \"<\" + r + \">\", f = \"</\" + r + \">\", i.tagName == r.toUpperCase() && (c = u.node.openTagString(Ee(i).clone().removeAttr(\"id\").get(0))));\n\n        do {\n          if (a = a.parentNode, !t || a != i || t && !u.node.isBlock(i)) if (l += u.node.closeTagString(a), a == i && u.node.isBlock(i)) d = c + d;else {\n            var p = \"A\" == a.tagName && g(e, a) ? \"fr-to-remove\" : \"\";\n            d = u.node.openTagString(Ee(a).clone().addClass(p).get(0)) + d;\n          }\n        } while (a != i);\n\n        o = l + o + d + (e.parentNode == i && u.node.isBlock(i) ? \"\" : Ee.FE.INVISIBLE_SPACE) + Ee.FE.MARKERS, u.node.isBlock(i) && !Ee(i).find(\"*:last\").is(\"br\") && Ee(i).append(\"<br/>\"), Ee(e).after('<span id=\"fr-break\"></span>'), Ee(e).remove(), i.nextSibling && !u.node.isBlock(i.nextSibling) || u.node.isBlock(i) || Ee(i).after(\"<br>\"), s = (s = !t && u.node.isBlock(i) ? u.node.openTagString(i) + Ee(i).html() + f : u.node.openTagString(i) + Ee(i).html() + u.node.closeTagString(i)).replace(/<span id=\"fr-break\"><\\/span>/g, o), Ee(i).replaceWith(s);\n      }\n    }\n\n    function m(e, t, n) {\n      var r = u.node.deepestParent(e, [], !n);\n      if (null == r) u.html.defaultTag() && e.parentNode === u.el ? Ee(e).replaceWith(\"<\" + u.html.defaultTag() + \">\" + Ee.FE.MARKERS + \"<br></\" + u.html.defaultTag() + \">\") : (e.nextSibling && !u.node.isBlock(e.nextSibling) || Ee(e).after(\"<br>\"), Ee(e).replaceWith(\"<br>\" + Ee.FE.MARKERS));else {\n        var i = e,\n            a = \"\";\n        \"PRE\" == r.tagName && (t = !0), u.node.isBlock(r) && !t || (a = \"<br>\");\n        var o = \"\",\n            s = \"\";\n\n        do {\n          var l = i;\n          if (i = i.parentNode, \"BLOCKQUOTE\" == r.tagName && u.node.isEmpty(l) && !u.node.hasClass(l, \"fr-marker\") && 0 < Ee(l).find(e).length && Ee(l).after(e), \"BLOCKQUOTE\" != r.tagName || !g(e, i) && !h(e, i)) if (!t || i != r || t && !u.node.isBlock(r)) {\n            o += u.node.closeTagString(i);\n            var d = \"A\" == i.tagName && g(e, i) ? \"fr-to-remove\" : \"\";\n            s = u.node.openTagString(Ee(i).clone().addClass(d).removeAttr(\"id\").get(0)) + s;\n          } else \"BLOCKQUOTE\" == r.tagName && t && (s = o = \"\");\n        } while (i != r);\n\n        var c = r == e.parentNode && u.node.isBlock(r) || e.nextSibling;\n        if (\"BLOCKQUOTE\" == r.tagName) {\n          if (e.previousSibling && u.node.isBlock(e.previousSibling) && e.nextSibling && \"BR\" == e.nextSibling.tagName && (Ee(e.nextSibling).after(e), e.nextSibling && \"BR\" == e.nextSibling.tagName && Ee(e.nextSibling).remove()), t) a = o + a + Ee.FE.MARKERS + s;else {\n            var f = u.html.defaultTag();\n            a = o + a + (f ? \"<\" + f + \">\" : \"\") + Ee.FE.MARKERS + \"<br>\" + (f ? \"</\" + f + \">\" : \"\") + s;\n          }\n        } else a = o + a + s + (c ? \"\" : Ee.FE.INVISIBLE_SPACE) + Ee.FE.MARKERS;\n        Ee(e).replaceWith('<span id=\"fr-break\"></span>');\n        var p = u.node.openTagString(r) + Ee(r).html() + u.node.closeTagString(r);\n        p = p.replace(/<span id=\"fr-break\"><\\/span>/g, a), Ee(r).replaceWith(p);\n      }\n    }\n\n    return {\n      enter: function enter(t) {\n        var n = u.markers.insert();\n        if (!n) return !0;\n\n        for (var r = n.parentNode; r && !u.node.isElement(r);) {\n          if (\"false\" === r.getAttribute(\"contenteditable\")) return Ee(n).replaceWith(Ee.FE.MARKERS), u.selection.restore(), !1;\n          if (\"true\" === r.getAttribute(\"contenteditable\")) break;\n          r = r.parentNode;\n        }\n\n        u.el.normalize();\n        var i = !1;\n        0 < Ee(n).parentsUntil(u.$el, \"BLOCKQUOTE\").length && (i = !0), Ee(n).parentsUntil(u.$el, \"TD, TH\").length && (i = !1), a(n) ? !s(n) || t || i ? p(n, t, i) : u.cursorLists._endEnter(n) : o(n) ? !s(n) || t || i ? function e(t, n, r) {\n          var i,\n              a = u.node.deepestParent(t, [], !r);\n          if (a && \"TABLE\" == a.tagName) return Ee(a).find(\"td:first, th:first\").prepend(t), e(t, n, r);\n          if (a && \"BLOCKQUOTE\" == a.tagName) if (h(t, a)) {\n            if (!n) return (i = u.html.defaultTag()) ? Ee(a).before(\"<\" + i + \">\" + Ee.FE.MARKERS + \"<br></\" + i + \">\") : Ee(a).before(Ee.FE.MARKERS + \"<br>\"), Ee(t).remove(), !1;\n          } else g(t, a) ? p(t, n, !0) : m(t, n, !0);\n          if (null == a) (i = u.html.defaultTag()) && u.node.isElement(t.parentNode) ? Ee(t).replaceWith(\"<\" + i + \">\" + Ee.FE.MARKERS + \"<br></\" + i + \">\") : Ee(t).replaceWith(\"<br>\" + Ee.FE.MARKERS);else {\n            if (u.node.isBlock(a)) {\n              if (\"PRE\" == a.tagName && (n = !0), n) Ee(t).remove(), Ee(a).prepend(\"<br>\" + Ee.FE.MARKERS);else {\n                if (u.node.isEmpty(a, !0)) return p(t, n, r);\n\n                if (u.opts.keepFormatOnDelete) {\n                  for (var o = t, s = Ee.FE.INVISIBLE_SPACE; o != a && !u.node.isElement(o);) {\n                    o = o.parentNode, s = u.node.openTagString(o) + s + u.node.closeTagString(o);\n                  }\n\n                  Ee(a).before(s);\n                } else Ee(a).before(u.node.openTagString(Ee(a).clone().removeAttr(\"id\").get(0)) + \"<br>\" + u.node.closeTagString(a));\n              }\n            } else Ee(a).before(\"<br>\");\n            Ee(t).remove();\n          }\n        }(n, t, i) : u.cursorLists._startEnter(n) : !s(n) || t || i ? m(n, t, i) : u.cursorLists._middleEnter(n), u.$el.find(\".fr-to-remove\").each(function () {\n          for (var e = u.node.contents(this), t = 0; t < e.length; t++) {\n            e[t].nodeType == Node.TEXT_NODE && (e[t].textContent = e[t].textContent.replace(/\\u200B/g, \"\"));\n          }\n\n          Ee(this).replaceWith(this.innerHTML);\n        }), u.html.fillEmptyBlocks(!0), u.opts.htmlUntouched || (u.html.cleanEmptyTags(), u.clean.lists(), u.spaces.normalizeAroundCursor()), u.selection.restore();\n      },\n      backspace: function backspace() {\n        var e = !1,\n            t = u.markers.insert();\n        if (!t) return !0;\n\n        for (var n = t.parentNode; n && !u.node.isElement(n);) {\n          if (\"false\" === n.getAttribute(\"contenteditable\")) return Ee(t).replaceWith(Ee.FE.MARKERS), u.selection.restore(), !1;\n          if (\"true\" === n.getAttribute(\"contenteditable\")) break;\n          n = n.parentNode;\n        }\n\n        u.el.normalize();\n        var r = t.previousSibling;\n\n        if (r) {\n          var i = r.textContent;\n          i && i.length && 8203 == i.charCodeAt(i.length - 1) && (1 == i.length ? Ee(r).remove() : r.textContent = r.textContent.substr(0, i.length - d(i)));\n        }\n\n        return a(t) ? e = c(t) : o(t) ? s(t) && h(t, Ee(t).parents(\"li:first\").get(0)) ? u.cursorLists._backspace(t) : function (e) {\n          for (var t = 0 < Ee(e).parentsUntil(u.$el, \"BLOCKQUOTE\").length, n = u.node.deepestParent(e, [], !t), r = n; n && !n.previousSibling && \"BLOCKQUOTE\" != n.tagName && n.parentElement != u.el && !u.node.hasClass(n.parentElement, \"fr-inner\") && Ee.FE.SIMPLE_ENTER_TAGS.indexOf(n.parentElement.tagName) < 0;) {\n            n = n.parentElement;\n          }\n\n          if (n && \"BLOCKQUOTE\" == n.tagName) {\n            var i = u.node.deepestParent(e, [Ee(e).parentsUntil(u.$el, \"BLOCKQUOTE\").get(0)]);\n            i && i.previousSibling && (r = n = i);\n          }\n\n          if (null !== n) {\n            var a,\n                o = n.previousSibling;\n            if (u.node.isBlock(n) && u.node.isEditable(n)) if (o && Ee.FE.NO_DELETE_TAGS.indexOf(o.tagName) < 0) {\n              if (u.node.isDeletable(o)) Ee(o).remove(), Ee(e).replaceWith(Ee.FE.MARKERS);else if (u.node.isEditable(o)) if (u.node.isBlock(o)) {\n                if (u.node.isEmpty(o) && !u.node.isList(o)) Ee(o).remove(), Ee(e).after(u.opts.keepFormatOnDelete ? Ee.FE.INVISIBLE_SPACE : \"\");else {\n                  if (u.node.isList(o) && (o = Ee(o).find(\"li:last\").get(0)), (a = u.node.contents(o)).length && \"BR\" == a[a.length - 1].tagName && Ee(a[a.length - 1]).remove(), \"BLOCKQUOTE\" == o.tagName && \"BLOCKQUOTE\" != n.tagName) for (a = u.node.contents(o); a.length && u.node.isBlock(a[a.length - 1]);) {\n                    o = a[a.length - 1], a = u.node.contents(o);\n                  } else if (\"BLOCKQUOTE\" != o.tagName && \"BLOCKQUOTE\" == r.tagName) for (a = u.node.contents(r); a.length && u.node.isBlock(a[0]);) {\n                    r = a[0], a = u.node.contents(r);\n                  }\n                  if (u.node.isEmpty(n)) Ee(e).remove(), u.selection.setAtEnd(o, !0);else {\n                    Ee(e).replaceWith(Ee.FE.MARKERS);\n                    var s = o.childNodes;\n                    u.node.isBlock(s[s.length - 1]) ? Ee(s[s.length - 1]).append(r.innerHTML) : Ee(o).append(r.innerHTML);\n                  }\n                  Ee(r).remove(), u.node.isEmpty(n) && Ee(n).remove();\n                }\n              } else Ee(e).replaceWith(Ee.FE.MARKERS), \"BLOCKQUOTE\" == n.tagName && o.nodeType == Node.ELEMENT_NODE ? Ee(o).remove() : (Ee(o).after(u.node.isEmpty(n) ? \"\" : Ee(n).html()), Ee(n).remove(), \"BR\" == o.tagName && Ee(o).remove());\n            } else o || n && \"BLOCKQUOTE\" == n.tagName && 0 == Ee(n).text().replace(/\\u200B/g, \"\").length && Ee(n).remove();\n          }\n        }(t) : e = c(t), Ee(t).remove(), f(), u.html.fillEmptyBlocks(!0), u.opts.htmlUntouched || (u.html.cleanEmptyTags(), u.clean.lists(), u.spaces.normalizeAroundCursor()), u.selection.restore(), e;\n      },\n      del: function del() {\n        var e = u.markers.insert();\n        if (!e) return !1;\n        if (u.el.normalize(), a(e)) {\n          if (s(e)) {\n            if (0 === Ee(e).parents(\"li:first\").find(\"ul, ol\").length) u.cursorLists._del(e);else {\n              var t = Ee(e).parents(\"li:first\").find(\"ul:first, ol:first\").find(\"li:first\");\n              (t = t.find(u.html.blockTagsQuery()).get(-1) || t).prepend(e), u.cursorLists._backspace(e);\n            }\n          } else l(e);\n        } else o(e), n(e);\n        Ee(e).remove(), f(), u.html.fillEmptyBlocks(!0), u.opts.htmlUntouched || (u.html.cleanEmptyTags(), u.clean.lists()), u.spaces.normalizeAroundCursor(), u.selection.restore();\n      },\n      isAtEnd: g,\n      isAtStart: h\n    };\n  }, Ee.FE.ENTER_P = 0, Ee.FE.ENTER_DIV = 1, Ee.FE.ENTER_BR = 2, Ee.FE.KEYCODE = {\n    BACKSPACE: 8,\n    TAB: 9,\n    ENTER: 13,\n    SHIFT: 16,\n    CTRL: 17,\n    ALT: 18,\n    ESC: 27,\n    SPACE: 32,\n    ARROW_LEFT: 37,\n    ARROW_UP: 38,\n    ARROW_RIGHT: 39,\n    ARROW_DOWN: 40,\n    DELETE: 46,\n    ZERO: 48,\n    ONE: 49,\n    TWO: 50,\n    THREE: 51,\n    FOUR: 52,\n    FIVE: 53,\n    SIX: 54,\n    SEVEN: 55,\n    EIGHT: 56,\n    NINE: 57,\n    FF_SEMICOLON: 59,\n    FF_EQUALS: 61,\n    QUESTION_MARK: 63,\n    A: 65,\n    B: 66,\n    C: 67,\n    D: 68,\n    E: 69,\n    F: 70,\n    G: 71,\n    H: 72,\n    I: 73,\n    J: 74,\n    K: 75,\n    L: 76,\n    M: 77,\n    N: 78,\n    O: 79,\n    P: 80,\n    Q: 81,\n    R: 82,\n    S: 83,\n    T: 84,\n    U: 85,\n    V: 86,\n    W: 87,\n    X: 88,\n    Y: 89,\n    Z: 90,\n    META: 91,\n    NUM_ZERO: 96,\n    NUM_ONE: 97,\n    NUM_TWO: 98,\n    NUM_THREE: 99,\n    NUM_FOUR: 100,\n    NUM_FIVE: 101,\n    NUM_SIX: 102,\n    NUM_SEVEN: 103,\n    NUM_EIGHT: 104,\n    NUM_NINE: 105,\n    NUM_MULTIPLY: 106,\n    NUM_PLUS: 107,\n    NUM_MINUS: 109,\n    NUM_PERIOD: 110,\n    NUM_DIVISION: 111,\n    F1: 112,\n    F2: 113,\n    F3: 114,\n    F4: 115,\n    F5: 116,\n    F6: 117,\n    F7: 118,\n    F8: 119,\n    F9: 120,\n    F10: 121,\n    F11: 122,\n    F12: 123,\n    FF_HYPHEN: 173,\n    SEMICOLON: 186,\n    DASH: 189,\n    EQUALS: 187,\n    COMMA: 188,\n    HYPHEN: 189,\n    PERIOD: 190,\n    SLASH: 191,\n    APOSTROPHE: 192,\n    TILDE: 192,\n    SINGLE_QUOTE: 222,\n    OPEN_SQUARE_BRACKET: 219,\n    BACKSLASH: 220,\n    CLOSE_SQUARE_BRACKET: 221,\n    IME: 229\n  }, Ee.extend(Ee.FE.DEFAULTS, {\n    enter: Ee.FE.ENTER_P,\n    multiLine: !0,\n    tabSpaces: 0\n  }), Ee.FE.MODULES.keys = function (l) {\n    var d,\n        n,\n        r,\n        c = !1;\n\n    function e() {\n      if (l.browser.mozilla && l.selection.isCollapsed() && !c) {\n        var e = l.selection.ranges(0),\n            t = e.startContainer,\n            n = e.startOffset;\n        t && t.nodeType == Node.TEXT_NODE && n <= t.textContent.length && 0 < n && 32 == t.textContent.charCodeAt(n - 1) && (l.selection.save(), l.spaces.normalize(), l.selection.restore());\n      }\n    }\n\n    function t() {\n      l.selection.isFull() && setTimeout(function () {\n        var e = l.html.defaultTag();\n        e ? l.$el.html(\"<\" + e + \">\" + Ee.FE.MARKERS + \"<br/></\" + e + \">\") : l.$el.html(Ee.FE.MARKERS + \"<br/>\"), l.selection.restore(), l.placeholder.refresh(), l.button.bulkRefresh(), l.undo.saveStep();\n      }, 0);\n    }\n\n    function i() {\n      c = !1;\n    }\n\n    function a() {\n      c = !1;\n    }\n\n    function f() {\n      var e = l.html.defaultTag();\n      e ? l.$el.html(\"<\" + e + \">\" + Ee.FE.MARKERS + \"<br/></\" + e + \">\") : l.$el.html(Ee.FE.MARKERS + \"<br/>\"), l.selection.restore();\n    }\n\n    function o(e) {\n      var t = l.selection.element();\n      if (t && 0 <= [\"INPUT\", \"TEXTAREA\"].indexOf(t.tagName)) return !0;\n      if (e && g(e.which)) return p(), !0;\n      l.events.disableBlur(), null;\n      var n = e.which;\n      if (16 === n) return !0;\n      if ((d = n) === Ee.FE.KEYCODE.IME) return c = !0;\n      c = !1;\n      var r,\n          i,\n          a,\n          o = m(n) && !h(e) && !e.altKey,\n          s = n == Ee.FE.KEYCODE.BACKSPACE || n == Ee.FE.KEYCODE.DELETE;\n      if ((!(e.shiftKey && (33 === n || 34 === n || 35 === n || 36 === n)) && l.selection.isFull() && !l.opts.keepFormatOnDelete && !l.placeholder.isVisible() || s && l.placeholder.isVisible() && l.opts.keepFormatOnDelete) && (o || s) && (f(), !m(n))) return e.preventDefault(), !0;\n      n == Ee.FE.KEYCODE.ENTER ? e.shiftKey ? ((a = e).preventDefault(), a.stopPropagation(), l.opts.multiLine && (l.selection.isCollapsed() || l.selection.remove(), l.cursor.enter(!0))) : (i = e, l.opts.multiLine ? (l.helpers.isIOS() || (i.preventDefault(), i.stopPropagation()), l.selection.isCollapsed() || l.selection.remove(), l.cursor.enter()) : (i.preventDefault(), i.stopPropagation())) : n === Ee.FE.KEYCODE.BACKSPACE && (e.metaKey || e.ctrlKey) ? setTimeout(function () {\n        l.events.disableBlur(), l.events.focus();\n      }, 0) : n != Ee.FE.KEYCODE.BACKSPACE || h(e) || e.altKey ? n != Ee.FE.KEYCODE.DELETE || h(e) || e.altKey || e.shiftKey ? n == Ee.FE.KEYCODE.SPACE ? function (e) {\n        var t = l.selection.element();\n\n        if (!l.helpers.isMobile() && t && \"A\" == t.tagName) {\n          e.preventDefault(), e.stopPropagation(), l.selection.isCollapsed() || l.selection.remove();\n          var n = l.markers.insert();\n\n          if (n) {\n            var r = n.previousSibling;\n            !n.nextSibling && n.parentNode && \"A\" == n.parentNode.tagName ? (n.parentNode.insertAdjacentHTML(\"afterend\", \"&nbsp;\" + Ee.FE.MARKERS), n.parentNode.removeChild(n)) : (r && r.nodeType == Node.TEXT_NODE && 1 == r.textContent.length && 160 == r.textContent.charCodeAt(0) ? r.textContent = r.textContent + \" \" : n.insertAdjacentHTML(\"beforebegin\", \"&nbsp;\"), n.outerHTML = Ee.FE.MARKERS), l.selection.restore();\n          }\n        }\n      }(e) : n == Ee.FE.KEYCODE.TAB ? function (e) {\n        if (0 < l.opts.tabSpaces) if (l.selection.isCollapsed()) {\n          l.undo.saveStep(), e.preventDefault(), e.stopPropagation();\n\n          for (var t = \"\", n = 0; n < l.opts.tabSpaces; n++) {\n            t += \"&nbsp;\";\n          }\n\n          l.html.insert(t), l.placeholder.refresh(), l.undo.saveStep();\n        } else e.preventDefault(), e.stopPropagation(), e.shiftKey ? l.commands.outdent() : l.commands.indent();\n      }(e) : h(e) || !m(e.which) || l.selection.isCollapsed() || e.ctrlKey || e.altKey || l.selection.remove() : l.placeholder.isVisible() ? (l.opts.keepFormatOnDelete || f(), e.preventDefault(), e.stopPropagation()) : ((r = e).preventDefault(), r.stopPropagation(), \"\" === l.selection.text() ? l.cursor.del() : l.selection.remove(), l.placeholder.refresh()) : l.placeholder.isVisible() ? (l.opts.keepFormatOnDelete || f(), e.preventDefault(), e.stopPropagation()) : function (e) {\n        if (l.selection.isCollapsed()) {\n          if (l.cursor.backspace(), l.helpers.isIOS()) {\n            var t = l.selection.ranges(0);\n            t.deleteContents(), t.insertNode(document.createTextNode(\"\\u200B\")), l.selection.get().modify(\"move\", \"forward\", \"character\");\n          } else e.preventDefault(), e.stopPropagation();\n        } else e.preventDefault(), e.stopPropagation(), l.selection.remove();\n        l.placeholder.refresh();\n      }(e), l.events.enableBlur();\n    }\n\n    function s() {\n      if (!l.$wp) return !0;\n      var e;\n      l.opts.height || l.opts.heightMax ? (e = l.position.getBoundingRect().top, l.opts.iframe && (e += l.$iframe.offset().top), e > l.$wp.offset().top - l.helpers.scrollTop() + l.$wp.height() - 20 && l.$wp.scrollTop(e + l.$wp.scrollTop() - (l.$wp.height() + l.$wp.offset().top) + l.helpers.scrollTop() + 20)) : (e = l.position.getBoundingRect().top, l.opts.toolbarBottom && (e += l.opts.toolbarStickyOffset), l.opts.iframe && (e += l.$iframe.offset().top, e -= l.helpers.scrollTop()), (e += l.opts.toolbarStickyOffset) > l.o_win.innerHeight - 20 && Ee(l.o_win).scrollTop(e + l.helpers.scrollTop() - l.o_win.innerHeight + 20), e = l.position.getBoundingRect().top, l.opts.toolbarBottom || (e -= l.opts.toolbarStickyOffset), l.opts.iframe && (e += l.$iframe.offset().top, e -= l.helpers.scrollTop()), e < l.$tb.height() + 20 && Ee(l.o_win).scrollTop(e + l.helpers.scrollTop() - l.$tb.height() - 20));\n    }\n\n    function p() {\n      var e,\n          t = l.selection.element();\n      !function (e) {\n        if (!e) return !1;\n        var t = e.innerHTML;\n        return !!((t = t.replace(/<span[^>]*? class\\s*=\\s*[\"']?fr-marker[\"']?[^>]+>\\u200b<\\/span>/gi, \"\")) && /\\u200B/.test(t) && 0 < t.replace(/\\u200B/gi, \"\").length);\n      }(t) || l.node.hasClass(t, \"fr-marker\") || \"IFRAME\" == t.tagName || (e = t, l.helpers.isIOS() && 0 !== ((e.textContent || \"\").match(/[\\u3041-\\u3096\\u30A0-\\u30FF\\u4E00-\\u9FFF\\u3130-\\u318F\\uAC00-\\uD7AF]/gi) || []).length) || (l.selection.save(), function (e) {\n        for (var t = l.doc.createTreeWalker(e, NodeFilter.SHOW_TEXT, l.node.filter(function (e) {\n          return /\\u200B/gi.test(e.textContent);\n        }), !1); t.nextNode();) {\n          var n = t.currentNode;\n          n.textContent = n.textContent.replace(/\\u200B/gi, \"\");\n        }\n      }(t), l.selection.restore());\n    }\n\n    function u(e) {\n      var t = l.selection.element();\n      if (t && 0 <= [\"INPUT\", \"TEXTAREA\"].indexOf(t.tagName)) return !0;\n      if (e && 0 === e.which && d && (e.which = d), l.helpers.isAndroid() && l.browser.mozilla) return !0;\n      if (c) return !1;\n      if (e && l.helpers.isIOS() && e.which == Ee.FE.KEYCODE.ENTER && l.doc.execCommand(\"undo\"), !l.selection.isCollapsed()) return !0;\n      if (e && (e.which === Ee.FE.KEYCODE.META || e.which == Ee.FE.KEYCODE.CTRL)) return !0;\n      if (e && g(e.which)) return !0;\n      if (e && !l.helpers.isIOS() && (e.which == Ee.FE.KEYCODE.ENTER || e.which == Ee.FE.KEYCODE.BACKSPACE || 37 <= e.which && e.which <= 40 && !l.browser.msie)) try {\n        s();\n      } catch (n) {}\n      p();\n    }\n\n    function h(e) {\n      if (-1 != navigator.userAgent.indexOf(\"Mac OS X\")) {\n        if (e.metaKey && !e.altKey) return !0;\n      } else if (e.ctrlKey && !e.altKey) return !0;\n\n      return !1;\n    }\n\n    function g(e) {\n      if (e >= Ee.FE.KEYCODE.ARROW_LEFT && e <= Ee.FE.KEYCODE.ARROW_DOWN) return !0;\n    }\n\n    function m(e) {\n      if (e >= Ee.FE.KEYCODE.ZERO && e <= Ee.FE.KEYCODE.NINE) return !0;\n      if (e >= Ee.FE.KEYCODE.NUM_ZERO && e <= Ee.FE.KEYCODE.NUM_MULTIPLY) return !0;\n      if (e >= Ee.FE.KEYCODE.A && e <= Ee.FE.KEYCODE.Z) return !0;\n      if (l.browser.webkit && 0 === e) return !0;\n\n      switch (e) {\n        case Ee.FE.KEYCODE.SPACE:\n        case Ee.FE.KEYCODE.QUESTION_MARK:\n        case Ee.FE.KEYCODE.NUM_PLUS:\n        case Ee.FE.KEYCODE.NUM_MINUS:\n        case Ee.FE.KEYCODE.NUM_PERIOD:\n        case Ee.FE.KEYCODE.NUM_DIVISION:\n        case Ee.FE.KEYCODE.SEMICOLON:\n        case Ee.FE.KEYCODE.FF_SEMICOLON:\n        case Ee.FE.KEYCODE.DASH:\n        case Ee.FE.KEYCODE.EQUALS:\n        case Ee.FE.KEYCODE.FF_EQUALS:\n        case Ee.FE.KEYCODE.COMMA:\n        case Ee.FE.KEYCODE.PERIOD:\n        case Ee.FE.KEYCODE.SLASH:\n        case Ee.FE.KEYCODE.APOSTROPHE:\n        case Ee.FE.KEYCODE.SINGLE_QUOTE:\n        case Ee.FE.KEYCODE.OPEN_SQUARE_BRACKET:\n        case Ee.FE.KEYCODE.BACKSLASH:\n        case Ee.FE.KEYCODE.CLOSE_SQUARE_BRACKET:\n          return !0;\n\n        default:\n          return !1;\n      }\n    }\n\n    function v(e) {\n      var t = e.which;\n      if (h(e) || 37 <= t && t <= 40 || !m(t) && t != Ee.FE.KEYCODE.DELETE && t != Ee.FE.KEYCODE.BACKSPACE && t != Ee.FE.KEYCODE.ENTER && t != Ee.FE.KEYCODE.IME) return !0;\n      n || (r = l.snapshot.get(), l.undo.canDo() || l.undo.saveStep()), clearTimeout(n), n = setTimeout(function () {\n        n = null, l.undo.saveStep();\n      }, Math.max(250, l.opts.typingTimer));\n    }\n\n    function E(e) {\n      var t = e.which;\n      if (h(e) || 37 <= t && t <= 40) return !0;\n      r && n ? (l.undo.saveStep(r), r = null) : void 0 !== t && 0 !== t || r || n || l.undo.saveStep();\n    }\n\n    function b(e) {\n      if (e && \"BR\" == e.tagName) return !1;\n\n      try {\n        return 0 === (e.textContent || \"\").length && e.querySelector && !e.querySelector(\":scope > br\") || e.childNodes && 1 == e.childNodes.length && e.childNodes[0].getAttribute && (\"false\" == e.childNodes[0].getAttribute(\"contenteditable\") || l.node.hasClass(e.childNodes[0], \"fr-img-caption\"));\n      } catch (t) {\n        return !1;\n      }\n    }\n\n    function T(e) {\n      var t = l.el.childNodes,\n          n = l.html.defaultTag();\n      return !(!e.target || e.target === l.el) || 0 === t.length || void (l.$el.outerHeight() - e.offsetY <= 10 ? b(t[t.length - 1]) && (n ? l.$el.append(\"<\" + n + \">\" + Ee.FE.MARKERS + \"<br></\" + n + \">\") : l.$el.append(Ee.FE.MARKERS + \"<br>\"), l.selection.restore(), s()) : e.offsetY <= 10 && b(t[0]) && (n ? l.$el.prepend(\"<\" + n + \">\" + Ee.FE.MARKERS + \"<br></\" + n + \">\") : l.$el.prepend(Ee.FE.MARKERS + \"<br>\"), l.selection.restore(), s()));\n    }\n\n    function A() {\n      n && clearTimeout(n);\n    }\n\n    return {\n      _init: function _init() {\n        l.events.on(\"keydown\", v), l.events.on(\"input\", e), l.events.on(\"mousedown\", a), l.events.on(\"keyup input\", E), l.events.on(\"keypress\", i), l.events.on(\"keydown\", o), l.events.on(\"keyup\", u), l.events.on(\"destroy\", A), l.events.on(\"html.inserted\", u), l.events.on(\"cut\", t), l.opts.multiLine && l.events.on(\"click\", T);\n      },\n      ctrlKey: h,\n      isCharacter: m,\n      isArrow: g,\n      forceUndo: function forceUndo() {\n        n && (clearTimeout(n), l.undo.saveStep(), r = null);\n      },\n      isIME: function isIME() {\n        return c;\n      },\n      isBrowserAction: function isBrowserAction(e) {\n        var t = e.which;\n        return h(e) || t == Ee.FE.KEYCODE.F5;\n      },\n      positionCaret: s\n    };\n  }, Ee.FE.MODULES.accessibility = function (f) {\n    var a = !0;\n\n    function s(t) {\n      t && t.length && !f.$el.find('[contenteditable=\"true\"]').is(\":focus\") && (t.data(\"blur-event-set\") || t.parents(\".fr-popup\").length || (f.events.$on(t, \"blur\", function () {\n        var e = t.parents(\".fr-toolbar, .fr-popup\").data(\"instance\") || f;\n        e.events.blurActive() && !f.core.hasFocus() && e.events.trigger(\"blur\"), setTimeout(function () {\n          e.events.enableBlur();\n        }, 100);\n      }, !0), t.data(\"blur-event-set\", !0)), (t.parents(\".fr-toolbar, .fr-popup\").data(\"instance\") || f).events.disableBlur(), t.focus(), f.shared.$f_el = t);\n    }\n\n    function p(e, t) {\n      var n = t ? \"last\" : \"first\",\n          r = e.find(\"button:visible:not(.fr-disabled), .fr-group span.fr-command:visible\")[n]();\n      if (r.length) return s(r), !0;\n    }\n\n    function o(e) {\n      return e.is(\"input, textarea, select\") && t(), f.events.disableBlur(), e.focus(), !0;\n    }\n\n    function u(e, t) {\n      var n = e.find(\"input, textarea, button, select\").filter(\":visible\").not(\":disabled\").filter(t ? \":last\" : \":first\");\n      if (n.length) return o(n);\n\n      if (f.shared.with_kb) {\n        var r = e.find(\".fr-active-item:visible:first\");\n        if (r.length) return o(r);\n        var i = e.find(\"[tabIndex]:visible:first\");\n        if (i.length) return o(i);\n      }\n    }\n\n    function t() {\n      0 === f.$el.find(\".fr-marker\").length && f.core.hasFocus() && f.selection.save();\n    }\n\n    function l() {\n      var e = f.popups.areVisible();\n\n      if (e) {\n        var t = e.find(\".fr-buttons\");\n        return t.find(\"button:focus, .fr-group span:focus\").length ? !p(e.data(\"instance\").$tb) : !p(t);\n      }\n\n      return !p(f.$tb);\n    }\n\n    function d() {\n      var e = null;\n      return f.shared.$f_el.is(\".fr-dropdown.fr-active\") ? e = f.shared.$f_el : f.shared.$f_el.closest(\".fr-dropdown-menu\").prev().is(\".fr-dropdown.fr-active\") && (e = f.shared.$f_el.closest(\".fr-dropdown-menu\").prev()), e;\n    }\n\n    function n(e, t, n) {\n      if (f.shared.$f_el) {\n        var r = d();\n        r && (f.button.click(r), f.shared.$f_el = r);\n        var i = e.find(\"button:visible:not(.fr-disabled), .fr-group span.fr-command:visible\"),\n            a = i.index(f.shared.$f_el);\n\n        if (0 === a && !n || a == i.length - 1 && n) {\n          var o;\n\n          if (t) {\n            if (e.parent().is(\".fr-popup\")) o = !u(e.parent().children().not(\".fr-buttons\"), !n);\n            !1 === o && (f.shared.$f_el = null);\n          }\n\n          t && !1 === o || p(e, !n);\n        } else s(Ee(i.get(a + (n ? 1 : -1))));\n\n        return !1;\n      }\n    }\n\n    function c(e, t) {\n      return n(e, t, !0);\n    }\n\n    function h(e, t) {\n      return n(e, t);\n    }\n\n    function g(e) {\n      if (f.shared.$f_el) {\n        var t;\n        if (f.shared.$f_el.is(\".fr-dropdown.fr-active\")) return s(t = e ? f.shared.$f_el.next().find(\".fr-command:not(.fr-disabled)\").first() : f.shared.$f_el.next().find(\".fr-command:not(.fr-disabled)\").last()), !1;\n        if (f.shared.$f_el.is(\"a.fr-command\")) return (t = e ? f.shared.$f_el.closest(\"li\").nextAll(\":visible:first\").find(\".fr-command:not(.fr-disabled)\").first() : f.shared.$f_el.closest(\"li\").prevAll(\":visible:first\").find(\".fr-command:not(.fr-disabled)\").first()).length || (t = e ? f.shared.$f_el.closest(\".fr-dropdown-menu\").find(\".fr-command:not(.fr-disabled)\").first() : f.shared.$f_el.closest(\".fr-dropdown-menu\").find(\".fr-command:not(.fr-disabled)\").last()), s(t), !1;\n      }\n    }\n\n    function m() {\n      if (f.shared.$f_el) {\n        if (f.shared.$f_el.hasClass(\"fr-dropdown\")) f.button.click(f.shared.$f_el);else if (f.shared.$f_el.is(\"button.fr-back\")) {\n          f.opts.toolbarInline && (f.events.disableBlur(), f.events.focus());\n          var e = f.popups.areVisible(f);\n          e && (f.shared.with_kb = !1), f.button.click(f.shared.$f_el), E(e);\n        } else {\n          if (f.events.disableBlur(), f.button.click(f.shared.$f_el), f.shared.$f_el.attr(\"data-popup\")) {\n            var t = f.popups.areVisible(f);\n            t && t.data(\"popup-button\", f.shared.$f_el);\n          } else if (f.shared.$f_el.attr(\"data-modal\")) {\n            var n = f.modals.areVisible(f);\n            n && n.data(\"modal-button\", f.shared.$f_el);\n          }\n\n          f.shared.$f_el = null;\n        }\n        return !1;\n      }\n    }\n\n    function v() {\n      f.shared.$f_el && (f.events.disableBlur(), f.shared.$f_el.blur(), f.shared.$f_el = null), !1 !== f.events.trigger(\"toolbar.focusEditor\") && (f.events.disableBlur(), f.browser.msie || f.$el.focus(), f.events.focus());\n    }\n\n    function r(r) {\n      r && r.length && (f.events.$on(r, \"keydown\", function (e) {\n        if (!Ee(e.target).is(\"a.fr-command, button.fr-command, .fr-group span.fr-command\")) return !0;\n        var t = r.parents(\".fr-popup\").data(\"instance\") || r.data(\"instance\") || f;\n        f.shared.with_kb = !0;\n        var n = t.accessibility.exec(e, r);\n        return f.shared.with_kb = !1, n;\n      }, !0), f.browser.msie || f.events.$on(r, \"mouseenter\", \"[tabIndex]\", function (e) {\n        var t = r.parents(\".fr-popup\").data(\"instance\") || r.data(\"instance\") || f;\n        if (!a) return e.stopPropagation(), void e.preventDefault();\n        var n = Ee(e.currentTarget);\n        t.shared.$f_el && t.shared.$f_el.not(n) && t.accessibility.focusEditor();\n      }, !0));\n    }\n\n    function E(e) {\n      var t = e.data(\"popup-button\");\n      t && setTimeout(function () {\n        s(t), e.data(\"popup-button\", null);\n      }, 0);\n    }\n\n    function i(e) {\n      var t = f.popups.areVisible(e);\n      t && t.data(\"popup-button\", null);\n    }\n\n    function e(e) {\n      var t = -1 != navigator.userAgent.indexOf(\"Mac OS X\") ? e.metaKey : e.ctrlKey;\n\n      if (e.which == Ee.FE.KEYCODE.F10 && !t && !e.shiftKey && e.altKey) {\n        f.shared.with_kb = !0;\n        var n = f.popups.areVisible(f),\n            r = !1;\n        return n && (r = u(n.children().not(\".fr-buttons\"))), r || l(), f.shared.with_kb = !1, e.preventDefault(), e.stopPropagation(), !1;\n      }\n\n      return !0;\n    }\n\n    return {\n      _init: function _init() {\n        f.$wp ? f.events.on(\"keydown\", e, !0) : f.events.$on(f.$win, \"keydown\", e, !0), f.events.on(\"mousedown\", function (e) {\n          i(f), f.shared.$f_el && (f.accessibility.restoreSelection(), e.stopPropagation(), f.events.disableBlur(), f.shared.$f_el = null);\n        }, !0), f.events.on(\"blur\", function () {\n          f.shared.$f_el = null, i(f);\n        }, !0);\n      },\n      registerPopup: function registerPopup(e) {\n        var d,\n            c,\n            t = f.popups.get(e),\n            n = (d = e, c = f.popups.get(d), {\n          _tiKeydown: function _tiKeydown(e) {\n            var t = c.data(\"instance\") || f;\n            if (!1 === t.events.trigger(\"popup.tab\", [e])) return !1;\n            var n = e.which,\n                r = c.find(\":focus:first\");\n\n            if (Ee.FE.KEYCODE.TAB == n) {\n              e.preventDefault();\n              var i = c.children().not(\".fr-buttons\"),\n                  a = i.find(\"input, textarea, button, select\").filter(\":visible\").not(\".fr-no-touch input, .fr-no-touch textarea, .fr-no-touch button, .fr-no-touch select, :disabled\").toArray(),\n                  o = a.indexOf(this) + (e.shiftKey ? -1 : 1);\n              if (0 <= o && o < a.length) return t.events.disableBlur(), Ee(a[o]).focus(), e.stopPropagation(), !1;\n              var s = c.find(\".fr-buttons\");\n              if (s.length && p(s, !!e.shiftKey)) return e.stopPropagation(), !1;\n              if (u(i)) return e.stopPropagation(), !1;\n            } else {\n              if (Ee.FE.KEYCODE.ENTER != n || !e.target || \"TEXTAREA\" === e.target.tagName) return Ee.FE.KEYCODE.ESC == n ? (e.preventDefault(), e.stopPropagation(), t.accessibility.restoreSelection(), t.popups.isVisible(d) && c.find(\".fr-back:visible\").length ? (t.opts.toolbarInline && (t.events.disableBlur(), t.events.focus()), t.button.exec(c.find(\".fr-back:visible:first\")), E(c)) : t.popups.isVisible(d) && c.find(\".fr-dismiss:visible\").length ? t.button.exec(c.find(\".fr-dismiss:visible:first\")) : (t.popups.hide(d), t.opts.toolbarInline && t.toolbar.showInline(null, !0), E(c)), !1) : Ee.FE.KEYCODE.SPACE == n && (r.is(\".fr-submit\") || r.is(\".fr-dismiss\")) ? (e.preventDefault(), e.stopPropagation(), t.events.disableBlur(), t.button.exec(r), !0) : t.keys.isBrowserAction(e) ? void e.stopPropagation() : r.is(\"input[type=text], textarea\") ? void e.stopPropagation() : Ee.FE.KEYCODE.SPACE == n && (r.is(\".fr-link-attr\") || r.is(\"input[type=file]\")) ? void e.stopPropagation() : (e.stopPropagation(), e.preventDefault(), !1);\n              var l = null;\n              0 < c.find(\".fr-submit:visible\").length ? l = c.find(\".fr-submit:visible:first\") : c.find(\".fr-dismiss:visible\").length && (l = c.find(\".fr-dismiss:visible:first\")), l && (e.preventDefault(), e.stopPropagation(), t.events.disableBlur(), t.button.exec(l));\n            }\n          },\n          _tiMouseenter: function _tiMouseenter() {\n            var e = c.data(\"instance\") || f;\n            i(e);\n          }\n        });\n        r(t.find(\".fr-buttons\")), f.events.$on(t, \"mouseenter\", \"tabIndex\", n._tiMouseenter, !0), f.events.$on(t.children().not(\".fr-buttons\"), \"keydown\", \"[tabIndex]\", n._tiKeydown, !0), f.popups.onHide(e, function () {\n          (t.data(\"instance\") || f).accessibility.restoreSelection();\n        }), f.popups.onShow(e, function () {\n          a = !1, setTimeout(function () {\n            a = !0;\n          }, 0);\n        });\n      },\n      registerToolbar: r,\n      focusToolbarElement: s,\n      focusToolbar: p,\n      focusContent: u,\n      focusPopup: function focusPopup(r) {\n        var i = r.children().not(\".fr-buttons\");\n        i.data(\"mouseenter-event-set\") || f.browser.msie || (f.events.$on(i, \"mouseenter\", \"[tabIndex]\", function (e) {\n          var t = r.data(\"instance\") || f;\n          if (!a) return e.stopPropagation(), void e.preventDefault();\n          var n = i.find(\":focus:first\");\n          n.length && !n.is(\"input, button, textarea, select\") && (t.events.disableBlur(), n.blur(), t.events.disableBlur(), t.events.focus());\n        }), i.data(\"mouseenter-event-set\", !0)), !u(i) && f.shared.with_kb && p(r.find(\".fr-buttons\"));\n      },\n      focusModal: function focusModal(e) {\n        f.core.hasFocus() || (f.events.disableBlur(), f.events.focus()), f.accessibility.saveSelection(), f.events.disableBlur(), f.$el.blur(), f.selection.clear(), f.events.disableBlur(), f.shared.with_kb ? e.find(\".fr-command[tabIndex], [tabIndex]\").first().focus() : e.find(\"[tabIndex]:first\").focus();\n      },\n      focusEditor: v,\n      focusPopupButton: E,\n      focusModalButton: function focusModalButton(e) {\n        var t = e.data(\"modal-button\");\n        t && setTimeout(function () {\n          s(t), e.data(\"modal-button\", null);\n        }, 0);\n      },\n      hasFocus: function hasFocus() {\n        return null != f.shared.$f_el;\n      },\n      exec: function exec(e, t) {\n        var n = -1 != navigator.userAgent.indexOf(\"Mac OS X\") ? e.metaKey : e.ctrlKey,\n            r = e.which,\n            i = !1;\n        return r != Ee.FE.KEYCODE.TAB || n || e.shiftKey || e.altKey ? r != Ee.FE.KEYCODE.ARROW_RIGHT || n || e.shiftKey || e.altKey ? r != Ee.FE.KEYCODE.TAB || n || !e.shiftKey || e.altKey ? r != Ee.FE.KEYCODE.ARROW_LEFT || n || e.shiftKey || e.altKey ? r != Ee.FE.KEYCODE.ARROW_UP || n || e.shiftKey || e.altKey ? r != Ee.FE.KEYCODE.ARROW_DOWN || n || e.shiftKey || e.altKey ? r != Ee.FE.KEYCODE.ENTER && r != Ee.FE.KEYCODE.SPACE || n || e.shiftKey || e.altKey ? r != Ee.FE.KEYCODE.ESC || n || e.shiftKey || e.altKey ? r != Ee.FE.KEYCODE.F10 || n || e.shiftKey || !e.altKey || (i = l()) : i = function (e) {\n          if (f.shared.$f_el) {\n            var t = d();\n            return t ? (f.button.click(t), s(t)) : e.parent().find(\".fr-back:visible\").length ? (f.shared.with_kb = !1, f.opts.toolbarInline && (f.events.disableBlur(), f.events.focus()), f.button.exec(e.parent().find(\".fr-back:visible:first\")), E(e.parent())) : f.shared.$f_el.is(\"button, .fr-group span\") && (e.parent().is(\".fr-popup\") ? (f.accessibility.restoreSelection(), f.shared.$f_el = null, !1 !== f.events.trigger(\"toolbar.esc\") && (f.popups.hide(e.parent()), f.opts.toolbarInline && f.toolbar.showInline(null, !0), E(e.parent()))) : v()), !1;\n          }\n        }(t) : i = m() : i = f.shared.$f_el && f.shared.$f_el.is(\".fr-dropdown:not(.fr-active)\") ? m() : g(!0) : i = g() : i = h(t) : i = h(t, !0) : i = c(t) : i = c(t, !0), f.shared.$f_el || i !== undefined || (i = !0), !i && f.keys.isBrowserAction(e) && (i = !0), !!i || (e.preventDefault(), e.stopPropagation(), !1);\n      },\n      saveSelection: t,\n      restoreSelection: function restoreSelection() {\n        f.$el.find(\".fr-marker\").length && (f.events.disableBlur(), f.selection.restore(), f.events.enableBlur());\n      }\n    };\n  }, Ee.FE.MODULES.format = function (g) {\n    function l(e, t) {\n      var n = \"<\" + e;\n\n      for (var r in t) {\n        t.hasOwnProperty(r) && (n += \" \" + r + '=\"' + t[r] + '\"');\n      }\n\n      return n += \">\";\n    }\n\n    function f(e, t) {\n      var n = e;\n\n      for (var r in t) {\n        t.hasOwnProperty(r) && (n += \"id\" == r ? \"#\" + t[r] : \"class\" == r ? \".\" + t[r] : \"[\" + r + '=\"' + t[r] + '\"]');\n      }\n\n      return n;\n    }\n\n    function p(e, t) {\n      return !(!e || e.nodeType != Node.ELEMENT_NODE) && (e.matches || e.matchesSelector || e.msMatchesSelector || e.mozMatchesSelector || e.webkitMatchesSelector || e.oMatchesSelector).call(e, t);\n    }\n\n    function m(e, t, n) {\n      if (e) {\n        for (; e.nodeType === Node.COMMENT_NODE;) {\n          e = e.nextSibling;\n        }\n\n        if (e) {\n          if (g.node.isBlock(e) && \"HR\" !== e.tagName) return m(e.firstChild, t, n), !1;\n\n          for (var r = Ee(l(t, n)).insertBefore(e), i = e; i && !Ee(i).is(\".fr-marker\") && 0 === Ee(i).find(\".fr-marker\").length && \"UL\" != i.tagName && \"OL\" != i.tagName;) {\n            var a = i;\n            if (g.node.isBlock(i) && \"HR\" !== e.tagName) return m(i.firstChild, t, n), !1;\n            i = i.nextSibling, r.append(a);\n          }\n\n          if (i) (Ee(i).find(\".fr-marker\").length || \"UL\" == i.tagName || \"OL\" == i.tagName) && m(i.firstChild, t, n);else {\n            for (var o = r.get(0).parentNode; o && !o.nextSibling && !g.node.isElement(o);) {\n              o = o.parentNode;\n            }\n\n            if (o) {\n              var s = o.nextSibling;\n              s && (g.node.isBlock(s) ? \"HR\" === s.tagName ? m(s.nextSibling, t, n) : m(s.firstChild, t, n) : m(s, t, n));\n            }\n          }\n          r.is(\":empty\") && r.remove();\n        }\n      }\n    }\n\n    function n(e, t) {\n      var n;\n\n      if (void 0 === t && (t = {}), t.style && delete t.style, g.selection.isCollapsed()) {\n        g.markers.insert(), g.$el.find(\".fr-marker\").replaceWith(l(e, t) + Ee.FE.INVISIBLE_SPACE + Ee.FE.MARKERS + (\"</\" + e + \">\")), g.selection.restore();\n      } else {\n        var r;\n        g.selection.save(), m(g.$el.find('.fr-marker[data-type=\"true\"]').get(0).nextSibling, e, t);\n\n        do {\n          for (r = g.$el.find(f(e, t) + \" > \" + f(e, t)), n = 0; n < r.length; n++) {\n            r[n].outerHTML = r[n].innerHTML;\n          }\n        } while (r.length);\n\n        g.el.normalize();\n        var i = g.el.querySelectorAll(\".fr-marker\");\n\n        for (n = 0; n < i.length; n++) {\n          var a = Ee(i[n]);\n          !0 === a.data(\"type\") ? p(a.get(0).nextSibling, f(e, t)) && a.next().prepend(a) : p(a.get(0).previousSibling, f(e, t)) && a.prev().append(a);\n        }\n\n        g.selection.restore();\n      }\n    }\n\n    function v(e, t, n, r) {\n      if (!r) {\n        var i = !1;\n        if (!0 === e.data(\"type\")) for (; g.node.isFirstSibling(e.get(0)) && !e.parent().is(g.$el) && !e.parent().is(\"ol\") && !e.parent().is(\"ul\");) {\n          e.parent().before(e), i = !0;\n        } else if (!1 === e.data(\"type\")) for (; g.node.isLastSibling(e.get(0)) && !e.parent().is(g.$el) && !e.parent().is(\"ol\") && !e.parent().is(\"ul\");) {\n          e.parent().after(e), i = !0;\n        }\n        if (i) return !0;\n      }\n\n      if (e.parents(t).length || void 0 === t) {\n        var a = \"\",\n            o = \"\",\n            s = e.parent();\n        if (s.is(g.$el) || g.node.isBlock(s.get(0))) return !1;\n\n        for (; !g.node.isBlock(s.parent().get(0)) && (void 0 === t || void 0 !== t && !p(s.get(0), f(t, n)));) {\n          a += g.node.closeTagString(s.get(0)), o = g.node.openTagString(s.get(0)) + o, s = s.parent();\n        }\n\n        var l = e.get(0).outerHTML;\n        e.replaceWith('<span id=\"mark\"></span>');\n        var d = s.html().replace(/<span id=\"mark\"><\\/span>/, a + g.node.closeTagString(s.get(0)) + o + l + a + g.node.openTagString(s.get(0)) + o);\n        return s.replaceWith(g.node.openTagString(s.get(0)) + d + g.node.closeTagString(s.get(0))), !0;\n      }\n\n      return !1;\n    }\n\n    function r(t, n) {\n      void 0 === n && (n = {}), n.style && delete n.style;\n      var r = g.selection.isCollapsed();\n      g.selection.save();\n\n      for (var i = !0; i;) {\n        i = !1;\n\n        for (var a = g.$el.find(\".fr-marker\"), o = 0; o < a.length; o++) {\n          var s = Ee(a[o]),\n              l = null;\n\n          if (s.attr(\"data-cloned\") || r || (l = s.clone().removeClass(\"fr-marker\").addClass(\"fr-clone\"), !0 === s.data(\"type\") ? s.attr(\"data-cloned\", !0).after(l) : s.attr(\"data-cloned\", !0).before(l)), v(s, t, n, r)) {\n            i = !0;\n            break;\n          }\n        }\n      }\n\n      !function e(t, n, r, i) {\n        for (var a = g.node.contents(t.get(0)), o = 0; o < a.length; o++) {\n          var s = a[o];\n          if (g.node.hasClass(s, \"fr-marker\")) n = (n + 1) % 2;else if (n) {\n            if (0 < Ee(s).find(\".fr-marker\").length) n = e(Ee(s), n, r, i);else {\n              for (var l = Ee(s).find(r || \"*:not(br)\"), d = l.length - 1; 0 <= d; d--) {\n                var c = l[d];\n                g.node.isBlock(c) || g.node.isVoid(c) || void 0 !== r && !p(c, f(r, i)) ? g.node.isBlock(c) && void 0 === r && \"TABLE\" != s.tagName && g.node.clearAttributes(c) : g.node.hasClass(c, \"fr-clone\") || (c.outerHTML = c.innerHTML);\n              }\n\n              void 0 === r && s.nodeType == Node.ELEMENT_NODE && !g.node.isVoid(s) || p(s, f(r, i)) ? g.node.isBlock(s) ? void 0 === r && s.nodeType == Node.ELEMENT_NODE && g.node.isBlock(s) && \"TABLE\" != s.tagName && g.node.clearAttributes(s) : g.node.hasClass(s, \"fr-clone\") || (s.outerHTML = s.innerHTML) : void 0 === r && s.nodeType == Node.ELEMENT_NODE && g.node.isBlock(s) && \"TABLE\" != s.tagName && g.node.clearAttributes(s);\n            }\n          } else 0 < Ee(s).find(\".fr-marker\").length && (n = e(Ee(s), n, r, i));\n        }\n\n        return n;\n      }(g.$el, 0, t, n), r || (g.$el.find(\".fr-marker\").remove(), g.$el.find(\".fr-clone\").removeClass(\"fr-clone\").addClass(\"fr-marker\")), r && g.$el.find(\".fr-marker\").before(Ee.FE.INVISIBLE_SPACE).after(Ee.FE.INVISIBLE_SPACE), g.html.cleanEmptyTags(), g.el.normalize(), g.selection.restore();\n    }\n\n    function t(e, t) {\n      var n,\n          r,\n          i,\n          a,\n          o,\n          s = null;\n\n      if (g.selection.isCollapsed()) {\n        g.markers.insert();\n        var l = (r = g.$el.find(\".fr-marker\")).parent();\n\n        if (g.node.openTagString(l.get(0)) == '<span style=\"' + e + \": \" + l.css(e) + ';\">') {\n          if (g.node.isEmpty(l.get(0))) s = Ee('<span style=\"' + e + \": \" + t + ';\">' + Ee.FE.INVISIBLE_SPACE + Ee.FE.MARKERS + \"</span>\"), l.replaceWith(s);else {\n            var d = {};\n            d[\"style*\"] = e + \":\", v(r, \"span\", d, !0), r = g.$el.find(\".fr-marker\"), t ? (s = Ee('<span style=\"' + e + \": \" + t + ';\">' + Ee.FE.INVISIBLE_SPACE + Ee.FE.MARKERS + \"</span>\"), r.replaceWith(s)) : r.replaceWith(Ee.FE.INVISIBLE_SPACE + Ee.FE.MARKERS);\n          }\n          g.html.cleanEmptyTags();\n        } else g.node.isEmpty(l.get(0)) && l.is(\"span\") ? (r.replaceWith(Ee.FE.MARKERS), l.css(e, t)) : (s = Ee('<span style=\"' + e + \": \" + t + ';\">' + Ee.FE.INVISIBLE_SPACE + Ee.FE.MARKERS + \"</span>\"), r.replaceWith(s));\n\n        s && E(s, e, t);\n      } else {\n        if (g.selection.save(), null == t || \"color\" == e && 0 < g.$el.find(\".fr-marker\").parents(\"u, a\").length) {\n          var c = g.$el.find(\".fr-marker\");\n\n          for (n = 0; n < c.length; n++) {\n            if (!0 === (r = Ee(c[n])).data(\"type\")) for (; g.node.isFirstSibling(r.get(0)) && !r.parent().is(g.$el) && !g.node.isElement(r.parent().get(0)) && !g.node.isBlock(r.parent().get(0));) {\n              r.parent().before(r);\n            } else for (; g.node.isLastSibling(r.get(0)) && !r.parent().is(g.$el) && !g.node.isElement(r.parent().get(0)) && !g.node.isBlock(r.parent().get(0));) {\n              r.parent().after(r);\n            }\n          }\n        }\n\n        var f = g.$el.find('.fr-marker[data-type=\"true\"]').get(0).nextSibling,\n            p = {\n          \"class\": \"fr-unprocessed\"\n        };\n\n        for (t && (p.style = e + \": \" + t + \";\"), m(f, \"span\", p), g.$el.find(\".fr-marker + .fr-unprocessed\").each(function () {\n          Ee(this).prepend(Ee(this).prev());\n        }), g.$el.find(\".fr-unprocessed + .fr-marker\").each(function () {\n          Ee(this).prev().append(this);\n        }), (t || \"\").match(/\\dem$/) && g.$el.find(\"span.fr-unprocessed\").removeClass(\"fr-unprocessed\"); 0 < g.$el.find(\"span.fr-unprocessed\").length;) {\n          if ((s = g.$el.find(\"span.fr-unprocessed:first\").removeClass(\"fr-unprocessed\")).parent().get(0).normalize(), s.parent().is(\"span\") && 1 == s.parent().get(0).childNodes.length) {\n            s.parent().css(e, t);\n            var u = s;\n            s = s.parent(), u.replaceWith(u.html());\n          }\n\n          var h = s.find(\"span\");\n\n          for (n = h.length - 1; 0 <= n; n--) {\n            i = h[n], a = e, o = void 0, (o = Ee(i)).css(a, \"\"), \"\" === o.attr(\"style\") && o.replaceWith(o.html());\n          }\n\n          E(s, e, t);\n        }\n      }\n\n      !function () {\n        var e;\n\n        for (; 0 < g.$el.find(\".fr-split:empty\").length;) {\n          g.$el.find(\".fr-split:empty\").remove();\n        }\n\n        g.$el.find(\".fr-split\").removeClass(\"fr-split\"), g.$el.find('[style=\"\"]').removeAttr(\"style\"), g.$el.find('[class=\"\"]').removeAttr(\"class\"), g.html.cleanEmptyTags(), Ee(g.$el.find(\"span\").get().reverse()).each(function () {\n          this.attributes && 0 !== this.attributes.length || Ee(this).replaceWith(this.innerHTML);\n        }), g.el.normalize();\n        var t = g.$el.find(\"span[style] + span[style]\");\n\n        for (e = 0; e < t.length; e++) {\n          var n = Ee(t[e]),\n              r = Ee(t[e]).prev();\n          n.get(0).previousSibling == r.get(0) && g.node.openTagString(n.get(0)) == g.node.openTagString(r.get(0)) && (n.prepend(r.html()), r.remove());\n        }\n\n        g.$el.find(\"span[style] span[style]\").each(function () {\n          if (0 <= Ee(this).attr(\"style\").indexOf(\"font-size\")) {\n            var e = Ee(this).parents(\"span[style]\");\n            0 <= e.attr(\"style\").indexOf(\"background-color\") && (Ee(this).attr(\"style\", Ee(this).attr(\"style\") + \";\" + e.attr(\"style\")), v(Ee(this), \"span[style]\", {}, !1));\n          }\n        }), g.el.normalize(), g.selection.restore();\n      }();\n    }\n\n    function E(e, t, n) {\n      var r,\n          i,\n          a,\n          o = e.parentsUntil(g.$el, \"span[style]\"),\n          s = [];\n\n      for (r = o.length - 1; 0 <= r; r--) {\n        i = o[r], a = t, 0 === Ee(i).attr(\"style\").indexOf(a + \":\") || 0 <= Ee(i).attr(\"style\").indexOf(\";\" + a + \":\") || 0 <= Ee(i).attr(\"style\").indexOf(\"; \" + a + \":\") || s.push(o[r]);\n      }\n\n      if ((o = o.not(s)).length) {\n        for (var l = \"\", d = \"\", c = \"\", f = \"\", p = e.get(0); p = p.parentNode, Ee(p).addClass(\"fr-split\"), l += g.node.closeTagString(p), d = g.node.openTagString(Ee(p).clone().addClass(\"fr-split\").get(0)) + d, o.get(0) != p && (c += g.node.closeTagString(p), f = g.node.openTagString(Ee(p).clone().addClass(\"fr-split\").get(0)) + f), o.get(0) != p;) {\n          ;\n        }\n\n        var u = l + g.node.openTagString(Ee(o.get(0)).clone().css(t, n || \"\").get(0)) + f + e.css(t, \"\").get(0).outerHTML + c + \"</span>\" + d;\n        e.replaceWith('<span id=\"fr-break\"></span>');\n        var h = o.get(0).outerHTML;\n        Ee(o.get(0)).replaceWith(h.replace(/<span id=\"fr-break\"><\\/span>/g, u));\n      }\n    }\n\n    function i(e, t) {\n      void 0 === t && (t = {}), t.style && delete t.style;\n      var n = g.selection.ranges(0),\n          r = n.startContainer;\n\n      if (r.nodeType == Node.ELEMENT_NODE && 0 < r.childNodes.length && r.childNodes[n.startOffset] && (r = r.childNodes[n.startOffset]), !n.collapsed && r.nodeType == Node.TEXT_NODE && n.startOffset == (r.textContent || \"\").length) {\n        for (; !g.node.isBlock(r.parentNode) && !r.nextSibling;) {\n          r = r.parentNode;\n        }\n\n        r.nextSibling && (r = r.nextSibling);\n      }\n\n      for (var i = r; i && i.nodeType == Node.ELEMENT_NODE && !p(i, f(e, t));) {\n        i = i.firstChild;\n      }\n\n      if (i && i.nodeType == Node.ELEMENT_NODE && p(i, f(e, t))) return !0;\n      var a = r;\n\n      for (a && a.nodeType != Node.ELEMENT_NODE && (a = a.parentNode); a && a.nodeType == Node.ELEMENT_NODE && a != g.el && !p(a, f(e, t));) {\n        a = a.parentNode;\n      }\n\n      return !(!a || a.nodeType != Node.ELEMENT_NODE || a == g.el || !p(a, f(e, t)));\n    }\n\n    return {\n      is: i,\n      toggle: function toggle(e, t) {\n        i(e, t) ? r(e, t) : n(e, t);\n      },\n      apply: n,\n      remove: r,\n      applyStyle: t,\n      removeStyle: function removeStyle(e) {\n        t(e, null);\n      }\n    };\n  }, Ee.extend(Ee.FE.DEFAULTS, {\n    indentMargin: 20\n  }), Ee.FE.COMMANDS = {\n    bold: {\n      title: \"Bold\",\n      toggle: !0,\n      refresh: function refresh(e) {\n        var t = this.format.is(\"strong\");\n        e.toggleClass(\"fr-active\", t).attr(\"aria-pressed\", t);\n      }\n    },\n    italic: {\n      title: \"Italic\",\n      toggle: !0,\n      refresh: function refresh(e) {\n        var t = this.format.is(\"em\");\n        e.toggleClass(\"fr-active\", t).attr(\"aria-pressed\", t);\n      }\n    },\n    underline: {\n      title: \"Underline\",\n      toggle: !0,\n      refresh: function refresh(e) {\n        var t = this.format.is(\"u\");\n        e.toggleClass(\"fr-active\", t).attr(\"aria-pressed\", t);\n      }\n    },\n    strikeThrough: {\n      title: \"Strikethrough\",\n      toggle: !0,\n      refresh: function refresh(e) {\n        var t = this.format.is(\"s\");\n        e.toggleClass(\"fr-active\", t).attr(\"aria-pressed\", t);\n      }\n    },\n    subscript: {\n      title: \"Subscript\",\n      toggle: !0,\n      refresh: function refresh(e) {\n        var t = this.format.is(\"sub\");\n        e.toggleClass(\"fr-active\", t).attr(\"aria-pressed\", t);\n      }\n    },\n    superscript: {\n      title: \"Superscript\",\n      toggle: !0,\n      refresh: function refresh(e) {\n        var t = this.format.is(\"sup\");\n        e.toggleClass(\"fr-active\", t).attr(\"aria-pressed\", t);\n      }\n    },\n    outdent: {\n      title: \"Decrease Indent\"\n    },\n    indent: {\n      title: \"Increase Indent\"\n    },\n    undo: {\n      title: \"Undo\",\n      undo: !1,\n      forcedRefresh: !0,\n      disabled: !0\n    },\n    redo: {\n      title: \"Redo\",\n      undo: !1,\n      forcedRefresh: !0,\n      disabled: !0\n    },\n    insertHR: {\n      title: \"Insert Horizontal Line\"\n    },\n    clearFormatting: {\n      title: \"Clear Formatting\"\n    },\n    selectAll: {\n      title: \"Select All\",\n      undo: !1\n    }\n  }, Ee.FE.RegisterCommand = function (e, t) {\n    Ee.FE.COMMANDS[e] = t;\n  }, Ee.FE.MODULES.commands = function (o) {\n    function i(e) {\n      return o.html.defaultTag() && (e = \"<\" + o.html.defaultTag() + \">\" + e + \"</\" + o.html.defaultTag() + \">\"), e;\n    }\n\n    var a = {\n      bold: function bold() {\n        e(\"bold\", \"strong\");\n      },\n      subscript: function subscript() {\n        o.format.is(\"sup\") && o.format.remove(\"sup\"), e(\"subscript\", \"sub\");\n      },\n      superscript: function superscript() {\n        o.format.is(\"sub\") && o.format.remove(\"sub\"), e(\"superscript\", \"sup\");\n      },\n      italic: function italic() {\n        e(\"italic\", \"em\");\n      },\n      strikeThrough: function strikeThrough() {\n        e(\"strikeThrough\", \"s\");\n      },\n      underline: function underline() {\n        e(\"underline\", \"u\");\n      },\n      undo: function undo() {\n        o.undo.run();\n      },\n      redo: function redo() {\n        o.undo.redo();\n      },\n      indent: function indent() {\n        n(1);\n      },\n      outdent: function outdent() {\n        n(-1);\n      },\n      show: function show() {\n        o.opts.toolbarInline && o.toolbar.showInline(null, !0);\n      },\n      insertHR: function insertHR() {\n        o.selection.remove();\n        var e = \"\";\n        o.core.isEmpty() && (e = i(e = \"<br>\")), o.html.insert('<hr id=\"fr-just\">' + e);\n        var t,\n            n = o.$el.find(\"hr#fr-just\");\n\n        if (n.removeAttr(\"id\"), 0 === n.next().length) {\n          var r = o.html.defaultTag();\n          r ? n.after(Ee(\"<\" + r + \">\").append(\"<br>\")) : n.after(\"<br>\");\n        }\n\n        n.prev().is(\"hr\") ? t = o.selection.setAfter(n.get(0), !1) : n.next().is(\"hr\") ? t = o.selection.setBefore(n.get(0), !1) : o.selection.setAfter(n.get(0), !1) || o.selection.setBefore(n.get(0), !1), t || void 0 === t || (e = i(e = Ee.FE.MARKERS + \"<br>\"), n.after(e)), o.selection.restore();\n      },\n      clearFormatting: function clearFormatting() {\n        o.format.remove();\n      },\n      selectAll: function selectAll() {\n        o.doc.execCommand(\"selectAll\", !1, !1);\n      }\n    };\n\n    function t(e, t) {\n      if (!1 !== o.events.trigger(\"commands.before\", Ee.merge([e], t || []))) {\n        var n = Ee.FE.COMMANDS[e] && Ee.FE.COMMANDS[e].callback || a[e],\n            r = !0,\n            i = !1;\n        Ee.FE.COMMANDS[e] && (\"undefined\" != typeof Ee.FE.COMMANDS[e].focus && (r = Ee.FE.COMMANDS[e].focus), \"undefined\" != typeof Ee.FE.COMMANDS[e].accessibilityFocus && (i = Ee.FE.COMMANDS[e].accessibilityFocus)), (!o.core.hasFocus() && r && !o.popups.areVisible() || !o.core.hasFocus() && i && o.accessibility.hasFocus()) && o.events.focus(!0), Ee.FE.COMMANDS[e] && !1 !== Ee.FE.COMMANDS[e].undo && (o.$el.find(\".fr-marker\").length && (o.events.disableBlur(), o.selection.restore()), o.undo.saveStep()), n && n.apply(o, Ee.merge([e], t || [])), o.events.trigger(\"commands.after\", Ee.merge([e], t || [])), Ee.FE.COMMANDS[e] && !1 !== Ee.FE.COMMANDS[e].undo && o.undo.saveStep();\n      }\n    }\n\n    function e(e, t) {\n      o.format.toggle(t);\n    }\n\n    function n(e) {\n      o.selection.save(), o.html.wrap(!0, !0, !0, !0), o.selection.restore();\n\n      for (var t = o.selection.blocks(), n = 0; n < t.length; n++) {\n        if (\"LI\" != t[n].tagName && \"LI\" != t[n].parentNode.tagName) {\n          var r = Ee(t[n]),\n              i = \"rtl\" == o.opts.direction || \"rtl\" == r.css(\"direction\") ? \"margin-right\" : \"margin-left\",\n              a = o.helpers.getPX(r.css(i));\n          if (r.width() < 2 * o.opts.indentMargin && 0 < e) continue;\n          r.css(i, Math.max(a + e * o.opts.indentMargin, 0) || \"\"), r.removeClass(\"fr-temp-div\");\n        }\n      }\n\n      o.selection.save(), o.html.unwrap(), o.selection.restore();\n    }\n\n    function r(e) {\n      return function () {\n        t(e);\n      };\n    }\n\n    var s = {};\n\n    for (var l in a) {\n      a.hasOwnProperty(l) && (s[l] = r(l));\n    }\n\n    return Ee.extend(s, {\n      exec: t,\n      _init: function _init() {\n        o.events.on(\"keydown\", function (e) {\n          var t = o.selection.element();\n          if (t && \"HR\" == t.tagName && !o.keys.isArrow(e.which)) return e.preventDefault(), !1;\n        }), o.events.on(\"keyup\", function (e) {\n          var t = o.selection.element();\n          if (t && \"HR\" == t.tagName) if (e.which == Ee.FE.KEYCODE.ARROW_LEFT || e.which == Ee.FE.KEYCODE.ARROW_UP) {\n            if (t.previousSibling) return o.node.isBlock(t.previousSibling) ? o.selection.setAtEnd(t.previousSibling) : Ee(t).before(Ee.FE.MARKERS), o.selection.restore(), !1;\n          } else if ((e.which == Ee.FE.KEYCODE.ARROW_RIGHT || e.which == Ee.FE.KEYCODE.ARROW_DOWN) && t.nextSibling) return o.node.isBlock(t.nextSibling) ? o.selection.setAtStart(t.nextSibling) : Ee(t).after(Ee.FE.MARKERS), o.selection.restore(), !1;\n        }), o.events.on(\"mousedown\", function (e) {\n          if (e.target && \"HR\" == e.target.tagName) return e.preventDefault(), e.stopPropagation(), !1;\n        }), o.events.on(\"mouseup\", function () {\n          var e = o.selection.element();\n          e == o.selection.endElement() && e && \"HR\" == e.tagName && (e.nextSibling && (o.node.isBlock(e.nextSibling) ? o.selection.setAtStart(e.nextSibling) : Ee(e).after(Ee.FE.MARKERS)), o.selection.restore());\n        });\n      }\n    });\n  }, Ee.FE.MODULES.data = function (p) {\n    var u = \"NCKB1zwtPA9tqzajXC2c2A7B-16VD3spzJ1C9C3D5oOF2OB1NB1LD7VA5QF4TE3gytXB2A4C-8VA2AC4E1D3GB2EB2KC3KD1MF1juuSB1A8C6yfbmd1B2a1A5qdsdB2tivbC3CB1KC1CH1eLA2sTF1B4I4H-7B-21UB6b1F5bzzzyAB4JC3MG2hjdKC1JE6C1E1cj1pD-16pUE5B4prra2B5ZB3D3C3pxj1EA6A3rnJA2C-7I-7JD9D1E1wYH1F3sTB5TA2G4H4ZA22qZA5BB3mjcvcCC3JB1xillavC-21VE6PC5SI4YC5C8mb1A3WC3BD2B5aoDA2qqAE3A5D-17fOD1D5RD4WC10tE6OAZC3nF-7b1C4A4D3qCF2fgmapcromlHA2QA6a1E1D3e1A6C2bie2F4iddnIA7B2mvnwcIB5OA1DB2OLQA3PB10WC7WC5d1E3uI-7b1D5D6b1E4D2arlAA4EA1F-11srxI-7MB1D7PF1E5B4adB-21YD5vrZH3D3xAC4E1A2GF2CF2J-7yNC2JE1MI2hH-7QB1C6B5B-9bA-7XB13a1B5VievwpKB4LA3NF-10H-9I-8hhaC-16nqPG4wsleTD5zqYF3h1G2B7B4yvGE2Pi1H-7C-21OE6B1uLD1kI4WC1E7C5g1D-8fue1C8C6c1D4D3Hpi1CC4kvGC2E1legallyXB4axVA11rsA4A-9nkdtlmzBA2GD3A13A6CB1dabE1lezrUE6RD5TB4A-7f1C8c1B5d1D4D3tyfCD5C2D2==\",\n        h = function () {\n      for (var e = 0, t = document.domain, n = t.split(\".\"), r = \"_gd\" + new Date().getTime(); e < n.length - 1 && -1 == document.cookie.indexOf(r + \"=\" + r);) {\n        t = n.slice(-1 - ++e).join(\".\"), document.cookie = r + \"=\" + r + \";domain=\" + t + \";\";\n      }\n\n      return document.cookie = r + \"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain=\" + t + \";\", (t || \"\").replace(/(^\\.*)|(\\.*$)/g, \"\");\n    }();\n\n    function g(e) {\n      return e;\n    }\n\n    var m,\n        v,\n        E = g(function (e) {\n      if (!e) return e;\n\n      for (var t = \"\", n = g(\"charCodeAt\"), r = g(\"fromCharCode\"), i = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\".indexOf(e[0]), a = 1; a < e.length - 2; a++) {\n        for (var o = d(++i), s = e[n](a), l = \"\"; /[0-9-]/.test(e[a + 1]);) {\n          l += e[++a];\n        }\n\n        s = c(s, o, l = parseInt(l, 10) || 0), s ^= i - 1 & 31, t += String[r](s);\n      }\n\n      return t;\n    });\n\n    function d(e) {\n      for (var t = e.toString(), n = 0, r = 0; r < t.length; r++) {\n        n += parseInt(t.charAt(r), 10);\n      }\n\n      return 10 < n ? n % 9 + 1 : n;\n    }\n\n    function c(e, t, n) {\n      for (var r = Math.abs(n); 0 < r--;) {\n        e -= t;\n      }\n\n      return n < 0 && (e += 123), e;\n    }\n\n    function b(e) {\n      return e && \"block\" !== e.css(\"display\") ? (e.remove(), !0) : e && 0 === p.helpers.getPX(e.css(\"height\")) ? (e.remove(), !0) : !(!e || \"absolute\" !== e.css(\"position\") && \"fixed\" !== e.css(\"position\") || (e.remove(), 0));\n    }\n\n    function T(e) {\n      return e && 0 === p.$box.find(e).length;\n    }\n\n    var e = 0;\n\n    function A() {\n      if (10 < e && (p[g(E(\"0ppecjvc==\"))](), setTimeout(function () {\n        Ee.FE = null;\n      }, 10)), !p.$box) return !1;\n      p.$wp.prepend(E(g(E(u)))), m = p.$wp.find(\"> div:first\"), v = m.find(\"> a\"), \"rtl\" == p.opts.direction && m.css(\"left\", \"auto\").css(\"right\", 0).attr(\"direction\", \"rtl\"), e++;\n    }\n\n    function C(e) {\n      for (var t = [E(\"9qqG-7amjlwq==\"), E(\"KA3B3C2A6D1D5H5H1A3==\"), E(\"3B9B3B5F3C4G3E3==\"), E(\"QzbzvxyB2yA-9m==\"), E(\"ji1kacwmgG5bc==\"), E(\"nmA-13aogi1A3c1jd==\"), E(\"BA9ggq==\"), E(\"emznbjbH3fij==\"), E(\"tkC-22d1qC-13sD1wzF-7==\")], n = 0; n < t.length; n++) {\n        if (String.prototype.endsWith || (String.prototype.endsWith = function (e, t) {\n          return (t === undefined || t > this.length) && (t = this.length), this.substring(t - e.length, t) === e;\n        }), e.endsWith(t[n])) return !0;\n      }\n\n      return !1;\n    }\n\n    return {\n      _init: function _init() {\n        var e = p.o_win.FEK;\n\n        try {\n          e = e || localStorage && localStorage.FEK;\n        } catch (f) {}\n\n        e = p.opts.key || e || [\"\"];\n        var t = E(g(\"ziRA1E3B9pA5B-11D-11xg1A3ZB5D1D4B-11ED2EG2pdeoC1clIH4wB-22yQD5uF4YE3E3A9==\"));\n        \"string\" == typeof e && (e = [e]);\n\n        for (var n, r, i, a = !(p.ul = !0), o = 0, s = 0; s < e.length; s++) {\n          var l = (r = e[s], 3 === (i = (E(r) || \"\").split(\"|\")).length ? i : [null, null, E(r) || \"\"]),\n              d = l[2];\n\n          if (d === E(g(E(\"mcVRDoB1BGILD7YFe1BTXBA7B6==\"))) || 0 <= d.indexOf(h, d.length - h.length) || C(h)) {\n            if (!((null === (n = l[1]) || new Date(n) < new Date(E(\"2B3B9A6C7C2C4C3H3I3B2==\"))) && 0 < (h || \"\").length) || C(h)) {\n              p.ul = !1;\n              break;\n            }\n\n            a = !0, u = \"RCZB17botVG4A-8yzia1C4A5DG3CD2cFB4qflmCE4I2FB1SC7F6PE4WE3RD6e2A4c1D3d1E2E3ehxdGE3CE2IB2LC1HG2LE1QA3QC7B-13cC-9epmkjc1B4e1C4pgjgvkOC5E1eNE1HB2LD2B-13WD5tvabUA5a1A4f1A2G3C2A-21cihKE3FE2DB2cccJE1iC-7G-7tD-17tVD6A-9qC-7QC7a1E4B4je1E3E2G2ecmsAA1xH-8HB11C1D1lgzQA3dTB8od1D4XE3ohb1B4E4D3mbLA10NA7C-21d1genodKC11PD9PE5tA-8UI3ZC5XB5B-11qXF2F-7wtwjAG3NA1IB1OD1HC1RD4QJ4evUF2D5XG2G4XA8pqocH1F3G2J2hcpHC4D1MD4C1MB8PD5klcQD1A8A6e2A3ed1E2A24A7HC5C3qA-9tiA-61dcC3MD1LE1D4SA3A9ZZXSE4g1C3Pa2C5ufbcGI3I2B4skLF2CA1vxB-22wgUC4kdH-8cVB5iwe1A2D3H3G-7DD5JC2ED2OH2JB10D3C2xHE1KA29PB11wdC-11C4cixb2C7a1C4YYE3B2A15uB-21wpCA1MF1NuC-21dyzD6pPG4I-7pmjc1A4yte1F3B-22yvCC3VbC-7qC-22qNE2hC1vH-8zad1RF6WF3DpI-7C8A-16hpf1F3D2ylalB-13BB2lpA-63IB3uOF6D5G4gabC-21UD2A3PH4ZA20B11b2C6ED4A2H3I1A15DB4KD2laC-8LA5B8B7==\", o = l[0] || -1;\n          }\n        }\n\n        var c = new Image();\n        !0 === p.ul && (A(), c.src = a ? g(E(t)) + \"e=\" + o : g(E(t)) + \"u\"), !0 === p.ul && (p.events.on(\"contentChanged\", function () {\n          (b(m) || b(v) || T(m) || T(v)) && A();\n        }), p.events.on(\"html.get\", function (e) {\n          return e + '<p data-f-id=\"pbf\" style=\"text-align: center; font-size: 14px; margin-top: 30px; opacity: 0.65; font-family: sans-serif;\">Powered by <a href=\"https://www.froala.com/wysiwyg-editor?pb=1\" title=\"Froala Editor\">Froala Editor</a></p>';\n        })), p.events.on(\"html.set\", function () {\n          var e = p.el.querySelector('[data-f-id=\"pbf\"]');\n          e && Ee(e).remove();\n        }), p.events.on(\"destroy\", function () {\n          m && m.length && m.remove();\n        }, !0);\n      }\n    };\n  }, Ee.extend(Ee.FE.DEFAULTS, {\n    pastePlain: !1,\n    pasteDeniedTags: [\"colgroup\", \"col\", \"meta\"],\n    pasteDeniedAttrs: [\"class\", \"id\", \"style\"],\n    pasteAllowedStyleProps: [\".*\"],\n    pasteAllowLocalImages: !1\n  }), Ee.FE.MODULES.paste = function (C) {\n    var S, o, i, R;\n\n    function n(e, t) {\n      try {\n        C.win.localStorage.setItem(\"fr-copied-html\", e), C.win.localStorage.setItem(\"fr-copied-text\", t);\n      } catch (n) {}\n    }\n\n    function e(e) {\n      var t = C.html.getSelected();\n      n(t, Ee(\"<div>\").html(t).text()), \"cut\" == e.type && (C.undo.saveStep(), setTimeout(function () {\n        C.selection.save(), C.html.wrap(), C.selection.restore(), C.events.focus(), C.undo.saveStep();\n      }, 0));\n    }\n\n    var a = !1;\n\n    function t(e) {\n      if (C.edit.isDisabled()) return !1;\n      if (a) return !1;\n      if (e.originalEvent && (e = e.originalEvent), !1 === C.events.trigger(\"paste.before\", [e])) return e.preventDefault(), !1;\n\n      if (C.$win.scrollTop(), e && e.clipboardData && e.clipboardData.getData) {\n        var t = \"\",\n            n = e.clipboardData.types;\n        if (C.helpers.isArray(n)) for (var r = 0; r < n.length; r++) {\n          t += n[r] + \";\";\n        } else t = n;\n        if (S = \"\", /text\\/rtf/.test(t) && (o = e.clipboardData.getData(\"text/rtf\")), /text\\/html/.test(t) && !C.browser.safari ? S = e.clipboardData.getData(\"text/html\") : /text\\/rtf/.test(t) && C.browser.safari ? S = o : /public.rtf/.test(t) && C.browser.safari && (S = e.clipboardData.getData(\"text/rtf\")), \"\" !== S) return s(), e.preventDefault && (e.stopPropagation(), e.preventDefault()), !1;\n        S = null;\n      }\n\n      return function () {\n        C.selection.save(), C.events.disableBlur(), S = null, i ? (i.html(\"\"), C.browser.edge && C.opts.iframe && C.$el.append(i)) : (i = Ee('<div contenteditable=\"true\" style=\"position: fixed; top: 0; left: -9999px; height: 100%; width: 0; word-break: break-all; overflow:hidden; z-index: 2147483647; line-height: 140%; -moz-user-select: text; -webkit-user-select: text; -ms-user-select: text; user-select: text;\" tabIndex=\"-1\"></div>'), C.browser.webkit ? (i.css(\"top\", C.$sc.scrollTop()), C.$el.after(i)) : C.browser.edge && C.opts.iframe ? C.$el.append(i) : C.$box.after(i), C.events.on(\"destroy\", function () {\n          i.remove();\n        }));\n        C.helpers.isIOS() && C.$sc && C.$sc.overflow(\"hidden\");\n        i.focus(), C.helpers.isIOS() && C.$sc && C.$sc.overflow(\"hidden\", \"\");\n        C.win.setTimeout(s, 1);\n      }(), !1;\n    }\n\n    function r(e) {\n      if (e.originalEvent && (e = e.originalEvent), e && e.dataTransfer && e.dataTransfer.getData) {\n        var t = \"\",\n            n = e.dataTransfer.types;\n        if (C.helpers.isArray(n)) for (var r = 0; r < n.length; r++) {\n          t += n[r] + \";\";\n        } else t = n;\n\n        if (S = \"\", /text\\/rtf/.test(t) && (o = e.dataTransfer.getData(\"text/rtf\")), /text\\/html/.test(t) ? S = e.dataTransfer.getData(\"text/html\") : /text\\/rtf/.test(t) && C.browser.safari ? S = o : /text\\/plain/.test(t) && !this.browser.mozilla && (S = C.html.escapeEntities(e.dataTransfer.getData(\"text/plain\")).replace(/\\n/g, \"<br>\")), \"\" !== S) {\n          C.keys.forceUndo(), R = C.snapshot.get(), C.selection.save(), C.$el.find(\".fr-marker\").removeClass(\"fr-marker\").addClass(\"fr-marker-helper\");\n          var i = C.markers.insertAtPoint(e);\n\n          if (C.$el.find(\".fr-marker\").removeClass(\"fr-marker\").addClass(\"fr-marker-placeholder\"), C.$el.find(\".fr-marker-helper\").addClass(\"fr-marker\").removeClass(\"fr-marker-helper\"), C.selection.restore(), C.selection.remove(), C.$el.find(\".fr-marker-placeholder\").addClass(\"fr-marker\").removeClass(\"fr-marker-placeholder\"), !1 !== i) {\n            var a = C.el.querySelector(\".fr-marker\");\n            return Ee(a).replaceWith(Ee.FE.MARKERS), C.selection.restore(), s(), e.preventDefault && (e.stopPropagation(), e.preventDefault()), !1;\n          }\n        } else S = null;\n      }\n    }\n\n    function s() {\n      C.browser.edge && C.opts.iframe && C.$box.after(i), R || (C.keys.forceUndo(), R = C.snapshot.get()), S || (S = i.get(0).innerHTML, C.selection.restore(), C.events.enableBlur());\n      var e = S.match(/(class=\\\"?Mso|class=\\'?Mso|class=\"?Xl|class='?Xl|class=Xl|style=\\\"[^\\\"]*\\bmso\\-|style=\\'[^\\']*\\bmso\\-|w:WordDocument)/gi),\n          t = C.events.chainTrigger(\"paste.beforeCleanup\", S);\n      t && \"string\" == typeof t && (S = t), (!e || e && !1 !== C.events.trigger(\"paste.wordPaste\", [S])) && l(S, e);\n    }\n\n    function y(e) {\n      for (var t = \"\", n = 0; n++ < e;) {\n        t += \"&nbsp;\";\n      }\n\n      return t;\n    }\n\n    function l(r, e, t) {\n      var n,\n          i = null,\n          a = null;\n\n      if (0 <= r.toLowerCase().indexOf(\"<body\")) {\n        var o = \"\";\n        0 <= r.indexOf(\"<style\") && (o = r.replace(/[.\\s\\S\\w\\W<>]*(<style[^>]*>[\\s]*[.\\s\\S\\w\\W<>]*[\\s]*<\\/style>)[.\\s\\S\\w\\W<>]*/gi, \"$1\")), r = o + r.replace(/[.\\s\\S\\w\\W<>]*<body[^>]*>[\\s]*([.\\s\\S\\w\\W<>]*)[\\s]*<\\/body>[.\\s\\S\\w\\W<>]*/gi, \"$1\");\n        var s = 0,\n            l = \"\";\n        r.replace(/<pre.*?>([\\s\\S]*?)<\\/pre>/gi, function (e, t, n) {\n          s < n && (l += r.substring(s, n).replace(/ \\n/g, \" \").replace(/\\n /g, \" \").replace(/([^>])\\n([^<])/g, \"$1 $2\")), l += e, s = n + e.length;\n        }), r.length > s + 1 && (l += r.substring(s, r.length).replace(/ \\n/g, \" \").replace(/\\n /g, \" \").replace(/([^>])\\n([^<])/g, \"$1 $2\")), r = l;\n      }\n\n      var d = !1;\n      0 <= r.indexOf('id=\"docs-internal-guid') && (r = r.replace(/^[\\w\\W\\s\\S]* id=\"docs-internal-guid[^>]*>([\\w\\W\\s\\S]*)<\\/b>[\\w\\W\\s\\S]*$/g, \"$1\"), d = !0), 0 <= r.indexOf('content=\"Sheets\"') && (r = r.replace(/width:0px;/g, \"\"));\n      var c = !1,\n          f = !1;\n\n      if (!e && (c = function (e) {\n        var t = null;\n\n        try {\n          t = C.win.localStorage.getItem(\"fr-copied-text\");\n        } catch (n) {}\n\n        return !(!t || Ee(\"<div>\").html(e).text().replace(/\\u00A0/gi, \" \").replace(/\\r|\\n/gi, \"\") != t.replace(/\\u00A0/gi, \" \").replace(/\\r|\\n/gi, \"\"));\n      }(r), f = function () {\n        var e = null;\n\n        try {\n          e = C.win.localStorage.getItem(\"fr-dragged-content-text\");\n        } catch (t) {}\n\n        return !(!e || Ee(\"<div>\").html(S).text().replace(/\\u00A0/gi, \" \").replace(/\\r|\\n/gi, \"\") != e.replace(/\\u00A0/gi, \" \").replace(/\\r|\\n/gi, \"\"));\n      }(), c && (r = C.win.localStorage.getItem(\"fr-copied-html\")), f && (c = !0, r = C.win.localStorage.getItem(\"fr-dragged-content-html\")), !c)) {\n        var p = C.opts.htmlAllowedStyleProps;\n        C.opts.htmlAllowedStyleProps = C.opts.pasteAllowedStyleProps, C.opts.htmlAllowComments = !1, r = (r = (r = r.replace(/<span class=\"Apple-tab-span\">\\s*<\\/span>/g, y(C.opts.tabSpaces || 4))).replace(/<span class=\"Apple-tab-span\" style=\"white-space:pre\">(\\t*)<\\/span>/g, function (e, t) {\n          return y(t.length * (C.opts.tabSpaces || 4));\n        })).replace(/\\t/g, y(C.opts.tabSpaces || 4)), r = C.clean.html(r, C.opts.pasteDeniedTags, C.opts.pasteDeniedAttrs), C.opts.htmlAllowedStyleProps = p, C.opts.htmlAllowComments = !0, r = (r = (r = _(r)).replace(/\\r/g, \"\")).replace(/^ */g, \"\").replace(/ *$/g, \"\");\n      }\n\n      !e || C.wordPaste && t || (0 === (r = r.replace(/^\\n*/g, \"\").replace(/^ /g, \"\")).indexOf(\"<colgroup>\") && (r = \"<table>\" + r + \"</table>\"), r = _(r = function (e) {\n        var t;\n        e = (e = (e = (e = (e = (e = (e = (e = (e = (e = (e = (e = (e = (e = (e = e.replace(/<p(.*?)class=\"?'?MsoListParagraph\"?'? ([\\s\\S]*?)>([\\s\\S]*?)<\\/p>/gi, \"<ul><li>$3</li></ul>\")).replace(/<p(.*?)class=\"?'?NumberedText\"?'? ([\\s\\S]*?)>([\\s\\S]*?)<\\/p>/gi, \"<ol><li>$3</li></ol>\")).replace(/<p(.*?)class=\"?'?MsoListParagraphCxSpFirst\"?'?([\\s\\S]*?)(level\\d)?([\\s\\S]*?)>([\\s\\S]*?)<\\/p>/gi, \"<ul><li$3>$5</li>\")).replace(/<p(.*?)class=\"?'?NumberedTextCxSpFirst\"?'?([\\s\\S]*?)(level\\d)?([\\s\\S]*?)>([\\s\\S]*?)<\\/p>/gi, \"<ol><li$3>$5</li>\")).replace(/<p(.*?)class=\"?'?MsoListParagraphCxSpMiddle\"?'?([\\s\\S]*?)(level\\d)?([\\s\\S]*?)>([\\s\\S]*?)<\\/p>/gi, \"<li$3>$5</li>\")).replace(/<p(.*?)class=\"?'?NumberedTextCxSpMiddle\"?'?([\\s\\S]*?)(level\\d)?([\\s\\S]*?)>([\\s\\S]*?)<\\/p>/gi, \"<li$3>$5</li>\")).replace(/<p(.*?)class=\"?'?MsoListBullet\"?'?([\\s\\S]*?)(level\\d)?([\\s\\S]*?)>([\\s\\S]*?)<\\/p>/gi, \"<li$3>$5</li>\")).replace(/<p(.*?)class=\"?'?MsoListParagraphCxSpLast\"?'?([\\s\\S]*?)(level\\d)?([\\s\\S]*?)>([\\s\\S]*?)<\\/p>/gi, \"<li$3>$5</li></ul>\")).replace(/<p(.*?)class=\"?'?NumberedTextCxSpLast\"?'?([\\s\\S]*?)(level\\d)?([\\s\\S]*?)>([\\s\\S]*?)<\\/p>/gi, \"<li$3>$5</li></ol>\")).replace(/<span([^<]*?)style=\"?'?mso-list:Ignore\"?'?([\\s\\S]*?)>([\\s\\S]*?)<span/gi, \"<span><span\")).replace(/<!--\\[if \\!supportLists\\]-->([\\s\\S]*?)<!--\\[endif\\]-->/gi, \"\")).replace(/<!\\[if \\!supportLists\\]>([\\s\\S]*?)<!\\[endif\\]>/gi, \"\")).replace(/(\\n|\\r| class=(\")?Mso[a-zA-Z0-9]+(\")?)/gi, \" \")).replace(/<!--[\\s\\S]*?-->/gi, \"\")).replace(/<(\\/)*(meta|link|span|\\\\?xml:|st1:|o:|font)(.*?)>/gi, \"\");\n        var n,\n            r = [\"style\", \"script\", \"applet\", \"embed\", \"noframes\", \"noscript\"];\n\n        for (t = 0; t < r.length; t++) {\n          var i = new RegExp(\"<\" + r[t] + \".*?\" + r[t] + \"(.*?)>\", \"gi\");\n          e = e.replace(i, \"\");\n        }\n\n        for (e = (e = (e = e.replace(/&nbsp;/gi, \" \")).replace(/<td([^>]*)><\\/td>/g, \"<td$1><br></td>\")).replace(/<th([^>]*)><\\/th>/g, \"<th$1><br></th>\"); (e = (n = e).replace(/<[^\\/>][^>]*><\\/[^>]+>/gi, \"\")) != n;) {\n          ;\n        }\n\n        e = (e = e.replace(/<lilevel([^1])([^>]*)>/gi, '<li data-indent=\"true\"$2>')).replace(/<lilevel1([^>]*)>/gi, \"<li$1>\"), e = (e = (e = C.clean.html(e, C.opts.pasteDeniedTags, C.opts.pasteDeniedAttrs)).replace(/<a>(.[^<]+)<\\/a>/gi, \"$1\")).replace(/<br> */g, \"<br>\");\n        var a = C.o_doc.createElement(\"div\");\n        a.innerHTML = e;\n        var o = a.querySelectorAll(\"li[data-indent]\");\n\n        for (t = 0; t < o.length; t++) {\n          var s = o[t],\n              l = s.previousElementSibling;\n\n          if (l && \"LI\" == l.tagName) {\n            var d = l.querySelector(\":scope > ul, :scope > ol\");\n            d || (d = document.createElement(\"ul\"), l.appendChild(d)), d.appendChild(s);\n          } else s.removeAttribute(\"data-indent\");\n        }\n\n        return C.html.cleanBlankSpaces(a), e = a.innerHTML;\n      }(r))), C.opts.pastePlain && !c && (r = function (e) {\n        var t,\n            n = null,\n            r = C.doc.createElement(\"div\");\n        r.innerHTML = e;\n        var i = r.querySelectorAll(\"p, div, h1, h2, h3, h4, h5, h6, pre, blockquote\");\n\n        for (t = 0; t < i.length; t++) {\n          (n = i[t]).outerHTML = \"<\" + (C.html.defaultTag() || \"DIV\") + \">\" + n.innerHTML + \"</\" + (C.html.defaultTag() || \"DIV\") + \">\";\n        }\n\n        for (t = (i = r.querySelectorAll(\"*:not(\" + \"p, div, h1, h2, h3, h4, h5, h6, pre, blockquote, ul, ol, li, table, tbody, thead, tr, td, br, img\".split(\",\").join(\"):not(\") + \")\")).length - 1; 0 <= t; t--) {\n          (n = i[t]).outerHTML = n.innerHTML;\n        }\n\n        var a = function a(e) {\n          for (var t = C.node.contents(e), n = 0; n < t.length; n++) {\n            t[n].nodeType != Node.TEXT_NODE && t[n].nodeType != Node.ELEMENT_NODE ? t[n].parentNode.removeChild(t[n]) : a(t[n]);\n          }\n        };\n\n        return a(r), r.innerHTML;\n      }(r));\n      var u = C.events.chainTrigger(\"paste.afterCleanup\", r);\n\n      if (\"string\" == typeof u && (r = u), \"\" !== r) {\n        var h = C.o_doc.createElement(\"div\");\n        0 <= (h.innerHTML = r).indexOf(\"<body>\") ? (C.html.cleanBlankSpaces(h), C.spaces.normalize(h, !0)) : C.spaces.normalize(h);\n        var g = h.getElementsByTagName(\"span\");\n\n        for (n = g.length - 1; 0 <= n; n--) {\n          var m = g[n];\n          0 === m.attributes.length && (m.outerHTML = m.innerHTML);\n        }\n\n        var v = C.selection.element(),\n            E = !1;\n\n        if (v && Ee(v).parentsUntil(C.el, \"ul, ol\").length && (E = !0), E) {\n          var b = h.children;\n          1 == b.length && 0 <= [\"OL\", \"UL\"].indexOf(b[0].tagName) && (b[0].outerHTML = b[0].innerHTML);\n        }\n\n        if (!d) {\n          var T = h.getElementsByTagName(\"br\");\n\n          for (n = T.length - 1; 0 <= n; n--) {\n            var A = T[n];\n            C.node.isBlock(A.previousSibling) && A.parentNode.removeChild(A);\n          }\n        }\n\n        if (C.opts.enter == Ee.FE.ENTER_BR) for (n = (i = h.querySelectorAll(\"p, div\")).length - 1; 0 <= n; n--) {\n          0 === (a = i[n]).attributes.length && (a.outerHTML = a.innerHTML + (a.nextSibling && !C.node.isEmpty(a) ? \"<br>\" : \"\"));\n        } else if (C.opts.enter == Ee.FE.ENTER_DIV) for (n = (i = h.getElementsByTagName(\"p\")).length - 1; 0 <= n; n--) {\n          0 === (a = i[n]).attributes.length && (a.outerHTML = \"<div>\" + a.innerHTML + \"</div>\");\n        } else C.opts.enter == Ee.FE.ENTER_P && 1 == h.childNodes.length && \"P\" == h.childNodes[0].tagName && 0 === h.childNodes[0].attributes.length && (h.childNodes[0].outerHTML = h.childNodes[0].innerHTML);\n        r = h.innerHTML, c && (r = function (e) {\n          var t,\n              n = C.o_doc.createElement(\"div\");\n          n.innerHTML = e;\n          var r = n.querySelectorAll(\"*:empty:not(td):not(th):not(tr):not(iframe):not(svg):not(\" + Ee.FE.VOID_ELEMENTS.join(\"):not(\") + \"):not(\" + C.opts.htmlAllowedEmptyTags.join(\"):not(\") + \")\");\n\n          for (; r.length;) {\n            for (t = 0; t < r.length; t++) {\n              r[t].parentNode.removeChild(r[t]);\n            }\n\n            r = n.querySelectorAll(\"*:empty:not(td):not(th):not(tr):not(iframe):not(svg):not(\" + Ee.FE.VOID_ELEMENTS.join(\"):not(\") + \"):not(\" + C.opts.htmlAllowedEmptyTags.join(\"):not(\") + \")\");\n          }\n\n          return n.innerHTML;\n        }(r)), C.html.insert(r, !0);\n      }\n\n      C.events.trigger(\"paste.after\"), C.undo.saveStep(R), R = null, C.undo.saveStep();\n    }\n\n    function d(e) {\n      for (var t = e.length - 1; 0 <= t; t--) {\n        e[t].attributes && e[t].attributes.length && e.splice(t, 1);\n      }\n\n      return e;\n    }\n\n    function _(e) {\n      var t,\n          n = C.o_doc.createElement(\"div\");\n      n.innerHTML = e;\n\n      for (var r = d(Array.prototype.slice.call(n.querySelectorAll(\":scope > div:not([style]), td > div:not([style]), th > div:not([style]), li > div:not([style])\"))); r.length;) {\n        var i = r[r.length - 1];\n        if (C.html.defaultTag() && \"div\" != C.html.defaultTag()) i.querySelector(C.html.blockTagsQuery()) ? i.outerHTML = i.innerHTML : i.outerHTML = \"<\" + C.html.defaultTag() + \">\" + i.innerHTML + \"</\" + C.html.defaultTag() + \">\";else {\n          var a = i.querySelectorAll(\"*\");\n          !a.length || \"BR\" !== a[a.length - 1].tagName && 0 === i.innerText.length ? i.outerHTML = i.innerHTML + (i.nextSibling ? \"<br>\" : \"\") : !a.length || \"BR\" !== a[a.length - 1].tagName || a[a.length - 1].nextSibling ? i.outerHTML = i.innerHTML + (i.nextSibling ? \"<br>\" : \"\") : i.outerHTML = i.innerHTML;\n        }\n        r = d(Array.prototype.slice.call(n.querySelectorAll(\":scope > div:not([style]), td > div:not([style]), th > div:not([style]), li > div:not([style])\")));\n      }\n\n      for (r = d(Array.prototype.slice.call(n.querySelectorAll(\"div:not([style])\"))); r.length;) {\n        for (t = 0; t < r.length; t++) {\n          var o = r[t],\n              s = o.innerHTML.replace(/\\u0009/gi, \"\").trim();\n\n          try {\n            o.outerHTML = s;\n          } catch (l) {}\n        }\n\n        r = d(Array.prototype.slice.call(n.querySelectorAll(\"div:not([style])\")));\n      }\n\n      return n.innerHTML;\n    }\n\n    function c(e) {\n      if (e.originalEvent && e.originalEvent.target && e.originalEvent.target.nodeType == Node.TEXT_NODE) try {\n        C.win.localStorage.setItem(\"fr-dragged-content-html\", e.originalEvent.dataTransfer.getData(\"text/html\")), C.win.localStorage.setItem(\"fr-dragged-content-text\", e.originalEvent.dataTransfer.getData(\"text/plain\"));\n      } catch (t) {}\n    }\n\n    function f() {\n      C.el.removeEventListener(\"copy\", e), C.el.removeEventListener(\"cut\", e), C.el.removeEventListener(\"paste\", t);\n    }\n\n    return {\n      _init: function _init() {\n        C.el.addEventListener(\"copy\", e), C.el.addEventListener(\"cut\", e), C.el.addEventListener(\"paste\", t, {\n          capture: !0\n        }), C.events.on(\"drop\", r), C.browser.msie && C.browser.version < 11 && (C.events.on(\"mouseup\", function (e) {\n          2 == e.button && (setTimeout(function () {\n            a = !1;\n          }, 50), a = !0);\n        }, !0), C.events.on(\"beforepaste\", t)), C.events.on(\"dragstart\", c, !0), C.events.on(\"destroy\", f);\n      },\n      cleanEmptyTagsAndDivs: _,\n      getRtfClipboard: function getRtfClipboard() {\n        return o;\n      },\n      saveCopiedText: n,\n      clean: l\n    };\n  }, Ee.extend(Ee.FE.DEFAULTS, {\n    shortcutsEnabled: [],\n    shortcutsHint: !0\n  }), Ee.FE.SHORTCUTS_MAP = {}, Ee.FE.RegisterShortcut = function (e, t, n, r, i, a) {\n    Ee.FE.SHORTCUTS_MAP[(i ? \"^\" : \"\") + (a ? \"@\" : \"\") + e] = {\n      cmd: t,\n      val: n,\n      letter: r,\n      shift: i,\n      option: a\n    }, Ee.FE.DEFAULTS.shortcutsEnabled.push(t);\n  }, Ee.FE.RegisterShortcut(Ee.FE.KEYCODE.E, \"show\", null, \"E\", !1, !1), Ee.FE.RegisterShortcut(Ee.FE.KEYCODE.B, \"bold\", null, \"B\", !1, !1), Ee.FE.RegisterShortcut(Ee.FE.KEYCODE.I, \"italic\", null, \"I\", !1, !1), Ee.FE.RegisterShortcut(Ee.FE.KEYCODE.U, \"underline\", null, \"U\", !1, !1), Ee.FE.RegisterShortcut(Ee.FE.KEYCODE.S, \"strikeThrough\", null, \"S\", !1, !1), Ee.FE.RegisterShortcut(Ee.FE.KEYCODE.CLOSE_SQUARE_BRACKET, \"indent\", null, \"]\", !1, !1), Ee.FE.RegisterShortcut(Ee.FE.KEYCODE.OPEN_SQUARE_BRACKET, \"outdent\", null, \"[\", !1, !1), Ee.FE.RegisterShortcut(Ee.FE.KEYCODE.Z, \"undo\", null, \"Z\", !1, !1), Ee.FE.RegisterShortcut(Ee.FE.KEYCODE.Z, \"redo\", null, \"Z\", !0, !1), Ee.FE.RegisterShortcut(Ee.FE.KEYCODE.Y, \"redo\", null, \"Y\", !1, !1), Ee.FE.MODULES.shortcuts = function (s) {\n    var r = null;\n    var l = !1;\n\n    function e(e) {\n      if (!s.core.hasFocus()) return !0;\n      var t = e.which,\n          n = -1 != navigator.userAgent.indexOf(\"Mac OS X\") ? e.metaKey : e.ctrlKey;\n      if (\"keyup\" == e.type && l && t != Ee.FE.KEYCODE.META) return l = !1;\n      \"keydown\" == e.type && (l = !1);\n      var r = (e.shiftKey ? \"^\" : \"\") + (e.altKey ? \"@\" : \"\") + t;\n\n      if (n && Ee.FE.SHORTCUTS_MAP[r]) {\n        var i = Ee.FE.SHORTCUTS_MAP[r].cmd;\n\n        if (i && 0 <= s.opts.shortcutsEnabled.indexOf(i)) {\n          var a,\n              o = Ee.FE.SHORTCUTS_MAP[r].val;\n          if (i && !o ? a = s.$tb.find('.fr-command[data-cmd=\"' + i + '\"]') : i && o && (a = s.$tb.find('.fr-command[data-cmd=\"' + i + '\"][data-param1=\"' + o + '\"]')), a.length) return e.preventDefault(), e.stopPropagation(), a.parents(\".fr-toolbar\").data(\"instance\", s), \"keydown\" == e.type && (s.button.exec(a), l = !0), !1;\n          if (i && (s.commands[i] || Ee.FE.COMMANDS[i] && Ee.FE.COMMANDS[i].callback)) return e.preventDefault(), e.stopPropagation(), \"keydown\" == e.type && ((s.commands[i] || Ee.FE.COMMANDS[i].callback)(), l = !0), !1;\n        }\n      }\n    }\n\n    return {\n      _init: function _init() {\n        s.events.on(\"keydown\", e, !0), s.events.on(\"keyup\", e, !0);\n      },\n      get: function get(e) {\n        if (!s.opts.shortcutsHint) return null;\n        if (!r) for (var t in r = {}, Ee.FE.SHORTCUTS_MAP) {\n          Ee.FE.SHORTCUTS_MAP.hasOwnProperty(t) && 0 <= s.opts.shortcutsEnabled.indexOf(Ee.FE.SHORTCUTS_MAP[t].cmd) && (r[Ee.FE.SHORTCUTS_MAP[t].cmd + \".\" + (Ee.FE.SHORTCUTS_MAP[t].val || \"\")] = {\n            shift: Ee.FE.SHORTCUTS_MAP[t].shift,\n            option: Ee.FE.SHORTCUTS_MAP[t].option,\n            letter: Ee.FE.SHORTCUTS_MAP[t].letter\n          });\n        }\n        var n = r[e];\n        return n ? (s.helpers.isMac() ? String.fromCharCode(8984) : s.language.translate(\"Ctrl\") + \"+\") + (n.shift ? s.helpers.isMac() ? String.fromCharCode(8679) : s.language.translate(\"Shift\") + \"+\" : \"\") + (n.option ? s.helpers.isMac() ? String.fromCharCode(8997) : s.language.translate(\"Alt\") + \"+\" : \"\") + n.letter : null;\n      }\n    };\n  }, Ee.FE.MODULES.snapshot = function (l) {\n    function n(e) {\n      for (var t = e.parentNode.childNodes, n = 0, r = null, i = 0; i < t.length; i++) {\n        if (r) {\n          var a = t[i].nodeType === Node.TEXT_NODE && \"\" === t[i].textContent,\n              o = r.nodeType === Node.TEXT_NODE && t[i].nodeType === Node.TEXT_NODE,\n              s = r.nodeType === Node.TEXT_NODE && \"\" === r.textContent;\n          a || o || s || n++;\n        }\n\n        if (t[i] == e) return n;\n        r = t[i];\n      }\n    }\n\n    function i(e) {\n      var t = [];\n      if (!e.parentNode) return [];\n\n      for (; !l.node.isElement(e);) {\n        t.push(n(e)), e = e.parentNode;\n      }\n\n      return t.reverse();\n    }\n\n    function a(e, t) {\n      for (; e && e.nodeType === Node.TEXT_NODE;) {\n        var n = e.previousSibling;\n        n && n.nodeType == Node.TEXT_NODE && (t += n.textContent.length), e = n;\n      }\n\n      return t;\n    }\n\n    function d(e) {\n      for (var t = l.el, n = 0; n < e.length; n++) {\n        t = t.childNodes[e[n]];\n      }\n\n      return t;\n    }\n\n    function r(e, t) {\n      try {\n        var n = d(t.scLoc),\n            r = t.scOffset,\n            i = d(t.ecLoc),\n            a = t.ecOffset,\n            o = l.doc.createRange();\n        o.setStart(n, r), o.setEnd(i, a), e.addRange(o);\n      } catch (s) {}\n    }\n\n    return {\n      get: function get() {\n        var e,\n            t = {};\n        if (l.events.trigger(\"snapshot.before\"), t.html = (l.$wp ? l.$el.html() : l.$oel.get(0).outerHTML).replace(/ style=\"\"/g, \"\"), t.ranges = [], l.$wp && l.selection.inEditor() && l.core.hasFocus()) for (var n = l.selection.ranges(), r = 0; r < n.length; r++) {\n          t.ranges.push({\n            scLoc: i((e = n[r]).startContainer),\n            scOffset: a(e.startContainer, e.startOffset),\n            ecLoc: i(e.endContainer),\n            ecOffset: a(e.endContainer, e.endOffset)\n          });\n        }\n        return l.events.trigger(\"snapshot.after\", [t]), t;\n      },\n      restore: function restore(e) {\n        l.$el.html() != e.html && (l.opts.htmlExecuteScripts ? l.$el.html(e.html) : l.el.innerHTML = e.html);\n        var t = l.selection.get();\n        l.selection.clear(), l.events.focus(!0);\n\n        for (var n = 0; n < e.ranges.length; n++) {\n          r(t, e.ranges[n]);\n        }\n      },\n      equal: function equal(e, t) {\n        return e.html == t.html && (!l.core.hasFocus() || JSON.stringify(e.ranges) == JSON.stringify(t.ranges));\n      }\n    };\n  }, Ee.FE.MODULES.undo = function (n) {\n    function e(e) {\n      var t = e.which;\n      n.keys.ctrlKey(e) && (90 == t && e.shiftKey && e.preventDefault(), 90 == t && e.preventDefault());\n    }\n\n    var t = null;\n\n    function r() {\n      if (!n.undo_stack || n.undoing) return !1;\n\n      for (; n.undo_stack.length > n.undo_index;) {\n        n.undo_stack.pop();\n      }\n    }\n\n    function i() {\n      t = (n.$wp ? n.$el.html() : n.$oel.get(0).outerHTML).replace(/ style=\"\"/g, \"\"), n.undo_index = 0, n.undo_stack = [];\n    }\n\n    function a() {\n      n.undo_stack = [];\n    }\n\n    return {\n      _init: function _init() {\n        i(), n.events.on(\"initialized\", function () {\n          t = (n.$wp ? n.$el.html() : n.$oel.get(0).outerHTML).replace(/ style=\"\"/g, \"\");\n        }), n.events.on(\"blur\", function () {\n          n.el.querySelector(\".fr-dragging\") || n.undo.saveStep();\n        }), n.events.on(\"keydown\", e), n.events.on(\"destroy\", a);\n      },\n      run: function run() {\n        if (1 < n.undo_index) {\n          n.undoing = !0;\n          var e = n.undo_stack[--n.undo_index - 1];\n          clearTimeout(n._content_changed_timer), n.snapshot.restore(e), t = e.html, n.popups.hideAll(), n.toolbar.enable(), n.events.trigger(\"contentChanged\"), n.events.trigger(\"commands.undo\"), n.undoing = !1;\n        }\n      },\n      redo: function redo() {\n        if (n.undo_index < n.undo_stack.length) {\n          n.undoing = !0;\n          var e = n.undo_stack[n.undo_index++];\n          clearTimeout(n._content_changed_timer), n.snapshot.restore(e), t = e.html, n.popups.hideAll(), n.toolbar.enable(), n.events.trigger(\"contentChanged\"), n.events.trigger(\"commands.redo\"), n.undoing = !1;\n        }\n      },\n      canDo: function canDo() {\n        return !(0 === n.undo_stack.length || n.undo_index <= 1);\n      },\n      canRedo: function canRedo() {\n        return n.undo_index != n.undo_stack.length;\n      },\n      dropRedo: r,\n      reset: i,\n      saveStep: function saveStep(e) {\n        if (!n.undo_stack || n.undoing || n.el.querySelector(\".fr-marker\")) return !1;\n        void 0 === e ? (e = n.snapshot.get(), n.undo_stack[n.undo_index - 1] && n.snapshot.equal(n.undo_stack[n.undo_index - 1], e) || (r(), n.undo_stack.push(e), n.undo_index++, e.html != t && (n.events.trigger(\"contentChanged\"), t = e.html))) : (r(), 0 < n.undo_index ? n.undo_stack[n.undo_index - 1] = e : (n.undo_stack.push(e), n.undo_index++));\n      }\n    };\n  }, Ee.FE.ICON_TEMPLATES = {\n    font_awesome: '<i class=\"fa fa-[NAME]\" aria-hidden=\"true\"></i>',\n    font_awesome_5: '<i class=\"fas fa-[FA5NAME]\" aria-hidden=\"true\"></i>',\n    font_awesome_5r: '<i class=\"far fa-[FA5NAME]\" aria-hidden=\"true\"></i>',\n    font_awesome_5l: '<i class=\"fal fa-[FA5NAME]\" aria-hidden=\"true\"></i>',\n    font_awesome_5b: '<i class=\"fab fa-[FA5NAME]\" aria-hidden=\"true\"></i>',\n    text: '<span style=\"text-align: center;\">[NAME]</span>',\n    image: \"<img src=[SRC] alt=[ALT] />\",\n    svg: '<svg viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\">[PATH]</svg>',\n    empty: \" \"\n  }, Ee.FE.ICONS = {\n    bold: {\n      NAME: \"bold\"\n    },\n    italic: {\n      NAME: \"italic\"\n    },\n    underline: {\n      NAME: \"underline\"\n    },\n    strikeThrough: {\n      NAME: \"strikethrough\"\n    },\n    subscript: {\n      NAME: \"subscript\"\n    },\n    superscript: {\n      NAME: \"superscript\"\n    },\n    color: {\n      NAME: \"tint\"\n    },\n    outdent: {\n      NAME: \"outdent\"\n    },\n    indent: {\n      NAME: \"indent\"\n    },\n    undo: {\n      NAME: \"rotate-left\",\n      FA5NAME: \"undo\"\n    },\n    redo: {\n      NAME: \"rotate-right\",\n      FA5NAME: \"redo\"\n    },\n    insertHR: {\n      NAME: \"minus\"\n    },\n    clearFormatting: {\n      NAME: \"eraser\"\n    },\n    selectAll: {\n      NAME: \"mouse-pointer\"\n    }\n  }, Ee.FE.DefineIconTemplate = function (e, t) {\n    Ee.FE.ICON_TEMPLATES[e] = t;\n  }, Ee.FE.DefineIcon = function (e, t) {\n    Ee.FE.ICONS[e] = t;\n  }, Ee.extend(Ee.FE.DEFAULTS, {\n    iconsTemplate: \"font_awesome\"\n  }), Ee.FE.MODULES.icon = function (i) {\n    return {\n      create: function create(n) {\n        var e = null,\n            r = Ee.FE.ICONS[n];\n\n        if (void 0 !== r) {\n          var t = r.template || Ee.FE.ICON_DEFAULT_TEMPLATE || i.opts.iconsTemplate;\n          t && t.apply && (t = t.apply(i)), r.FA5NAME || (r.FA5NAME = r.NAME), t && (t = Ee.FE.ICON_TEMPLATES[t]) && (e = t.replace(/\\[([a-zA-Z0-9]*)\\]/g, function (e, t) {\n            return \"NAME\" == t ? r[t] || n : r[t];\n          }));\n        }\n\n        return e || n;\n      },\n      getTemplate: function getTemplate(e) {\n        var t = Ee.FE.ICONS[e],\n            n = i.opts.iconsTemplate;\n        return void 0 !== t ? n = t.template || Ee.FE.ICON_DEFAULT_TEMPLATE || i.opts.iconsTemplate : n;\n      }\n    };\n  }, Ee.extend(Ee.FE.DEFAULTS, {\n    tooltips: !0\n  }), Ee.FE.MODULES.tooltip = function (i) {\n    function r() {\n      if (i.helpers.isMobile()) return !1;\n      i.$tooltip && i.$tooltip.removeClass(\"fr-visible\").css(\"left\", \"-3000px\").css(\"position\", \"fixed\");\n    }\n\n    function a(e, t) {\n      if (i.helpers.isMobile()) return !1;\n      if (e.data(\"title\") || e.data(\"title\", e.attr(\"title\")), !e.data(\"title\")) return !1;\n      i.$tooltip || i.opts.tooltips && !i.helpers.isMobile() && (i.shared.$tooltip ? i.$tooltip = i.shared.$tooltip : (i.shared.$tooltip = Ee('<div class=\"fr-tooltip\"></div>'), i.$tooltip = i.shared.$tooltip, i.opts.theme && i.$tooltip.addClass(i.opts.theme + \"-theme\"), Ee(i.o_doc).find(\"body:first\").append(i.$tooltip)), i.events.on(\"shared.destroy\", function () {\n        i.$tooltip.html(\"\").removeData().remove(), i.$tooltip = null;\n      }, !0)), e.removeAttr(\"title\"), i.$tooltip.text(i.language.translate(e.data(\"title\"))), i.$tooltip.addClass(\"fr-visible\");\n      var n = e.offset().left + (e.outerWidth() - i.$tooltip.outerWidth()) / 2;\n      n < 0 && (n = 0), n + i.$tooltip.outerWidth() > Ee(i.o_win).width() && (n = Ee(i.o_win).width() - i.$tooltip.outerWidth()), void 0 === t && (t = i.opts.toolbarBottom);\n      var r = t ? e.offset().top - i.$tooltip.height() : e.offset().top + e.outerHeight();\n      i.$tooltip.css(\"position\", \"\"), i.$tooltip.css(\"left\", n), i.$tooltip.css(\"top\", Math.ceil(r)), \"static\" != Ee(i.o_doc).find(\"body:first\").css(\"position\") ? (i.$tooltip.css(\"margin-left\", -Ee(i.o_doc).find(\"body:first\").offset().left), i.$tooltip.css(\"margin-top\", -Ee(i.o_doc).find(\"body:first\").offset().top)) : (i.$tooltip.css(\"margin-left\", \"\"), i.$tooltip.css(\"margin-top\", \"\"));\n    }\n\n    return {\n      hide: r,\n      to: a,\n      bind: function bind(e, t, n) {\n        i.opts.tooltips && !i.helpers.isMobile() && (i.events.$on(e, \"mouseenter\", t, function (e) {\n          i.node.hasClass(e.currentTarget, \"fr-disabled\") || i.edit.isDisabled() || a(Ee(e.currentTarget), n);\n        }, !0), i.events.$on(e, \"mouseleave \" + i._mousedown + \" \" + i._mouseup, t, function () {\n          r();\n        }, !0));\n      }\n    };\n  }, Ee.FE.MODULES.button = function (u) {\n    var o = [];\n    (u.opts.toolbarInline || u.opts.toolbarContainer) && (u.shared.buttons || (u.shared.buttons = []), o = u.shared.buttons);\n    var s = [];\n\n    function l(e, t, n) {\n      for (var r = Ee(), i = 0; i < e.length; i++) {\n        var a = Ee(e[i]);\n\n        if (a.is(t) && (r = r.add(a)), n && a.is(\".fr-dropdown\")) {\n          var o = a.next().find(t);\n          r = r.add(o);\n        }\n      }\n\n      return r;\n    }\n\n    function d(e, t) {\n      var n,\n          r = Ee();\n      if (!e) return r;\n\n      for (n in r = (r = r.add(l(o, e, t))).add(l(s, e, t)), u.shared.popups) {\n        if (u.shared.popups.hasOwnProperty(n)) {\n          var i = u.shared.popups[n].children().find(e);\n          r = r.add(i);\n        }\n      }\n\n      for (n in u.shared.modals) {\n        if (u.shared.modals.hasOwnProperty(n)) {\n          var a = u.shared.modals[n].$modal.find(e);\n          r = r.add(a);\n        }\n      }\n\n      return r;\n    }\n\n    function r(e) {\n      e.addClass(\"fr-blink\"), setTimeout(function () {\n        e.removeClass(\"fr-blink\");\n      }, 500);\n\n      for (var t = e.data(\"cmd\"), n = []; void 0 !== e.data(\"param\" + (n.length + 1));) {\n        n.push(e.data(\"param\" + (n.length + 1)));\n      }\n\n      var r = d(\".fr-dropdown.fr-active\");\n      r.length && (r.removeClass(\"fr-active\").attr(\"aria-expanded\", !1).next().attr(\"aria-hidden\", !0), r.prev(\".fr-expanded\").removeClass(\"fr-expanded\"), r.parent(\".fr-toolbar:not(.fr-inline)\").css(\"zIndex\", \"\")), e.parents(\".fr-popup, .fr-toolbar\").data(\"instance\").commands.exec(t, n);\n    }\n\n    function t(e) {\n      var t = e.parents(\".fr-popup, .fr-toolbar\").data(\"instance\");\n\n      if (0 !== e.parents(\".fr-popup\").length || e.data(\"popup\") || t.popups.hideAll(), t.popups.areVisible() && !t.popups.areVisible(t)) {\n        for (var n = 0; n < Ee.FE.INSTANCES.length; n++) {\n          Ee.FE.INSTANCES[n] != t && Ee.FE.INSTANCES[n].popups && Ee.FE.INSTANCES[n].popups.areVisible() && Ee.FE.INSTANCES[n].$el.find(\".fr-marker\").remove();\n        }\n\n        t.popups.hideAll();\n      }\n\n      u.node.hasClass(e.get(0), \"fr-dropdown\") ? function (e) {\n        var t = e.next(),\n            n = u.node.hasClass(e.get(0), \"fr-active\"),\n            r = d(\".fr-dropdown.fr-active\").not(e),\n            i = e.parents(\".fr-toolbar, .fr-popup\").data(\"instance\") || u;\n\n        if (i.helpers.isIOS() && !i.el.querySelector(\".fr-marker\") && (i.selection.save(), i.selection.clear(), i.selection.restore()), !n) {\n          var a = e.data(\"cmd\");\n          t.find(\".fr-command\").removeClass(\"fr-active\").attr(\"aria-selected\", !1), Ee.FE.COMMANDS[a] && Ee.FE.COMMANDS[a].refreshOnShow && Ee.FE.COMMANDS[a].refreshOnShow.apply(i, [e, t]), t.css(\"left\", e.offset().left - e.parent().offset().left - (\"rtl\" == u.opts.direction ? t.width() - e.outerWidth() : 0)), t.addClass(\"test-height\");\n          var o = t.outerHeight();\n          t.removeClass(\"test-height\"), t.css(\"top\", \"\").css(\"bottom\", \"\"), !u.opts.toolbarBottom && t.offset().top + e.outerHeight() + o < Ee(u.o_doc).height() ? t.css(\"top\", e.position().top + e.outerHeight()) : t.css(\"bottom\", e.parents(\".fr-popup, .fr-toolbar\").first().height() - e.position().top);\n        }\n\n        e.addClass(\"fr-blink\").toggleClass(\"fr-active\"), e.hasClass(\"fr-options\") && e.prev().toggleClass(\"fr-expanded\"), e.hasClass(\"fr-active\") ? (t.attr(\"aria-hidden\", !1), e.attr(\"aria-expanded\", !0)) : (t.attr(\"aria-hidden\", !0), e.attr(\"aria-expanded\", !1)), setTimeout(function () {\n          e.removeClass(\"fr-blink\");\n        }, 300), t.css(\"margin-left\", \"\"), t.offset().left + t.outerWidth() > u.$sc.offset().left + u.$sc.width() && t.css(\"margin-left\", -(t.offset().left + t.outerWidth() - u.$sc.offset().left - u.$sc.width())), t.offset().left < u.$sc.offset().left && \"rtl\" == u.opts.direction && t.css(\"margin-left\", u.$sc.offset().left), r.removeClass(\"fr-active\").attr(\"aria-expanded\", !1).next().attr(\"aria-hidden\", !0), r.prev(\".fr-expanded\").removeClass(\"fr-expanded\"), r.parent(\".fr-toolbar:not(.fr-inline)\").css(\"zIndex\", \"\"), 0 !== e.parents(\".fr-popup\").length || u.opts.toolbarInline || (u.node.hasClass(e.get(0), \"fr-active\") ? u.$tb.css(\"zIndex\", (u.opts.zIndex || 1) + 4) : u.$tb.css(\"zIndex\", \"\"));\n        var s = t.find(\"a.fr-command.fr-active:first\");\n        u.helpers.isMobile() || (s.length ? u.accessibility.focusToolbarElement(s) : u.accessibility.focusToolbarElement(e));\n      }(e) : (r(e), Ee.FE.COMMANDS[e.data(\"cmd\")] && !1 !== Ee.FE.COMMANDS[e.data(\"cmd\")].refreshAfterCallback && t.button.bulkRefresh());\n    }\n\n    function a(e) {\n      t(Ee(e.currentTarget));\n    }\n\n    function c(e) {\n      var t = e.find(\".fr-dropdown.fr-active\");\n      t.length && (t.removeClass(\"fr-active\").attr(\"aria-expanded\", !1).next().attr(\"aria-hidden\", !0), t.parent(\".fr-toolbar:not(.fr-inline)\").css(\"zIndex\", \"\"), t.prev().removeClass(\"fr-expanded\"));\n    }\n\n    function f(e) {\n      e.preventDefault(), e.stopPropagation();\n    }\n\n    function p(e) {\n      if (e.stopPropagation(), !u.helpers.isMobile()) return !1;\n    }\n\n    function h(e, t, n) {\n      if (t = Ee.extend(!0, {}, t), u.helpers.isMobile() && !1 === t.showOnMobile) return \"\";\n      var r = t.displaySelection;\n      \"function\" == typeof r && (r = r(u));\n      var i = \"\";\n      if (\"options\" !== t.type) if (r) {\n        var a = \"function\" == typeof t.defaultSelection ? t.defaultSelection(u) : t.defaultSelection;\n        i = '<span style=\"width:' + (t.displaySelectionWidth || 100) + 'px\">' + u.language.translate(a || t.title) + \"</span>\";\n      } else i = u.icon.create(t.icon || e), i += '<span class=\"fr-sr-only\">' + (u.language.translate(t.title) || \"\") + \"</span>\";\n      var o = t.popup ? ' data-popup=\"true\"' : \"\",\n          s = t.modal ? ' data-modal=\"true\"' : \"\",\n          l = u.shortcuts.get(e + \".\");\n      l = l ? \" (\" + l + \")\" : \"\";\n      var d = e + \"-\" + u.id,\n          c = \"dropdown-menu-\" + d,\n          f = '<button id=\"' + d + '\"type=\"button\" tabIndex=\"-1\" role=\"button\"' + (t.toggle ? ' aria-pressed=\"false\"' : \"\") + (\"dropdown\" == t.type || \"options\" == t.type ? ' aria-controls=\"' + c + '\" aria-expanded=\"false\" aria-haspopup=\"true\"' : \"\") + (t.disabled ? ' aria-disabled=\"true\"' : \"\") + ' title=\"' + (u.language.translate(t.title) || \"\") + l + '\" class=\"fr-command fr-btn' + (\"dropdown\" == t.type || \"options\" == t.type ? \" fr-dropdown\" : \"\") + (\"options\" == t.type ? \" fr-options\" : \"\") + \" fr-btn-\" + u.icon.getTemplate(t.icon) + (t.displaySelection ? \" fr-selection\" : \"\") + (t.back ? \" fr-back\" : \"\") + (t.disabled ? \" fr-disabled\" : \"\") + (n ? \"\" : \" fr-hidden\") + '\" data-cmd=\"' + e + '\"' + o + s + \">\" + i + \"</button>\";\n\n      if (\"dropdown\" == t.type || \"options\" == t.type) {\n        var p = '<div id=\"' + c + '\" class=\"fr-dropdown-menu\" role=\"listbox\" aria-labelledby=\"' + d + '\" aria-hidden=\"true\"><div class=\"fr-dropdown-wrapper\" role=\"presentation\"><div class=\"fr-dropdown-content\" role=\"presentation\">';\n        p += function (e, t) {\n          var n = \"\";\n          if (t.html) \"function\" == typeof t.html ? n += t.html.call(u) : n += t.html;else {\n            var r = t.options;\n\n            for (var i in \"function\" == typeof r && (r = r()), n += '<ul class=\"fr-dropdown-list\" role=\"presentation\">', r) {\n              if (r.hasOwnProperty(i)) {\n                var a = u.shortcuts.get(e + \".\" + i);\n                a = a ? '<span class=\"fr-shortcut\">' + a + \"</span>\" : \"\", n += '<li role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"' + (\"options\" === t.type ? e.replace(/Options/g, \"\") : e) + '\" data-param1=\"' + i + '\" title=\"' + r[i] + '\">' + u.language.translate(r[i]) + \"</a></li>\";\n              }\n            }\n\n            n += \"</ul>\";\n          }\n          return n;\n        }(e, t), f += p += \"</div></div></div>\";\n      }\n\n      return t.hasOptions && t.hasOptions.apply(u) && (t.type = \"options\", t.hasOptions = !1, f = '<div class=\"fr-btn-wrap\">' + f + h(e + \"Options\", t, n) + \"</div>\"), f;\n    }\n\n    function e(i) {\n      var a = u.$tb && u.$tb.data(\"instance\") || u;\n      if (!1 === u.events.trigger(\"buttons.refresh\")) return !0;\n      setTimeout(function () {\n        for (var e = a.selection.inEditor() && a.core.hasFocus(), t = 0; t < i.length; t++) {\n          var n = Ee(i[t]),\n              r = n.data(\"cmd\");\n          0 === n.parents(\".fr-popup\").length ? e || Ee.FE.COMMANDS[r] && Ee.FE.COMMANDS[r].forcedRefresh ? a.button.refresh(n) : u.node.hasClass(n.get(0), \"fr-dropdown\") || (n.removeClass(\"fr-active\"), n.attr(\"aria-pressed\") && n.attr(\"aria-pressed\", !1)) : n.parents(\".fr-popup\").is(\":visible\") && a.button.refresh(n);\n        }\n      }, 0);\n    }\n\n    function n() {\n      e(o), e(s);\n    }\n\n    function i() {\n      o = [], s = [];\n    }\n\n    u.shared.popup_buttons || (u.shared.popup_buttons = []), s = u.shared.popup_buttons;\n    var g = null;\n\n    function m() {\n      clearTimeout(g), g = setTimeout(n, 50);\n    }\n\n    return {\n      _init: function _init() {\n        u.opts.toolbarInline ? u.events.on(\"toolbar.show\", n) : (u.events.on(\"mouseup\", m), u.events.on(\"keyup\", m), u.events.on(\"blur\", m), u.events.on(\"focus\", m), u.events.on(\"contentChanged\", m), u.helpers.isMobile() && u.events.$on(u.$doc, \"selectionchange\", n)), u.events.on(\"shared.destroy\", i);\n      },\n      buildList: function buildList(e, t) {\n        for (var n = \"\", r = 0; r < e.length; r++) {\n          var i = e[r],\n              a = Ee.FE.COMMANDS[i];\n          a && \"undefined\" != typeof a.plugin && u.opts.pluginsEnabled.indexOf(a.plugin) < 0 || (a ? n += h(i, a, void 0 === t || 0 <= t.indexOf(i)) : \"|\" == i ? n += '<div class=\"fr-separator fr-vs\" role=\"separator\" aria-orientation=\"vertical\"></div>' : \"-\" == i && (n += '<div class=\"fr-separator fr-hs\" role=\"separator\" aria-orientation=\"horizontal\"></div>'));\n        }\n\n        return n;\n      },\n      bindCommands: function bindCommands(t, e) {\n        u.events.bindClick(t, \".fr-command:not(.fr-disabled)\", a), u.events.$on(t, u._mousedown + \" \" + u._mouseup + \" \" + u._move, \".fr-dropdown-menu\", f, !0), u.events.$on(t, u._mousedown + \" \" + u._mouseup + \" \" + u._move, \".fr-dropdown-menu .fr-dropdown-wrapper\", p, !0);\n\n        var n = t.get(0).ownerDocument,\n            r = \"defaultView\" in n ? n.defaultView : n.parentWindow,\n            i = function i(e) {\n          (!e || e.type == u._mouseup && e.target != Ee(\"html\").get(0) || \"keydown\" == e.type && (u.keys.isCharacter(e.which) && !u.keys.ctrlKey(e) || e.which == Ee.FE.KEYCODE.ESC)) && c(t);\n        };\n\n        u.events.$on(Ee(r), u._mouseup + \" resize keydown\", i, !0), u.opts.iframe && u.events.$on(u.$win, u._mouseup, i, !0), u.node.hasClass(t.get(0), \"fr-popup\") ? Ee.merge(s, t.find(\".fr-btn\").toArray()) : Ee.merge(o, t.find(\".fr-btn\").toArray()), u.tooltip.bind(t, \".fr-btn, .fr-title\", e);\n      },\n      refresh: function refresh(e) {\n        var t,\n            n = e.parents(\".fr-popup, .fr-toolbar\").data(\"instance\") || u,\n            r = e.data(\"cmd\");\n        u.node.hasClass(e.get(0), \"fr-dropdown\") ? t = e.next() : (e.removeClass(\"fr-active\"), e.attr(\"aria-pressed\") && e.attr(\"aria-pressed\", !1)), Ee.FE.COMMANDS[r] && Ee.FE.COMMANDS[r].refresh ? Ee.FE.COMMANDS[r].refresh.apply(n, [e, t]) : u.refresh[r] && n.refresh[r](e, t);\n      },\n      bulkRefresh: n,\n      exec: r,\n      click: t,\n      hideActiveDropdowns: c,\n      getButtons: d\n    };\n  }, Ee.FE.MODULES.modals = function (l) {\n    l.shared.modals || (l.shared.modals = {});\n    var s,\n        d = l.shared.modals;\n\n    function e() {\n      for (var e in d) {\n        var t = d[e];\n        t && t.$modal && t.$modal.removeData().remove();\n      }\n\n      s && s.removeData().remove(), d = {};\n    }\n\n    function c(e, t) {\n      if (d[e]) {\n        var n = d[e].$modal,\n            r = n.data(\"instance\") || l;\n        r.events.enableBlur(), n.hide(), s.hide(), Ee(r.o_doc).find(\"body:first\").removeClass(\"prevent-scroll fr-mobile\"), n.removeClass(\"fr-active\"), t || (r.accessibility.restoreSelection(), r.events.trigger(\"modals.hide\"));\n      }\n    }\n\n    function n(e) {\n      var t;\n\n      if (\"string\" == typeof e) {\n        if (!d[e]) return;\n        t = d[e].$modal;\n      } else t = e;\n\n      return t && l.node.hasClass(t, \"fr-active\") && l.core.sameInstance(t) || !1;\n    }\n\n    return {\n      _init: function _init() {\n        l.events.on(\"shared.destroy\", e, !0);\n      },\n      get: function get(e) {\n        return d[e];\n      },\n      create: function create(n, e, t) {\n        if (l.shared.$overlay || (l.shared.$overlay = Ee('<div class=\"fr-overlay\">').appendTo(\"body:first\")), s = l.shared.$overlay, l.opts.theme && s.addClass(l.opts.theme + \"-theme\"), !d[n]) {\n          var r = (i = e, a = t, o = '<div tabIndex=\"-1\" class=\"fr-modal' + (l.opts.theme ? \" \" + l.opts.theme + \"-theme\" : \"\") + '\"><div class=\"fr-modal-wrapper\">', o += '<div class=\"fr-modal-head\">' + i + '<span title=\"' + l.language.translate(\"Cancel\") + '\" class=\"fr-modal-close\">&times;</span></div>', o += '<div tabIndex=\"-1\" class=\"fr-modal-body\">' + a + \"</div>\", Ee(o += \"</div></div>\"));\n          d[n] = {\n            $modal: r,\n            $head: r.find(\".fr-modal-head\"),\n            $body: r.find(\".fr-modal-body\")\n          }, l.helpers.isMobile() || r.addClass(\"fr-desktop\"), r.appendTo(\"body:first\"), l.events.$on(r, \"click\", \".fr-modal-close\", function () {\n            c(n);\n          }, !0), d[n].$body.css(\"margin-top\", d[n].$head.outerHeight()), l.events.$on(r, \"keydown\", function (e) {\n            var t = e.which;\n            return t == Ee.FE.KEYCODE.ESC ? (c(n), l.accessibility.focusModalButton(r), !1) : !(!Ee(e.target).is(\"input[type=text], textarea\") && t != Ee.FE.KEYCODE.ARROW_UP && t != Ee.FE.KEYCODE.ARROW_DOWN && !l.keys.isBrowserAction(e) && (e.preventDefault(), e.stopPropagation(), 1));\n          }, !0), c(n, !0);\n        }\n\n        var i, a, o;\n        return d[n];\n      },\n      show: function show(e) {\n        if (d[e]) {\n          var t = d[e].$modal;\n          t.data(\"instance\", l), t.show(), s.show(), Ee(l.o_doc).find(\"body:first\").addClass(\"prevent-scroll\"), l.helpers.isMobile() && Ee(l.o_doc).find(\"body:first\").addClass(\"fr-mobile\"), t.addClass(\"fr-active\"), l.accessibility.focusModal(t);\n        }\n      },\n      hide: c,\n      resize: function resize(e) {\n        if (d[e]) {\n          var t = d[e],\n              n = t.$modal,\n              r = t.$body,\n              i = Ee(l.o_win).height(),\n              a = n.find(\".fr-modal-wrapper\"),\n              o = i - a.outerHeight(!0) + (a.height() - (r.outerHeight(!0) - r.height())),\n              s = \"auto\";\n          o < r.get(0).scrollHeight && (s = o), r.height(s);\n        }\n      },\n      isVisible: n,\n      areVisible: function areVisible(e) {\n        for (var t in d) {\n          if (d.hasOwnProperty(t) && n(t) && (void 0 === e || d[t].$modal.data(\"instance\") == e)) return d[t].$modal;\n        }\n\n        return !1;\n      }\n    };\n  }, Ee.FE.POPUP_TEMPLATES = {\n    \"text.edit\": \"[_EDIT_]\"\n  }, Ee.FE.RegisterTemplate = function (e, t) {\n    Ee.FE.POPUP_TEMPLATES[e] = t;\n  }, Ee.FE.MODULES.popups = function (c) {\n    c.shared.popups || (c.shared.popups = {});\n    var f = c.shared.popups;\n\n    function p(e, t) {\n      t.is(\":visible\") || (t = c.$sc), t.is(f[e].data(\"container\")) || (f[e].data(\"container\", t), t.append(f[e]));\n    }\n\n    function u(e) {\n      return f[e] && c.node.hasClass(f[e], \"fr-active\") && c.core.sameInstance(f[e]) || !1;\n    }\n\n    function h(e) {\n      for (var t in f) {\n        if (f.hasOwnProperty(t) && u(t) && (void 0 === e || f[t].data(\"instance\") == e)) return f[t];\n      }\n\n      return !1;\n    }\n\n    function n(e) {\n      var t = null;\n      (t = \"string\" != typeof e ? e : f[e]) && c.node.hasClass(t, \"fr-active\") && (t.removeClass(\"fr-active fr-above\"), c.events.trigger(\"popups.hide.\" + e), c.$tb && (1 < c.opts.zIndex ? c.$tb.css(\"zIndex\", c.opts.zIndex + 1) : c.$tb.css(\"zIndex\", \"\")), c.events.disableBlur(), t.find(\"input, textarea, button\").filter(\":focus\").blur(), t.find(\"input, textarea\").attr(\"disabled\", \"disabled\"));\n    }\n\n    function g(e) {\n      for (var t in void 0 === e && (e = []), f) {\n        f.hasOwnProperty(t) && e.indexOf(t) < 0 && n(t);\n      }\n    }\n\n    function t() {\n      c.shared.exit_flag = !0;\n    }\n\n    function m() {\n      c.shared.exit_flag = !1;\n    }\n\n    function a() {\n      return c.shared.exit_flag;\n    }\n\n    function i(e, t) {\n      var n,\n          r,\n          i = function (e, t) {\n        var n = Ee.FE.POPUP_TEMPLATES[e];\n        if (!n) return null;\n\n        for (var r in \"function\" == typeof n && (n = n.apply(c)), t) {\n          t.hasOwnProperty(r) && (n = n.replace(\"[_\" + r.toUpperCase() + \"_]\", t[r]));\n        }\n\n        return n;\n      }(e, t);\n\n      return i ? (n = Ee('<div class=\"fr-popup' + (c.helpers.isMobile() ? \" fr-mobile\" : \" fr-desktop\") + (c.opts.toolbarInline ? \" fr-inline\" : \"\") + '\"><span class=\"fr-arrow\"></span>' + i + \"</div>\"), c.opts.theme && n.addClass(c.opts.theme + \"-theme\"), 1 < c.opts.zIndex && (c.opts.editInPopup ? n.css(\"z-index\", c.opts.zIndex + 2) : c.$tb.css(\"z-index\", c.opts.zIndex + 2)), \"auto\" != c.opts.direction && n.removeClass(\"fr-ltr fr-rtl\").addClass(\"fr-\" + c.opts.direction), n.find(\"input, textarea\").attr(\"dir\", c.opts.direction).attr(\"disabled\", \"disabled\"), (r = Ee(\"body:first\")).append(n), n.data(\"container\", r), f[e] = n, c.button.bindCommands(n, !1), n) : (n = Ee('<div class=\"fr-popup fr-empty\"></div>'), (r = Ee(\"body:first\")).append(n), n.data(\"container\", r), f[e] = n);\n    }\n\n    function v(r) {\n      var i = f[r];\n      return {\n        _windowResize: function _windowResize() {\n          var e = i.data(\"instance\") || c;\n          !e.helpers.isMobile() && i.is(\":visible\") && (e.events.disableBlur(), e.popups.hide(r), e.events.enableBlur());\n        },\n        _inputFocus: function _inputFocus(e) {\n          var t = i.data(\"instance\") || c,\n              n = Ee(e.currentTarget);\n\n          if (n.is(\"input:file\") && n.closest(\".fr-layer\").addClass(\"fr-input-focus\"), e.preventDefault(), e.stopPropagation(), setTimeout(function () {\n            t.events.enableBlur();\n          }, c.browser.msie ? 100 : 0), t.helpers.isMobile()) {\n            var r = Ee(t.o_win).scrollTop();\n            setTimeout(function () {\n              Ee(t.o_win).scrollTop(r);\n            }, 0);\n          }\n        },\n        _inputBlur: function _inputBlur(e) {\n          var t = i.data(\"instance\") || c,\n              n = Ee(e.currentTarget);\n          n.is(\"input:file\") && n.closest(\".fr-layer\").removeClass(\"fr-input-focus\"), document.activeElement != this && Ee(this).is(\":visible\") && (t.events.blurActive() && t.events.trigger(\"blur\"), t.events.enableBlur());\n        },\n        _editorKeydown: function _editorKeydown(e) {\n          var t = i.data(\"instance\") || c;\n          t.keys.ctrlKey(e) || e.which == Ee.FE.KEYCODE.ALT || e.which == Ee.FE.KEYCODE.ESC || (u(r) && i.find(\".fr-back:visible\").length ? t.button.exec(i.find(\".fr-back:visible:first\")) : e.which != Ee.FE.KEYCODE.ALT && t.popups.hide(r));\n        },\n        _preventFocus: function _preventFocus(e) {\n          var t = i.data(\"instance\") || c,\n              n = e.originalEvent ? e.originalEvent.target || e.originalEvent.originalTarget : null;\n          \"mouseup\" == e.type || Ee(n).is(\":focus\") || t.events.disableBlur(), \"mouseup\" != e.type || Ee(n).hasClass(\"fr-command\") || 0 < Ee(n).parents(\".fr-command\").length || Ee(n).hasClass(\"fr-dropdown-content\") || c.button.hideActiveDropdowns(i), (c.browser.safari || c.browser.mozilla) && \"mousedown\" == e.type && Ee(n).is(\"input[type=file]\") && t.events.disableBlur();\n          var r = \"input, textarea, button, select, label, .fr-command\";\n          if (n && !Ee(n).is(r) && 0 === Ee(n).parents(r).length) return e.stopPropagation(), !1;\n          n && Ee(n).is(r) && e.stopPropagation(), m();\n        },\n        _editorMouseup: function _editorMouseup() {\n          i.is(\":visible\") && a() && 0 < i.find(\"input:focus, textarea:focus, button:focus, select:focus\").filter(\":visible\").length && c.events.disableBlur();\n        },\n        _windowMouseup: function _windowMouseup(e) {\n          if (!c.core.sameInstance(i)) return !0;\n          var t = i.data(\"instance\") || c;\n          i.is(\":visible\") && a() && (e.stopPropagation(), t.markers.remove(), t.popups.hide(r), m());\n        },\n        _windowKeydown: function _windowKeydown(e) {\n          if (!c.core.sameInstance(i)) return !0;\n          var t = i.data(\"instance\") || c,\n              n = e.which;\n\n          if (Ee.FE.KEYCODE.ESC == n) {\n            if (t.popups.isVisible(r) && t.opts.toolbarInline) return e.stopPropagation(), t.popups.isVisible(r) && (i.find(\".fr-back:visible\").length ? (t.button.exec(i.find(\".fr-back:visible:first\")), t.accessibility.focusPopupButton(i)) : i.find(\".fr-dismiss:visible\").length ? t.button.exec(i.find(\".fr-dismiss:visible:first\")) : (t.popups.hide(r), t.toolbar.showInline(null, !0), t.accessibility.focusPopupButton(i))), !1;\n            if (t.popups.isVisible(r)) return i.find(\".fr-back:visible\").length ? (t.button.exec(i.find(\".fr-back:visible:first\")), t.accessibility.focusPopupButton(i)) : i.find(\".fr-dismiss:visible\").length ? t.button.exec(i.find(\".fr-dismiss:visible:first\")) : (t.popups.hide(r), t.accessibility.focusPopupButton(i)), !1;\n          }\n        },\n        _doPlaceholder: function _doPlaceholder() {\n          0 === Ee(this).next().length && Ee(this).attr(\"placeholder\") && Ee(this).after('<label for=\"' + Ee(this).attr(\"id\") + '\">' + Ee(this).attr(\"placeholder\") + \"</label>\"), Ee(this).toggleClass(\"fr-not-empty\", \"\" !== Ee(this).val());\n        },\n        _repositionPopup: function _repositionPopup() {\n          if (!c.opts.height && !c.opts.heightMax || c.opts.toolbarInline) return !0;\n\n          if (c.$wp && u(r) && i.parent().get(0) == c.$sc.get(0)) {\n            var e = i.offset().top - c.$wp.offset().top,\n                t = c.$wp.outerHeight();\n            c.node.hasClass(i.get(0), \"fr-above\") && (e += i.outerHeight()), t < e || e < 0 ? i.addClass(\"fr-hidden\") : i.removeClass(\"fr-hidden\");\n          }\n        }\n      };\n    }\n\n    function o(e, t) {\n      c.events.on(\"mouseup\", e._editorMouseup, !0), c.$wp && c.events.on(\"keydown\", e._editorKeydown), c.events.on(\"blur\", function () {\n        h() && c.markers.remove(), g();\n      }), c.$wp && !c.helpers.isMobile() && c.events.$on(c.$wp, \"scroll.popup\" + t, e._repositionPopup), c.events.on(\"window.mouseup\", e._windowMouseup, !0), c.events.on(\"window.keydown\", e._windowKeydown, !0), f[t].data(\"inst\" + c.id, !0), c.events.on(\"destroy\", function () {\n        c.core.sameInstance(f[t]) && f[t].removeClass(\"fr-active\").appendTo(\"body:first\");\n      }, !0);\n    }\n\n    function e() {\n      for (var e in f) {\n        if (f.hasOwnProperty(e)) {\n          var t = f[e];\n          t && (t.html(\"\").removeData().remove(), f[e] = null);\n        }\n      }\n\n      f = [];\n    }\n\n    return c.shared.exit_flag = !1, {\n      _init: function _init() {\n        c.events.on(\"shared.destroy\", e, !0), c.events.on(\"window.mousedown\", t), c.events.on(\"window.touchmove\", m), c.events.$on(Ee(c.o_win), \"scroll\", m), c.events.on(\"mousedown\", function (e) {\n          h() && (e.stopPropagation(), c.$el.find(\".fr-marker\").remove(), t(), c.events.disableBlur());\n        });\n      },\n      create: function create(e, t) {\n        var n = i(e, t),\n            r = v(e);\n        return o(r, e), c.events.$on(n, \"mousedown mouseup touchstart touchend touch\", \"*\", r._preventFocus, !0), c.events.$on(n, \"focus\", \"input, textarea, button, select\", r._inputFocus, !0), c.events.$on(n, \"blur\", \"input, textarea, button, select\", r._inputBlur, !0), c.accessibility.registerPopup(e), c.events.$on(n, \"keydown keyup change input\", \"input, textarea\", r._doPlaceholder, !0), c.helpers.isIOS() && c.events.$on(n, \"touchend\", \"label\", function () {\n          Ee(\"#\" + Ee(this).attr(\"for\")).prop(\"checked\", function (e, t) {\n            return !t;\n          });\n        }, !0), c.events.$on(Ee(c.o_win), \"resize\", r._windowResize, !0), n;\n      },\n      get: function get(e) {\n        var t = f[e];\n        return t && !t.data(\"inst\" + c.id) && o(v(e), e), t;\n      },\n      show: function show(e, t, n, r) {\n        if (u(e) || (h() && 0 < c.$el.find(\".fr-marker\").length ? (c.events.disableBlur(), c.selection.restore()) : h() || (c.events.disableBlur(), c.events.focus(), c.events.enableBlur())), g([e]), !f[e]) return !1;\n        var i = c.button.getButtons(\".fr-dropdown.fr-active\");\n        i.removeClass(\"fr-active\").attr(\"aria-expanded\", !1).parent(\".fr-toolbar\").css(\"zIndex\", \"\"), i.next().attr(\"aria-hidden\", !0), f[e].data(\"instance\", c), c.$tb && c.$tb.data(\"instance\", c);\n        var a = f[e].outerWidth(),\n            o = u(e);\n        f[e].addClass(\"fr-active\").removeClass(\"fr-hidden\").find(\"input, textarea\").removeAttr(\"disabled\");\n        var s,\n            l,\n            d = f[e].data(\"container\");\n        s = e, (l = d).is(\":visible\") || (l = c.$sc), 0 === l.find([f[s]]).length && l.append(f[s]), c.opts.toolbarInline && d && c.$tb && d.get(0) == c.$tb.get(0) && (p(e, c.$sc), n = c.$tb.offset().top - c.helpers.getPX(c.$tb.css(\"margin-top\")), t = c.$tb.offset().left + c.$tb.outerWidth() / 2 + (parseFloat(c.$tb.find(\".fr-arrow\").css(\"margin-left\")) || 0) + c.$tb.find(\".fr-arrow\").outerWidth() / 2, c.node.hasClass(c.$tb.get(0), \"fr-above\") && n && (n += c.$tb.outerHeight()), r = 0), d = f[e].data(\"container\"), !c.opts.iframe || r || o || (t && (t -= c.$iframe.offset().left), n && (n -= c.$iframe.offset().top)), d.is(c.$tb) ? c.$tb.css(\"zIndex\", (c.opts.zIndex || 1) + 4) : f[e].css(\"zIndex\", (c.opts.zIndex || 1) + 4), t && (t -= a / 2), c.opts.toolbarBottom && d && c.$tb && d.get(0) == c.$tb.get(0) && (f[e].addClass(\"fr-above\"), n && (n -= f[e].outerHeight())), f[e].removeClass(\"fr-active\"), c.position.at(t, n, f[e], r || 0), f[e].addClass(\"fr-active\"), o || c.accessibility.focusPopup(f[e]), c.opts.toolbarInline && c.toolbar.hide(), c.events.trigger(\"popups.show.\" + e), v(e)._repositionPopup(), m();\n      },\n      hide: n,\n      onHide: function onHide(e, t) {\n        c.events.on(\"popups.hide.\" + e, t);\n      },\n      hideAll: g,\n      setContainer: p,\n      refresh: function refresh(e) {\n        f[e].data(\"instance\", c), c.events.trigger(\"popups.refresh.\" + e);\n\n        for (var t = f[e].find(\".fr-command\"), n = 0; n < t.length; n++) {\n          var r = Ee(t[n]);\n          0 === r.parents(\".fr-dropdown-menu\").length && c.button.refresh(r);\n        }\n      },\n      onRefresh: function onRefresh(e, t) {\n        c.events.on(\"popups.refresh.\" + e, t);\n      },\n      onShow: function onShow(e, t) {\n        c.events.on(\"popups.show.\" + e, t);\n      },\n      isVisible: u,\n      areVisible: h\n    };\n  }, Ee.FE.MODULES.position = function (E) {\n    function i() {\n      var e = E.selection.ranges(0).getBoundingClientRect();\n\n      if (0 === e.top && 0 === e.left && 0 === e.width || 0 === e.height) {\n        var t = !1;\n        0 === E.$el.find(\".fr-marker\").length && (E.selection.save(), t = !0);\n        var n = E.$el.find(\".fr-marker:first\");\n        n.css(\"display\", \"inline\"), n.css(\"line-height\", \"\");\n        var r = n.offset(),\n            i = n.outerHeight();\n        n.css(\"display\", \"none\"), n.css(\"line-height\", 0), (e = {}).left = r.left, e.width = 0, e.height = i, e.top = r.top - (E.opts.iframe ? 0 : E.helpers.scrollTop()), e.right = 1, e.bottom = 1, e.ok = !0, t && E.selection.restore();\n      }\n\n      return e;\n    }\n\n    function a(e, t, n, r) {\n      var i = n.data(\"container\");\n      !i || \"BODY\" === i.get(0).tagName && \"static\" == i.css(\"position\") || (e && (e -= i.offset().left), t && (t -= i.offset().top), \"BODY\" != i.get(0).tagName ? (e && (e += i.get(0).scrollLeft), t && (t += i.get(0).scrollTop)) : \"absolute\" == i.css(\"position\") && (e && (e += i.position().left), t && (t += i.position().top))), E.opts.iframe && i && E.$tb && i.get(0) != E.$tb.get(0) && (e && (e += E.$iframe.offset().left), t && (t += E.$iframe.offset().top));\n      var a,\n          o,\n          s,\n          l,\n          d = (o = e, s = (a = n).outerWidth(!0), l = a.parent().offset().left, a.parent().get(0) == E.$sc.get(0) && (l -= a.parent().position().left), l + o + s > E.$sc.get(0).clientWidth - 10 && (o = E.$sc.get(0).clientWidth - s - l - 10), o < 0 && (o = 10), o);\n\n      if (e) {\n        n.css(\"left\", d);\n        var c = n.data(\"fr-arrow\");\n        c || (c = n.find(\".fr-arrow\"), n.data(\"fr-arrow\", c)), c.data(\"margin-left\") || c.data(\"margin-left\", E.helpers.getPX(c.css(\"margin-left\"))), c.css(\"margin-left\", e - d + c.data(\"margin-left\"));\n      }\n\n      t && n.css(\"top\", function (e, t, n) {\n        var r = e.outerHeight(!0);\n\n        if (!E.helpers.isMobile() && E.$tb && e.parent().get(0) != E.$tb.get(0)) {\n          var i = e.parent().offset().top,\n              a = t - r - (n || 0);\n          e.parent().get(0) == E.$sc.get(0) && (i -= e.parent().position().top);\n          var o = E.$sc.get(0).clientHeight;\n          i + t + r > E.$sc.offset().top + o && 0 < e.parent().offset().top + a && 0 < a ? a > E.$wp.scrollTop() && (t = a, e.addClass(\"fr-above\")) : e.removeClass(\"fr-above\");\n        }\n\n        return t;\n      }(n, t, r));\n    }\n\n    function n(e) {\n      var n = Ee(e),\n          t = n.is(\".fr-sticky-on\"),\n          r = n.data(\"sticky-top\"),\n          i = n.data(\"sticky-scheduled\");\n\n      if (void 0 === r) {\n        n.data(\"sticky-top\", 0);\n        var a = Ee('<div class=\"fr-sticky-dummy\" style=\"height: ' + n.outerHeight() + 'px;\"></div>');\n        E.$box.prepend(a);\n      } else E.$box.find(\".fr-sticky-dummy\").css(\"height\", n.outerHeight());\n\n      if (E.core.hasFocus() || 0 < E.$tb.find(\"input:visible:focus\").length) {\n        var o = E.helpers.scrollTop(),\n            s = Math.min(Math.max(o - E.$tb.parent().offset().top, 0), E.$tb.parent().outerHeight() - n.outerHeight());\n        s != r && s != i && (clearTimeout(n.data(\"sticky-timeout\")), n.data(\"sticky-scheduled\", s), n.outerHeight() < o - E.$tb.parent().offset().top && n.addClass(\"fr-opacity-0\"), n.data(\"sticky-timeout\", setTimeout(function () {\n          var e = E.helpers.scrollTop(),\n              t = Math.min(Math.max(e - E.$tb.parent().offset().top, 0), E.$tb.parent().outerHeight() - n.outerHeight());\n          0 < t && \"BODY\" == E.$tb.parent().get(0).tagName && (t += E.$tb.parent().position().top), t != r && (n.css(\"top\", Math.max(t, 0)), n.data(\"sticky-top\", t), n.data(\"sticky-scheduled\", t)), n.removeClass(\"fr-opacity-0\");\n        }, 100))), t || (n.css(\"top\", \"0\"), n.width(E.$tb.parent().width()), n.addClass(\"fr-sticky-on\"), E.$box.addClass(\"fr-sticky-box\"));\n      } else clearTimeout(Ee(e).css(\"sticky-timeout\")), n.css(\"top\", \"0\"), n.css(\"position\", \"\"), n.width(\"\"), n.data(\"sticky-top\", 0), n.removeClass(\"fr-sticky-on\"), E.$box.removeClass(\"fr-sticky-box\");\n    }\n\n    function t(e) {\n      if (e.offsetWidth) {\n        var t,\n            n,\n            r = Ee(e),\n            i = r.outerHeight(),\n            a = r.data(\"sticky-top\"),\n            o = r.data(\"sticky-position\"),\n            s = Ee(\"body\" == E.opts.scrollableContainer ? E.o_win : E.opts.scrollableContainer).outerHeight(),\n            l = 0,\n            d = 0;\n        \"body\" !== E.opts.scrollableContainer && (l = E.$sc.offset().top, d = Ee(E.o_win).outerHeight() - l - s);\n        var c = \"body\" == E.opts.scrollableContainer ? E.helpers.scrollTop() : l,\n            f = r.is(\".fr-sticky-on\");\n        r.data(\"sticky-parent\") || r.data(\"sticky-parent\", r.parent());\n        var p = r.data(\"sticky-parent\"),\n            u = p.offset().top,\n            h = p.outerHeight();\n\n        if (r.data(\"sticky-offset\") || void 0 !== a ? E.$box.find(\".fr-sticky-dummy\").css(\"height\", i + \"px\") : (r.data(\"sticky-offset\", !0), r.after('<div class=\"fr-sticky-dummy\" style=\"height: ' + i + 'px;\"></div>')), !o) {\n          var g = \"auto\" !== r.css(\"top\") || \"auto\" !== r.css(\"bottom\");\n          g || r.css(\"position\", \"fixed\"), o = {\n            top: E.node.hasClass(r.get(0), \"fr-top\"),\n            bottom: E.node.hasClass(r.get(0), \"fr-bottom\")\n          }, g || r.css(\"position\", \"\"), r.data(\"sticky-position\", o), r.data(\"top\", E.node.hasClass(r.get(0), \"fr-top\") ? r.css(\"top\") : \"auto\"), r.data(\"bottom\", E.node.hasClass(r.get(0), \"fr-bottom\") ? r.css(\"bottom\") : \"auto\");\n        }\n\n        t = E.helpers.getPX(r.data(\"top\")), n = E.helpers.getPX(r.data(\"bottom\"));\n        var m = o.top && u < c + t && c + t <= u + h - i && (E.helpers.isInViewPort(E.$sc.get(0)) || \"body\" == E.opts.scrollableContainer),\n            v = o.bottom && u + i < c + s - n && c + s - n < u + h;\n        m || v ? (r.css(\"width\", p.get(0).getBoundingClientRect().width + \"px\"), f || (r.addClass(\"fr-sticky-on\"), r.removeClass(\"fr-sticky-off\"), r.css(\"top\") && (\"auto\" != r.data(\"top\") ? r.css(\"top\", E.helpers.getPX(r.data(\"top\")) + l) : r.data(\"top\", \"auto\")), r.css(\"bottom\") && (\"auto\" != r.data(\"bottom\") ? r.css(\"bottom\", E.helpers.getPX(r.data(\"bottom\")) + d) : r.css(\"bottom\", \"auto\")))) : E.node.hasClass(r.get(0), \"fr-sticky-off\") || (r.width(\"\"), r.removeClass(\"fr-sticky-on\"), r.addClass(\"fr-sticky-off\"), r.css(\"top\") && \"auto\" != r.data(\"top\") && o.top && r.css(\"top\", 0), r.css(\"bottom\") && \"auto\" != r.data(\"bottom\") && o.bottom && r.css(\"bottom\", 0));\n      }\n    }\n\n    function e() {\n      if (E._stickyElements) for (var e = 0; e < E._stickyElements.length; e++) {\n        t(E._stickyElements[e]);\n      }\n    }\n\n    return {\n      _init: function _init() {\n        !function () {\n          if (E._stickyElements = [], E.helpers.isIOS()) {\n            var t = function t() {\n              if (E.helpers.requestAnimationFrame()(t), !1 !== E.events.trigger(\"position.refresh\")) for (var e = 0; e < E._stickyElements.length; e++) {\n                n(E._stickyElements[e]);\n              }\n            };\n\n            t(), E.events.$on(Ee(E.o_win), \"scroll\", function () {\n              if (E.core.hasFocus()) for (var e = 0; e < E._stickyElements.length; e++) {\n                var t = Ee(E._stickyElements[e]),\n                    n = t.parent(),\n                    r = E.helpers.scrollTop();\n                t.outerHeight() < r - n.offset().top && (t.addClass(\"fr-opacity-0\"), t.data(\"sticky-top\", -1), t.data(\"sticky-scheduled\", -1));\n              }\n            }, !0);\n          } else \"body\" !== E.opts.scrollableContainer && E.events.$on(Ee(E.opts.scrollableContainer), \"scroll\", e, !0), E.events.$on(Ee(E.o_win), \"scroll\", e, !0), E.events.$on(Ee(E.o_win), \"resize\", e, !0), E.events.on(\"initialized\", e), E.events.on(\"focus\", e), E.events.$on(Ee(E.o_win), \"resize\", \"textarea\", e, !0);\n\n          E.events.on(\"destroy\", function () {\n            E._stickyElements = [];\n          });\n        }();\n      },\n      forSelection: function forSelection(e) {\n        var t = i();\n        e.css({\n          top: 0,\n          left: 0\n        });\n        var n = t.top + t.height,\n            r = t.left + t.width / 2 - e.get(0).offsetWidth / 2 + E.helpers.scrollLeft();\n        E.opts.iframe || (n += E.helpers.scrollTop()), a(r, n, e, t.height);\n      },\n      addSticky: function addSticky(e) {\n        e.addClass(\"fr-sticky\"), E.helpers.isIOS() && e.addClass(\"fr-sticky-ios\"), e.removeClass(\"fr-sticky\"), E._stickyElements.push(e.get(0));\n      },\n      refresh: e,\n      at: a,\n      getBoundingRect: i\n    };\n  }, Ee.FE.MODULES.refresh = function (i) {\n    function a(e, t) {\n      e.toggleClass(\"fr-disabled\", t).attr(\"aria-disabled\", t);\n    }\n\n    return {\n      undo: function undo(e) {\n        a(e, !i.undo.canDo());\n      },\n      redo: function redo(e) {\n        a(e, !i.undo.canRedo());\n      },\n      outdent: function outdent(e) {\n        if (i.node.hasClass(e.get(0), \"fr-no-refresh\")) return !1;\n\n        for (var t = i.selection.blocks(), n = 0; n < t.length; n++) {\n          var r = \"rtl\" == i.opts.direction || \"rtl\" == Ee(t[n]).css(\"direction\") ? \"margin-right\" : \"margin-left\";\n          if (\"LI\" == t[n].tagName || \"LI\" == t[n].parentNode.tagName) return a(e, !1), !0;\n          if (0 < i.helpers.getPX(Ee(t[n]).css(r))) return a(e, !1), !0;\n        }\n\n        a(e, !0);\n      },\n      indent: function indent(e) {\n        if (i.node.hasClass(e.get(0), \"fr-no-refresh\")) return !1;\n\n        for (var t = i.selection.blocks(), n = 0; n < t.length; n++) {\n          for (var r = t[n].previousSibling; r && r.nodeType == Node.TEXT_NODE && 0 === r.textContent.length;) {\n            r = r.previousSibling;\n          }\n\n          if (\"LI\" != t[n].tagName || r) return a(e, !1), !0;\n          a(e, !0);\n        }\n      }\n    };\n  }, Ee.extend(Ee.FE.DEFAULTS, {\n    editInPopup: !1\n  }), Ee.FE.MODULES.textEdit = function (n) {\n    function t() {\n      n.events.$on(n.$el, n._mouseup, function () {\n        setTimeout(function () {\n          var e, t;\n          t = n.popups.get(\"text.edit\"), e = \"INPUT\" === n.$el.prop(\"tagName\") ? n.$el.attr(\"placeholder\") : n.$el.text(), t.find(\"input\").val(e).trigger(\"change\"), n.popups.setContainer(\"text.edit\", n.$sc), n.popups.show(\"text.edit\", n.$el.offset().left + n.$el.outerWidth() / 2, n.$el.offset().top + n.$el.outerHeight(), n.$el.outerHeight());\n        }, 10);\n      });\n    }\n\n    return {\n      _init: function _init() {\n        var e;\n        n.opts.editInPopup && (e = {\n          edit: '<div id=\"fr-text-edit-' + n.id + '\" class=\"fr-layer fr-text-edit-layer\"><div class=\"fr-input-line\"><input type=\"text\" placeholder=\"' + n.language.translate(\"Text\") + '\" tabIndex=\"1\"></div><div class=\"fr-action-buttons\"><button type=\"button\" class=\"fr-command fr-submit\" data-cmd=\"updateText\" tabIndex=\"2\">' + n.language.translate(\"Update\") + \"</button></div></div>\"\n        }, n.popups.create(\"text.edit\", e), t());\n      },\n      update: function update() {\n        var e = n.popups.get(\"text.edit\").find(\"input\").val();\n        0 === e.length && (e = n.opts.placeholderText), \"INPUT\" === n.$el.prop(\"tagName\") ? n.$el.attr(\"placeholder\", e) : n.$el.text(e), n.events.trigger(\"contentChanged\"), n.popups.hide(\"text.edit\");\n      }\n    };\n  }, Ee.FE.RegisterCommand(\"updateText\", {\n    focus: !1,\n    undo: !1,\n    callback: function callback() {\n      this.textEdit.update();\n    }\n  }), Ee.extend(Ee.FE.DEFAULTS, {\n    toolbarBottom: !1,\n    toolbarButtons: null,\n    toolbarButtonsXS: null,\n    toolbarButtonsSM: null,\n    toolbarButtonsMD: null,\n    toolbarContainer: null,\n    toolbarInline: !1,\n    toolbarSticky: !0,\n    toolbarStickyOffset: 0,\n    toolbarVisibleWithoutSelection: !1\n  }), Ee.FE.TOOLBAR_BUTTONS = [\"fullscreen\", \"bold\", \"italic\", \"underline\", \"strikeThrough\", \"subscript\", \"superscript\", \"|\", \"fontFamily\", \"fontSize\", \"color\", \"inlineClass\", \"inlineStyle\", \"paragraphStyle\", \"lineHeight\", \"|\", \"paragraphFormat\", \"align\", \"formatOL\", \"formatUL\", \"outdent\", \"indent\", \"quote\", \"-\", \"insertLink\", \"insertImage\", \"insertVideo\", \"embedly\", \"insertFile\", \"insertTable\", \"|\", \"emoticons\", \"fontAwesome\", \"specialCharacters\", \"insertHR\", \"selectAll\", \"clearFormatting\", \"|\", \"print\", \"getPDF\", \"spellChecker\", \"help\", \"html\", \"|\", \"undo\", \"redo\"], Ee.FE.TOOLBAR_BUTTONS_MD = null, Ee.FE.TOOLBAR_BUTTONS_SM = [\"bold\", \"italic\", \"underline\", \"|\", \"fontFamily\", \"fontSize\", \"insertLink\", \"insertImage\", \"table\", \"|\", \"undo\", \"redo\"], Ee.FE.TOOLBAR_BUTTONS_XS = [\"bold\", \"italic\", \"fontFamily\", \"fontSize\", \"|\", \"undo\", \"redo\"], Ee.FE.MODULES.toolbar = function (i) {\n    var r = [];\n\n    function a(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        \"-\" != t[n] && \"|\" != t[n] && e.indexOf(t[n]) < 0 && e.push(t[n]);\n      }\n    }\n\n    function o() {\n      var e = i.helpers.screenSize();\n      return r[e];\n    }\n\n    function e() {\n      var e = o();\n      i.$tb.find(\".fr-separator\").remove(), i.$tb.find(\"> .fr-command, > div.fr-btn-wrap\").addClass(\"fr-hidden\");\n\n      for (var t = 0; t < e.length; t++) {\n        if (\"|\" == e[t] || \"-\" == e[t]) i.$tb.append(i.button.buildList([e[t]]));else {\n          var n = i.$tb.find('> .fr-command[data-cmd=\"' + e[t] + '\"], > div.fr-btn-wrap > .fr-command[data-cmd=\"' + e[t] + '\"]'),\n              r = null;\n          i.node.hasClass(n.next().get(0), \"fr-dropdown-menu\") && (r = n.next()), i.node.hasClass(n.next().get(0), \"fr-options\") && (n = n.parent()), n.removeClass(\"fr-hidden\").appendTo(i.$tb), r && r.appendTo(i.$tb);\n        }\n      }\n    }\n\n    function t(e, t) {\n      setTimeout(function () {\n        if ((!e || e.which != Ee.FE.KEYCODE.ESC) && i.selection.inEditor() && i.core.hasFocus() && !i.popups.areVisible() && (i.opts.toolbarVisibleWithoutSelection || !i.selection.isCollapsed() && !i.keys.isIME() || t)) {\n          if (i.$tb.data(\"instance\", i), !1 === i.events.trigger(\"toolbar.show\", [e])) return !1;\n          i.$tb.show(), i.opts.toolbarContainer || i.position.forSelection(i.$tb), 1 < i.opts.zIndex ? i.$tb.css(\"z-index\", i.opts.zIndex + 1) : i.$tb.css(\"z-index\", null);\n        }\n      }, 0);\n    }\n\n    function n(e) {\n      return (!e || \"blur\" !== e.type || document.activeElement !== i.el) && (!(!e || \"keydown\" !== e.type || !i.keys.ctrlKey(e)) || !!i.button.getButtons(\".fr-dropdown.fr-active\").next().find(i.o_doc.activeElement).length || void (!1 !== i.events.trigger(\"toolbar.hide\") && i.$tb.hide()));\n    }\n\n    r[Ee.FE.XS] = i.opts.toolbarButtonsXS || i.opts.toolbarButtons || Ee.FE.TOOLBAR_BUTTONS_XS || Ee.FE.TOOLBAR_BUTTONS || [], r[Ee.FE.SM] = i.opts.toolbarButtonsSM || i.opts.toolbarButtons || Ee.FE.TOOLBAR_BUTTONS_SM || Ee.FE.TOOLBAR_BUTTONS || [], r[Ee.FE.MD] = i.opts.toolbarButtonsMD || i.opts.toolbarButtons || Ee.FE.TOOLBAR_BUTTONS_MD || Ee.FE.TOOLBAR_BUTTONS || [], r[Ee.FE.LG] = i.opts.toolbarButtons || Ee.FE.TOOLBAR_BUTTONS || [];\n    var s = null;\n\n    function l(e) {\n      clearTimeout(s), e && e.which == Ee.FE.KEYCODE.ESC || (s = setTimeout(t, i.opts.typingTimer));\n    }\n\n    function d() {\n      i.events.on(\"window.mousedown\", n), i.events.on(\"keydown\", n), i.events.on(\"blur\", n), i.helpers.isMobile() || i.events.on(\"window.mouseup\", t), i.helpers.isMobile() ? i.helpers.isIOS() || (i.events.on(\"window.touchend\", t), i.browser.mozilla && setInterval(t, 200)) : i.events.on(\"window.keyup\", l), i.events.on(\"keydown\", function (e) {\n        e && e.which == Ee.FE.KEYCODE.ESC && n();\n      }), i.events.on(\"keydown\", function (e) {\n        if (e.which == Ee.FE.KEYCODE.ALT) return e.stopPropagation(), !1;\n      }, !0), i.events.$on(i.$wp, \"scroll.toolbar\", t), i.events.on(\"commands.after\", t), i.helpers.isMobile() && (i.events.$on(i.$doc, \"selectionchange\", l), i.events.$on(i.$doc, \"orientationchange\", t));\n    }\n\n    function c() {\n      i.$tb.html(\"\").removeData().remove(), i.$tb = null;\n    }\n\n    function f() {\n      i.$box.removeClass(\"fr-top fr-bottom fr-inline fr-basic\"), i.$box.find(\".fr-sticky-dummy\").remove();\n    }\n\n    function p() {\n      i.opts.theme && i.$tb.addClass(i.opts.theme + \"-theme\"), 1 < i.opts.zIndex && i.$tb.css(\"z-index\", i.opts.zIndex + 1), \"auto\" != i.opts.direction && i.$tb.removeClass(\"fr-ltr fr-rtl\").addClass(\"fr-\" + i.opts.direction), i.helpers.isMobile() ? i.$tb.addClass(\"fr-mobile\") : i.$tb.addClass(\"fr-desktop\"), i.opts.toolbarContainer ? (i.opts.toolbarInline && (d(), n()), i.opts.toolbarBottom ? i.$tb.addClass(\"fr-bottom\") : i.$tb.addClass(\"fr-top\")) : i.opts.toolbarInline ? (i.$sc.append(i.$tb), i.$tb.data(\"container\", i.$sc), i.$tb.addClass(\"fr-inline\"), i.$tb.prepend('<span class=\"fr-arrow\"></span>'), d(), i.opts.toolbarBottom = !1) : (i.opts.toolbarBottom && !i.helpers.isIOS() ? (i.$box.append(i.$tb), i.$tb.addClass(\"fr-bottom\"), i.$box.addClass(\"fr-bottom\")) : (i.opts.toolbarBottom = !1, i.$box.prepend(i.$tb), i.$tb.addClass(\"fr-top\"), i.$box.addClass(\"fr-top\")), i.$tb.addClass(\"fr-basic\"), i.opts.toolbarSticky && (i.opts.toolbarStickyOffset && (i.opts.toolbarBottom ? i.$tb.css(\"bottom\", i.opts.toolbarStickyOffset) : i.$tb.css(\"top\", i.opts.toolbarStickyOffset)), i.position.addSticky(i.$tb))), function () {\n        var e = Ee.merge([], o());\n        a(e, r[Ee.FE.XS]), a(e, r[Ee.FE.SM]), a(e, r[Ee.FE.MD]), a(e, r[Ee.FE.LG]);\n\n        for (var t = e.length - 1; 0 <= t; t--) {\n          \"-\" != e[t] && \"|\" != e[t] && e.indexOf(e[t]) < t && e.splice(t, 1);\n        }\n\n        var n = i.button.buildList(e, o());\n        i.$tb.append(n), i.button.bindCommands(i.$tb);\n      }(), i.events.$on(Ee(i.o_win), \"resize\", e), i.events.$on(Ee(i.o_win), \"orientationchange\", e), i.accessibility.registerToolbar(i.$tb), i.events.$on(i.$tb, i._mousedown + \" \" + i._mouseup, function (e) {\n        var t = e.originalEvent ? e.originalEvent.target || e.originalEvent.originalTarget : null;\n        if (t && \"INPUT\" != t.tagName && !i.edit.isDisabled()) return e.stopPropagation(), e.preventDefault(), !1;\n      }, !0);\n    }\n\n    var u = !1;\n    return {\n      _init: function _init() {\n        if (i.$sc = Ee(i.opts.scrollableContainer).first(), !i.$wp) return !1;\n        i.opts.toolbarContainer ? (i.shared.$tb ? (i.$tb = i.shared.$tb, i.opts.toolbarInline && d()) : (i.shared.$tb = Ee('<div class=\"fr-toolbar\"></div>'), i.$tb = i.shared.$tb, Ee(i.opts.toolbarContainer).append(i.$tb), p(), i.$tb.data(\"instance\", i)), i.opts.toolbarInline ? i.$box.addClass(\"fr-inline\") : i.$box.addClass(\"fr-basic\"), i.events.on(\"focus\", function () {\n          i.$tb.data(\"instance\", i);\n        }, !0), i.opts.toolbarInline = !1) : i.opts.toolbarInline ? (i.$box.addClass(\"fr-inline\"), i.shared.$tb ? (i.$tb = i.shared.$tb, d()) : (i.shared.$tb = Ee('<div class=\"fr-toolbar\"></div>'), i.$tb = i.shared.$tb, p())) : (i.$box.addClass(\"fr-basic\"), i.$tb = Ee('<div class=\"fr-toolbar\"></div>'), p(), i.$tb.data(\"instance\", i)), i.events.on(\"destroy\", f, !0), i.events.on(i.opts.toolbarInline || i.opts.toolbarContainer ? \"shared.destroy\" : \"destroy\", c, !0);\n      },\n      hide: n,\n      show: function show() {\n        if (!1 === i.events.trigger(\"toolbar.show\")) return !1;\n        i.$tb.show();\n      },\n      showInline: t,\n      disable: function disable() {\n        !u && i.$tb && (i.$tb.find(\"> .fr-command, .fr-btn-wrap > .fr-command\").addClass(\"fr-disabled fr-no-refresh\").attr(\"aria-disabled\", !0), u = !0);\n      },\n      enable: function enable() {\n        u && i.$tb && (i.$tb.find(\"> .fr-command, .fr-btn-wrap > .fr-command\").removeClass(\"fr-disabled fr-no-refresh\").attr(\"aria-disabled\", !1), u = !1), i.button.bulkRefresh();\n      }\n    };\n  }, Ee.FE.PLUGINS.align = function (i) {\n    return {\n      apply: function apply(e) {\n        var t = i.selection.element();\n        if (Ee(t).parents(\".fr-img-caption\").length) Ee(t).css(\"text-align\", e);else {\n          i.selection.save(), i.html.wrap(!0, !0, !0, !0), i.selection.restore();\n\n          for (var n = i.selection.blocks(), r = 0; r < n.length; r++) {\n            Ee(n[r]).css(\"text-align\", e).removeClass(\"fr-temp-div\"), \"\" === Ee(n[r]).attr(\"class\") && Ee(n[r]).removeAttr(\"class\"), \"\" === Ee(n[r]).attr(\"style\") && Ee(n[r]).removeAttr(\"style\");\n          }\n\n          i.selection.save(), i.html.unwrap(), i.selection.restore();\n        }\n      },\n      refresh: function refresh(e) {\n        var t = i.selection.blocks();\n\n        if (t.length) {\n          var n = i.helpers.getAlignment(Ee(t[0]));\n          e.find(\"> *:first\").replaceWith(i.icon.create(\"align-\" + n));\n        }\n      },\n      refreshOnShow: function refreshOnShow(e, t) {\n        var n = i.selection.blocks();\n\n        if (n.length) {\n          var r = i.helpers.getAlignment(Ee(n[0]));\n          t.find('a.fr-command[data-param1=\"' + r + '\"]').addClass(\"fr-active\").attr(\"aria-selected\", !0);\n        }\n      },\n      refreshForToolbar: function refreshForToolbar(e) {\n        var t = i.selection.blocks();\n\n        if (t.length) {\n          var n = i.helpers.getAlignment(Ee(t[0]));\n          \"align\" + (n = n.charAt(0).toUpperCase() + n.slice(1)) == e.attr(\"data-cmd\") && e.addClass(\"fr-active\");\n        }\n      }\n    };\n  }, Ee.FE.DefineIcon(\"align\", {\n    NAME: \"align-left\"\n  }), Ee.FE.DefineIcon(\"align-left\", {\n    NAME: \"align-left\"\n  }), Ee.FE.DefineIcon(\"align-right\", {\n    NAME: \"align-right\"\n  }), Ee.FE.DefineIcon(\"align-center\", {\n    NAME: \"align-center\"\n  }), Ee.FE.DefineIcon(\"align-justify\", {\n    NAME: \"align-justify\"\n  }), Ee.FE.RegisterCommand(\"align\", {\n    type: \"dropdown\",\n    title: \"Align\",\n    options: {\n      left: \"Align Left\",\n      center: \"Align Center\",\n      right: \"Align Right\",\n      justify: \"Align Justify\"\n    },\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = Ee.FE.COMMANDS.align.options;\n\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e += '<li role=\"presentation\"><a class=\"fr-command fr-title\" tabIndex=\"-1\" role=\"option\" data-cmd=\"align\" data-param1=\"' + n + '\" title=\"' + this.language.translate(t[n]) + '\">' + this.icon.create(\"align-\" + n) + '<span class=\"fr-sr-only\">' + this.language.translate(t[n]) + \"</span></a></li>\");\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      this.align.apply(t);\n    },\n    refresh: function refresh(e) {\n      this.align.refresh(e);\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      this.align.refreshOnShow(e, t);\n    },\n    plugin: \"align\"\n  }), Ee.FE.RegisterCommand(\"alignLeft\", {\n    type: \"button\",\n    icon: \"align-left\",\n    callback: function callback() {\n      this.align.apply(\"left\");\n    },\n    refresh: function refresh(e) {\n      this.align.refreshForToolbar(e);\n    }\n  }), Ee.FE.RegisterCommand(\"alignRight\", {\n    type: \"button\",\n    icon: \"align-right\",\n    callback: function callback() {\n      this.align.apply(\"right\");\n    },\n    refresh: function refresh(e) {\n      this.align.refreshForToolbar(e);\n    }\n  }), Ee.FE.RegisterCommand(\"alignCenter\", {\n    type: \"button\",\n    icon: \"align-center\",\n    callback: function callback() {\n      this.align.apply(\"center\");\n    },\n    refresh: function refresh(e) {\n      this.align.refreshForToolbar(e);\n    }\n  }), Ee.FE.RegisterCommand(\"alignJustify\", {\n    type: \"button\",\n    icon: \"align-justify\",\n    callback: function callback() {\n      this.align.apply(\"justify\");\n    },\n    refresh: function refresh(e) {\n      this.align.refreshForToolbar(e);\n    }\n  }), Ee.extend(Ee.FE.DEFAULTS, {\n    charCounterMax: -1,\n    charCounterCount: !0\n  }), Ee.FE.PLUGINS.charCounter = function (n) {\n    var r;\n\n    function i() {\n      return (n.el.textContent || \"\").replace(/\\u200B/g, \"\").length;\n    }\n\n    function e(e) {\n      if (n.opts.charCounterMax < 0) return !0;\n      if (i() < n.opts.charCounterMax) return !0;\n      var t = e.which;\n      return !(!n.keys.ctrlKey(e) && n.keys.isCharacter(t) || t === Ee.FE.KEYCODE.IME) || (e.preventDefault(), e.stopPropagation(), n.events.trigger(\"charCounter.exceeded\"), !1);\n    }\n\n    function t(e) {\n      return n.opts.charCounterMax < 0 ? e : Ee(\"<div>\").html(e).text().length + i() <= n.opts.charCounterMax ? e : (n.events.trigger(\"charCounter.exceeded\"), \"\");\n    }\n\n    function a() {\n      if (n.opts.charCounterCount) {\n        var e = i() + (0 < n.opts.charCounterMax ? \"/\" + n.opts.charCounterMax : \"\");\n        r.text(e), n.opts.toolbarBottom && r.css(\"margin-bottom\", n.$tb.outerHeight(!0));\n        var t = n.$wp.get(0).offsetWidth - n.$wp.get(0).clientWidth;\n        0 <= t && (\"rtl\" == n.opts.direction ? r.css(\"margin-left\", t) : r.css(\"margin-right\", t));\n      }\n    }\n\n    return {\n      _init: function _init() {\n        return !!n.$wp && !!n.opts.charCounterCount && ((r = Ee('<span class=\"fr-counter\"></span>')).css(\"bottom\", n.$wp.css(\"border-bottom-width\")), n.$box.append(r), n.events.on(\"keydown\", e, !0), n.events.on(\"paste.afterCleanup\", t), n.events.on(\"keyup contentChanged input\", function () {\n          n.events.trigger(\"charCounter.update\");\n        }), n.events.on(\"charCounter.update\", a), n.events.trigger(\"charCounter.update\"), void n.events.on(\"destroy\", function () {\n          Ee(n.o_win).off(\"resize.char\" + n.id), r.removeData().remove(), r = null;\n        }));\n      },\n      count: i\n    };\n  }, Ee.FE.PLUGINS.codeBeautifier = function () {\n    var e,\n        t,\n        n,\n        r,\n        Y = {};\n\n    function x(r, e) {\n      var t = {\n        \"@page\": !0,\n        \"@font-face\": !0,\n        \"@keyframes\": !0,\n        \"@media\": !0,\n        \"@supports\": !0,\n        \"@document\": !0\n      },\n          n = {\n        \"@media\": !0,\n        \"@supports\": !0,\n        \"@document\": !0\n      };\n      e = e || {}, r = (r = r || \"\").replace(/\\r\\n|[\\r\\u2028\\u2029]/g, \"\\n\");\n      var i = e.indent_size || 4,\n          a = e.indent_char || \" \",\n          o = e.selector_separator_newline === undefined || e.selector_separator_newline,\n          s = e.end_with_newline !== undefined && e.end_with_newline,\n          l = e.newline_between_rules === undefined || e.newline_between_rules,\n          d = e.eol ? e.eol : \"\\n\";\n      \"string\" == typeof i && (i = parseInt(i, 10)), e.indent_with_tabs && (a = \"\\t\", i = 1), d = d.replace(/\\\\r/, \"\\r\").replace(/\\\\n/, \"\\n\");\n      var c,\n          f = /^\\s+$/,\n          p = -1,\n          u = 0;\n\n      function h() {\n        return (c = r.charAt(++p)) || \"\";\n      }\n\n      function g(e) {\n        var t,\n            n = p;\n        return e && v(), t = r.charAt(p + 1) || \"\", p = n - 1, h(), t;\n      }\n\n      function m(e) {\n        for (var t = p; h();) {\n          if (\"\\\\\" === c) h();else {\n            if (-1 !== e.indexOf(c)) break;\n            if (\"\\n\" === c) break;\n          }\n        }\n\n        return r.substring(t, p + 1);\n      }\n\n      function v() {\n        for (var e = \"\"; f.test(g());) {\n          h(), e += c;\n        }\n\n        return e;\n      }\n\n      function E() {\n        var e = \"\";\n\n        for (c && f.test(c) && (e = c); f.test(h());) {\n          e += c;\n        }\n\n        return e;\n      }\n\n      function b(e) {\n        var t = p;\n\n        for (e = \"/\" === g(), h(); h();) {\n          if (!e && \"*\" === c && \"/\" === g()) {\n            h();\n            break;\n          }\n\n          if (e && \"\\n\" === c) return r.substring(t, p);\n        }\n\n        return r.substring(t, p) + c;\n      }\n\n      function T(e) {\n        return r.substring(p - e.length, p).toLowerCase() === e;\n      }\n\n      function A() {\n        for (var e = 0, t = p + 1; t < r.length; t++) {\n          var n = r.charAt(t);\n          if (\"{\" === n) return !0;\n          if (\"(\" === n) e += 1;else if (\")\" === n) {\n            if (0 == e) return !1;\n            e -= 1;\n          } else if (\";\" === n || \"}\" === n) return !1;\n        }\n\n        return !1;\n      }\n\n      var C = r.match(/^[\\t ]*/)[0],\n          S = new Array(i + 1).join(a),\n          R = 0,\n          y = 0;\n\n      for (var _, L, x = {\n        \"{\": function _(e) {\n          x.singleSpace(), w.push(e), x.newLine();\n        },\n        \"}\": function _(e) {\n          x.newLine(), w.push(e), x.newLine();\n        },\n        _lastCharWhitespace: function _lastCharWhitespace() {\n          return f.test(w[w.length - 1]);\n        },\n        newLine: function newLine(e) {\n          w.length && (e || \"\\n\" === w[w.length - 1] || x.trim(), w.push(\"\\n\"), C && w.push(C));\n        },\n        singleSpace: function singleSpace() {\n          w.length && !x._lastCharWhitespace() && w.push(\" \");\n        },\n        preserveSingleSpace: function preserveSingleSpace() {\n          M && x.singleSpace();\n        },\n        trim: function trim() {\n          for (; x._lastCharWhitespace();) {\n            w.pop();\n          }\n        }\n      }, w = [], N = !1, O = !1, I = !1, D = \"\", k = \"\";;) {\n        var F = E(),\n            M = \"\" !== F,\n            $ = -1 !== F.indexOf(\"\\n\");\n        if (k = D, !(D = c)) break;\n\n        if (\"/\" === c && \"*\" === g()) {\n          var B = 0 === R;\n          ($ || B) && x.newLine(), w.push(b()), x.newLine(), B && x.newLine(!0);\n        } else if (\"/\" === c && \"/\" === g()) $ || \"{\" === k || x.trim(), x.singleSpace(), w.push(b()), x.newLine();else if (\"@\" === c) {\n          x.preserveSingleSpace(), w.push(c);\n          var P = (void 0, _ = p, L = m(\": ,;{}()[]/='\\\"\"), p = _ - 1, h(), L);\n          P.match(/[ :]$/) && (h(), P = m(\": \").replace(/\\s$/, \"\"), w.push(P), x.singleSpace()), (P = P.replace(/\\s$/, \"\")) in t && (y += 1, P in n && (I = !0));\n        } else \"#\" === c && \"{\" === g() ? (x.preserveSingleSpace(), w.push(m(\"}\"))) : \"{\" === c ? \"}\" === g(!0) ? (v(), h(), x.singleSpace(), w.push(\"{}\"), x.newLine(), l && 0 === R && x.newLine(!0)) : (R++, C += S, x[\"{\"](c), I ? (I = !1, N = y < R) : N = y <= R) : \"}\" === c ? (R--, C = C.slice(0, -i), x[\"}\"](c), O = N = !1, y && y--, l && 0 === R && x.newLine(!0)) : \":\" === c ? (v(), !N && !I || T(\"&\") || A() ? \":\" === g() ? (h(), w.push(\"::\")) : w.push(\":\") : (O = !0, w.push(\":\"), x.singleSpace())) : '\"' === c || \"'\" === c ? (x.preserveSingleSpace(), w.push(m(c))) : \";\" === c ? (O = !1, w.push(c), x.newLine()) : \"(\" === c ? T(\"url\") ? (w.push(c), v(), h() && (\")\" !== c && '\"' !== c && \"'\" !== c ? w.push(m(\")\")) : p--)) : (u++, x.preserveSingleSpace(), w.push(c), v()) : \")\" === c ? (w.push(c), u--) : \",\" === c ? (w.push(c), v(), o && !O && u < 1 ? x.newLine() : x.singleSpace()) : (\"]\" === c || (\"[\" === c ? x.preserveSingleSpace() : \"=\" === c ? (v(), c = \"=\") : x.preserveSingleSpace()), w.push(c));\n      }\n\n      var U = \"\";\n      return C && (U += C), U += w.join(\"\").replace(/[\\r\\n\\t ]+$/, \"\"), s && (U += \"\\n\"), \"\\n\" != d && (U = U.replace(/[\\n]/g, d)), U;\n    }\n\n    function G(e, t) {\n      for (var n = 0; n < t.length; n += 1) {\n        if (t[n] === e) return !0;\n      }\n\n      return !1;\n    }\n\n    function V(e) {\n      return e.replace(/^\\s+|\\s+$/g, \"\");\n    }\n\n    function w(e, t) {\n      return new i(e, t).beautify();\n    }\n\n    e = Y, t = \"\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F0\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC\", n = new RegExp(\"[\" + t + \"]\"), r = new RegExp(\"[\" + t + \"\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u0620-\\u0649\\u0672-\\u06D3\\u06E7-\\u06E8\\u06FB-\\u06FC\\u0730-\\u074A\\u0800-\\u0814\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0840-\\u0857\\u08E4-\\u08FE\\u0900-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096F\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09D7\\u09DF-\\u09E0\\u0A01-\\u0A03\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A66-\\u0A71\\u0A75\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AE2-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5F-\\u0B60\\u0B66-\\u0B6F\\u0B82\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0BE6-\\u0BEF\\u0C01-\\u0C03\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62-\\u0C63\\u0C66-\\u0C6F\\u0C82\\u0C83\\u0CBC\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CE2-\\u0CE3\\u0CE6-\\u0CEF\\u0D02\\u0D03\\u0D46-\\u0D48\\u0D57\\u0D62-\\u0D63\\u0D66-\\u0D6F\\u0D82\\u0D83\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0E34-\\u0E3A\\u0E40-\\u0E45\\u0E50-\\u0E59\\u0EB4-\\u0EB9\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F41-\\u0F47\\u0F71-\\u0F84\\u0F86-\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106D\\u1071-\\u1074\\u1082-\\u108D\\u108F-\\u109D\\u135D-\\u135F\\u170E-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17B2\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1920-\\u192B\\u1930-\\u193B\\u1951-\\u196D\\u19B0-\\u19C0\\u19C8-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A15\\u1A20-\\u1A53\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1B46-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1BB0-\\u1BB9\\u1BE6-\\u1BF3\\u1C00-\\u1C22\\u1C40-\\u1C49\\u1C5B-\\u1C7D\\u1CD0-\\u1CD2\\u1D00-\\u1DBE\\u1E01-\\u1F15\\u200C\\u200D\\u203F\\u2040\\u2054\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2D81-\\u2D96\\u2DE0-\\u2DFF\\u3021-\\u3028\\u3099\\u309A\\uA640-\\uA66D\\uA674-\\uA67D\\uA69F\\uA6F0-\\uA6F1\\uA7F8-\\uA800\\uA806\\uA80B\\uA823-\\uA827\\uA880-\\uA881\\uA8B4-\\uA8C4\\uA8D0-\\uA8D9\\uA8F3-\\uA8F7\\uA900-\\uA909\\uA926-\\uA92D\\uA930-\\uA945\\uA980-\\uA983\\uA9B3-\\uA9C0\\uAA00-\\uAA27\\uAA40-\\uAA41\\uAA4C-\\uAA4D\\uAA50-\\uAA59\\uAA7B\\uAAE0-\\uAAE9\\uAAF2-\\uAAF3\\uABC0-\\uABE1\\uABEC\\uABED\\uABF0-\\uABF9\\uFB20-\\uFB28\\uFE00-\\uFE0F\\uFE20-\\uFE26\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFF10-\\uFF19\\uFF3F]\"), e.newline = /[\\n\\r\\u2028\\u2029]/, e.lineBreak = new RegExp(\"\\r\\n|\" + e.newline.source), e.allLineBreaks = new RegExp(e.lineBreak.source, \"g\"), e.isIdentifierStart = function (e) {\n      return e < 65 ? 36 === e || 64 === e : e < 91 || (e < 97 ? 95 === e : e < 123 || 170 <= e && n.test(String.fromCharCode(e)));\n    }, e.isIdentifierChar = function (e) {\n      return e < 48 ? 36 === e : e < 58 || !(e < 65) && (e < 91 || (e < 97 ? 95 === e : e < 123 || 170 <= e && r.test(String.fromCharCode(e))));\n    };\n    var k = {\n      BlockStatement: \"BlockStatement\",\n      Statement: \"Statement\",\n      ObjectLiteral: \"ObjectLiteral\",\n      ArrayLiteral: \"ArrayLiteral\",\n      ForInitializer: \"ForInitializer\",\n      Conditional: \"Conditional\",\n      Expression: \"Expression\"\n    };\n\n    function i(r, e) {\n      var o,\n          i,\n          a,\n          s,\n          l,\n          d,\n          c,\n          f,\n          p,\n          t,\n          n,\n          u,\n          h,\n          g = [],\n          m = \"\";\n\n      function v(e, t) {\n        var n = 0;\n        return e && (n = e.indentation_level, !o.just_added_newline() && e.line_indent_level > n && (n = e.line_indent_level)), {\n          mode: t,\n          parent: e,\n          last_text: e ? e.last_text : \"\",\n          last_word: e ? e.last_word : \"\",\n          declaration_statement: !1,\n          declaration_assignment: !1,\n          multiline_frame: !1,\n          if_block: !1,\n          else_block: !1,\n          do_block: !1,\n          do_while: !1,\n          in_case_statement: !1,\n          in_case: !1,\n          case_body: !1,\n          indentation_level: n,\n          line_indent_level: e ? e.line_indent_level : n,\n          start_line_index: o.get_line_number(),\n          ternary_depth: 0\n        };\n      }\n\n      for (u = {\n        TK_START_EXPR: function TK_START_EXPR() {\n          N();\n          var e = k.Expression;\n\n          if (\"[\" === s.text) {\n            if (\"TK_WORD\" === l || \")\" === f.last_text) return \"TK_RESERVED\" === l && G(f.last_text, a.line_starters) && (o.space_before_token = !0), y(e), S(), R(), void (h.space_in_paren && (o.space_before_token = !0));\n            e = k.ArrayLiteral, _(f.mode) && (\"[\" !== f.last_text && (\",\" !== f.last_text || \"]\" !== d && \"}\" !== d) || h.keep_array_indentation || A());\n          } else \"TK_RESERVED\" === l && \"for\" === f.last_text ? e = k.ForInitializer : \"TK_RESERVED\" === l && G(f.last_text, [\"if\", \"while\"]) && (e = k.Conditional);\n\n          \";\" === f.last_text || \"TK_START_BLOCK\" === l ? A() : \"TK_END_EXPR\" === l || \"TK_START_EXPR\" === l || \"TK_END_BLOCK\" === l || \".\" === f.last_text ? T(s.wanted_newline) : \"TK_RESERVED\" === l && \"(\" === s.text || \"TK_WORD\" === l || \"TK_OPERATOR\" === l ? \"TK_RESERVED\" === l && (\"function\" === f.last_word || \"typeof\" === f.last_word) || \"*\" === f.last_text && \"function\" === d ? h.space_after_anon_function && (o.space_before_token = !0) : \"TK_RESERVED\" !== l || !G(f.last_text, a.line_starters) && \"catch\" !== f.last_text || h.space_before_conditional && (o.space_before_token = !0) : o.space_before_token = !0;\n          \"(\" === s.text && \"TK_RESERVED\" === l && \"await\" === f.last_word && (o.space_before_token = !0);\n          \"(\" === s.text && (\"TK_EQUALS\" !== l && \"TK_OPERATOR\" !== l || w() || T());\n          y(e), S(), h.space_in_paren && (o.space_before_token = !0);\n          R();\n        },\n        TK_END_EXPR: function TK_END_EXPR() {\n          for (; f.mode === k.Statement;) {\n            x();\n          }\n\n          f.multiline_frame && T(\"]\" === s.text && _(f.mode) && !h.keep_array_indentation);\n          h.space_in_paren && (\"TK_START_EXPR\" !== l || h.space_in_empty_paren ? o.space_before_token = !0 : (o.trim(), o.space_before_token = !1));\n          \"]\" === s.text && h.keep_array_indentation ? (S(), x()) : (x(), S());\n          o.remove_redundant_indentation(p), f.do_while && p.mode === k.Conditional && (p.mode = k.Expression, f.do_block = !1, f.do_while = !1);\n        },\n        TK_START_BLOCK: function TK_START_BLOCK() {\n          var e = I(1),\n              t = I(2);\n          t && (\":\" === t.text && G(e.type, [\"TK_STRING\", \"TK_WORD\", \"TK_RESERVED\"]) || G(e.text, [\"get\", \"set\"]) && G(t.type, [\"TK_WORD\", \"TK_RESERVED\"])) ? G(d, [\"class\", \"interface\"]) ? y(k.BlockStatement) : y(k.ObjectLiteral) : y(k.BlockStatement);\n          var n = !e.comments_before.length && \"}\" === e.text && \"function\" === f.last_word && \"TK_END_EXPR\" === l;\n          \"expand\" === h.brace_style || \"none\" === h.brace_style && s.wanted_newline ? \"TK_OPERATOR\" !== l && (n || \"TK_EQUALS\" === l || \"TK_RESERVED\" === l && O(f.last_text) && \"else\" !== f.last_text) ? o.space_before_token = !0 : A(!1, !0) : \"TK_OPERATOR\" !== l && \"TK_START_EXPR\" !== l ? \"TK_START_BLOCK\" === l ? A() : o.space_before_token = !0 : _(p.mode) && \",\" === f.last_text && (\"}\" === d ? o.space_before_token = !0 : A());\n          S(), R();\n        },\n        TK_END_BLOCK: function TK_END_BLOCK() {\n          for (; f.mode === k.Statement;) {\n            x();\n          }\n\n          var e = \"TK_START_BLOCK\" === l;\n          \"expand\" === h.brace_style ? e || A() : e || (_(f.mode) && h.keep_array_indentation ? (h.keep_array_indentation = !1, A(), h.keep_array_indentation = !0) : A());\n          x(), S();\n        },\n        TK_WORD: D,\n        TK_RESERVED: D,\n        TK_SEMICOLON: function TK_SEMICOLON() {\n          N() && (o.space_before_token = !1);\n\n          for (; f.mode === k.Statement && !f.if_block && !f.do_block;) {\n            x();\n          }\n\n          S();\n        },\n        TK_STRING: function TK_STRING() {\n          N() ? o.space_before_token = !0 : \"TK_RESERVED\" === l || \"TK_WORD\" === l ? o.space_before_token = !0 : \"TK_COMMA\" === l || \"TK_START_EXPR\" === l || \"TK_EQUALS\" === l || \"TK_OPERATOR\" === l ? w() || T() : A();\n          S();\n        },\n        TK_EQUALS: function TK_EQUALS() {\n          N();\n          f.declaration_statement && (f.declaration_assignment = !0);\n          o.space_before_token = !0, S(), o.space_before_token = !0;\n        },\n        TK_OPERATOR: function TK_OPERATOR() {\n          N();\n          if (\"TK_RESERVED\" === l && O(f.last_text)) return o.space_before_token = !0, void S();\n          if (\"*\" === s.text && \"TK_DOT\" === l) return void S();\n          if (\":\" === s.text && f.in_case) return f.case_body = !0, R(), S(), A(), void (f.in_case = !1);\n          if (\"::\" === s.text) return void S();\n          \"TK_OPERATOR\" === l && T();\n          var e = !0,\n              t = !0;\n          G(s.text, [\"--\", \"++\", \"!\", \"~\"]) || G(s.text, [\"-\", \"+\"]) && (G(l, [\"TK_START_BLOCK\", \"TK_START_EXPR\", \"TK_EQUALS\", \"TK_OPERATOR\"]) || G(f.last_text, a.line_starters) || \",\" === f.last_text) ? (t = e = !1, !s.wanted_newline || \"--\" !== s.text && \"++\" !== s.text || A(!1, !0), \";\" === f.last_text && L(f.mode) && (e = !0), \"TK_RESERVED\" === l ? e = !0 : \"TK_END_EXPR\" === l ? e = !(\"]\" === f.last_text && (\"--\" === s.text || \"++\" === s.text)) : \"TK_OPERATOR\" === l && (e = G(s.text, [\"--\", \"-\", \"++\", \"+\"]) && G(f.last_text, [\"--\", \"-\", \"++\", \"+\"]), G(s.text, [\"+\", \"-\"]) && G(f.last_text, [\"--\", \"++\"]) && (t = !0)), f.mode !== k.BlockStatement && f.mode !== k.Statement || \"{\" !== f.last_text && \";\" !== f.last_text || A()) : \":\" === s.text ? 0 === f.ternary_depth ? e = !1 : f.ternary_depth -= 1 : \"?\" === s.text ? f.ternary_depth += 1 : \"*\" === s.text && \"TK_RESERVED\" === l && \"function\" === f.last_text && (t = e = !1);\n          o.space_before_token = o.space_before_token || e, S(), o.space_before_token = t;\n        },\n        TK_COMMA: function TK_COMMA() {\n          if (f.declaration_statement) return L(f.parent.mode) && (f.declaration_assignment = !1), S(), void (f.declaration_assignment ? A(f.declaration_assignment = !1, !0) : (o.space_before_token = !0, h.comma_first && T()));\n          S(), f.mode === k.ObjectLiteral || f.mode === k.Statement && f.parent.mode === k.ObjectLiteral ? (f.mode === k.Statement && x(), A()) : (o.space_before_token = !0, h.comma_first && T());\n        },\n        TK_BLOCK_COMMENT: function TK_BLOCK_COMMENT() {\n          if (o.raw) return o.add_raw_token(s), void (s.directives && \"end\" === s.directives.preserve && (h.test_output_raw || (o.raw = !1)));\n          if (s.directives) return A(!1, !0), S(), \"start\" === s.directives.preserve && (o.raw = !0), void A(!1, !0);\n          if (!Y.newline.test(s.text) && !s.wanted_newline) return o.space_before_token = !0, S(), void (o.space_before_token = !0);\n\n          var e,\n              t = function (e) {\n            e = e.replace(/\\x0d/g, \"\");\n            var t = [],\n                n = e.indexOf(\"\\n\");\n\n            for (; -1 !== n;) {\n              t.push(e.substring(0, n)), e = e.substring(n + 1), n = e.indexOf(\"\\n\");\n            }\n\n            e.length && t.push(e);\n            return t;\n          }(s.text),\n              n = !1,\n              r = !1,\n              i = s.whitespace_before,\n              a = i.length;\n\n          A(!1, !0), 1 < t.length && (!function (e, t) {\n            for (var n = 0; n < e.length; n++) {\n              var r = V(e[n]);\n              if (r.charAt(0) !== t) return !1;\n            }\n\n            return !0;\n          }(t.slice(1), \"*\") ? function (e, t) {\n            for (var n, r = 0, i = e.length; r < i; r++) {\n              if ((n = e[r]) && 0 !== n.indexOf(t)) return !1;\n            }\n\n            return !0;\n          }(t.slice(1), i) && (r = !0) : n = !0);\n\n          for (S(t[0]), e = 1; e < t.length; e++) {\n            A(!1, !0), n ? S(\" \" + t[e].replace(/^\\s+/g, \"\")) : r && t[e].length > a ? S(t[e].substring(a)) : o.add_token(t[e]);\n          }\n\n          A(!1, !0);\n        },\n        TK_COMMENT: function TK_COMMENT() {\n          s.wanted_newline ? A(!1, !0) : o.trim(!0);\n          o.space_before_token = !0, S(), A(!1, !0);\n        },\n        TK_DOT: function TK_DOT() {\n          N();\n          \"TK_RESERVED\" === l && O(f.last_text) ? o.space_before_token = !0 : T(\")\" === f.last_text && h.break_chained_methods);\n          S();\n        },\n        TK_UNKNOWN: function TK_UNKNOWN() {\n          S(), \"\\n\" === s.text[s.text.length - 1] && A();\n        },\n        TK_EOF: function TK_EOF() {\n          for (; f.mode === k.Statement;) {\n            x();\n          }\n        }\n      }, h = {}, (e = e || {}).braces_on_own_line !== undefined && (h.brace_style = e.braces_on_own_line ? \"expand\" : \"collapse\"), h.brace_style = e.brace_style ? e.brace_style : h.brace_style ? h.brace_style : \"collapse\", \"expand-strict\" === h.brace_style && (h.brace_style = \"expand\"), h.indent_size = e.indent_size ? parseInt(e.indent_size, 10) : 4, h.indent_char = e.indent_char ? e.indent_char : \" \", h.eol = e.eol ? e.eol : \"\\n\", h.preserve_newlines = e.preserve_newlines === undefined || e.preserve_newlines, h.break_chained_methods = e.break_chained_methods !== undefined && e.break_chained_methods, h.max_preserve_newlines = e.max_preserve_newlines === undefined ? 0 : parseInt(e.max_preserve_newlines, 10), h.space_in_paren = e.space_in_paren !== undefined && e.space_in_paren, h.space_in_empty_paren = e.space_in_empty_paren !== undefined && e.space_in_empty_paren, h.jslint_happy = e.jslint_happy !== undefined && e.jslint_happy, h.space_after_anon_function = e.space_after_anon_function !== undefined && e.space_after_anon_function, h.keep_array_indentation = e.keep_array_indentation !== undefined && e.keep_array_indentation, h.space_before_conditional = e.space_before_conditional === undefined || e.space_before_conditional, h.unescape_strings = e.unescape_strings !== undefined && e.unescape_strings, h.wrap_line_length = e.wrap_line_length === undefined ? 0 : parseInt(e.wrap_line_length, 10), h.e4x = e.e4x !== undefined && e.e4x, h.end_with_newline = e.end_with_newline !== undefined && e.end_with_newline, h.comma_first = e.comma_first !== undefined && e.comma_first, h.test_output_raw = e.test_output_raw !== undefined && e.test_output_raw, h.jslint_happy && (h.space_after_anon_function = !0), e.indent_with_tabs && (h.indent_char = \"\\t\", h.indent_size = 1), h.eol = h.eol.replace(/\\\\r/, \"\\r\").replace(/\\\\n/, \"\\n\"), c = \"\"; 0 < h.indent_size;) {\n        c += h.indent_char, h.indent_size -= 1;\n      }\n\n      var E = 0;\n\n      if (r && r.length) {\n        for (; \" \" === r.charAt(E) || \"\\t\" === r.charAt(E);) {\n          m += r.charAt(E), E += 1;\n        }\n\n        r = r.substring(E);\n      }\n\n      function b(e) {\n        var t = e.newlines;\n        if (h.keep_array_indentation && _(f.mode)) for (n = 0; n < t; n += 1) {\n          A(0 < n);\n        } else if (h.max_preserve_newlines && t > h.max_preserve_newlines && (t = h.max_preserve_newlines), h.preserve_newlines && 1 < e.newlines) {\n          A();\n\n          for (var n = 1; n < t; n += 1) {\n            A(!0);\n          }\n        }\n        u[(s = e).type]();\n      }\n\n      function T(e) {\n        if (e = e !== undefined && e, !o.just_added_newline()) if (h.preserve_newlines && s.wanted_newline || e) A(!1, !0);else if (h.wrap_line_length) {\n          o.current_line.get_character_count() + s.text.length + (o.space_before_token ? 1 : 0) >= h.wrap_line_length && A(!1, !0);\n        }\n      }\n\n      function A(e, t) {\n        if (!t && \";\" !== f.last_text && \",\" !== f.last_text && \"=\" !== f.last_text && \"TK_OPERATOR\" !== l) for (; f.mode === k.Statement && !f.if_block && !f.do_block;) {\n          x();\n        }\n        o.add_new_line(e) && (f.multiline_frame = !0);\n      }\n\n      function C() {\n        o.just_added_newline() && (h.keep_array_indentation && _(f.mode) && s.wanted_newline ? (o.current_line.push(s.whitespace_before), o.space_before_token = !1) : o.set_indent(f.indentation_level) && (f.line_indent_level = f.indentation_level));\n      }\n\n      function S(e) {\n        o.raw ? o.add_raw_token(s) : (h.comma_first && \"TK_COMMA\" === l && o.just_added_newline() && \",\" === o.previous_line.last() && (o.previous_line.pop(), C(), o.add_token(\",\"), o.space_before_token = !0), e = e || s.text, C(), o.add_token(e));\n      }\n\n      function R() {\n        f.indentation_level += 1;\n      }\n\n      function y(e) {\n        f ? (t.push(f), p = f) : p = v(null, e), f = v(p, e);\n      }\n\n      function _(e) {\n        return e === k.ArrayLiteral;\n      }\n\n      function L(e) {\n        return G(e, [k.Expression, k.ForInitializer, k.Conditional]);\n      }\n\n      function x() {\n        0 < t.length && (p = f, f = t.pop(), p.mode === k.Statement && o.remove_redundant_indentation(p));\n      }\n\n      function w() {\n        return f.parent.mode === k.ObjectLiteral && f.mode === k.Statement && (\":\" === f.last_text && 0 === f.ternary_depth || \"TK_RESERVED\" === l && G(f.last_text, [\"get\", \"set\"]));\n      }\n\n      function N() {\n        return !!(\"TK_RESERVED\" === l && G(f.last_text, [\"var\", \"let\", \"const\"]) && \"TK_WORD\" === s.type || \"TK_RESERVED\" === l && \"do\" === f.last_text || \"TK_RESERVED\" === l && \"return\" === f.last_text && !s.wanted_newline || \"TK_RESERVED\" === l && \"else\" === f.last_text && (\"TK_RESERVED\" !== s.type || \"if\" !== s.text) || \"TK_END_EXPR\" === l && (p.mode === k.ForInitializer || p.mode === k.Conditional) || \"TK_WORD\" === l && f.mode === k.BlockStatement && !f.in_case && \"--\" !== s.text && \"++\" !== s.text && \"function\" !== d && \"TK_WORD\" !== s.type && \"TK_RESERVED\" !== s.type || f.mode === k.ObjectLiteral && (\":\" === f.last_text && 0 === f.ternary_depth || \"TK_RESERVED\" === l && G(f.last_text, [\"get\", \"set\"]))) && (y(k.Statement), R(), \"TK_RESERVED\" === l && G(f.last_text, [\"var\", \"let\", \"const\"]) && \"TK_WORD\" === s.type && (f.declaration_statement = !0), w() || T(\"TK_RESERVED\" === s.type && G(s.text, [\"do\", \"for\", \"if\", \"while\"])), !0);\n      }\n\n      function O(e) {\n        return G(e, [\"case\", \"return\", \"do\", \"if\", \"throw\", \"else\"]);\n      }\n\n      function I(e) {\n        var t = i + (e || 0);\n        return t < 0 || t >= g.length ? null : g[t];\n      }\n\n      function D() {\n        (\"TK_RESERVED\" === s.type && f.mode !== k.ObjectLiteral && G(s.text, [\"set\", \"get\"]) && (s.type = \"TK_WORD\"), \"TK_RESERVED\" === s.type && f.mode === k.ObjectLiteral) && \":\" == I(1).text && (s.type = \"TK_WORD\");\n\n        if (N() || !s.wanted_newline || L(f.mode) || \"TK_OPERATOR\" === l && \"--\" !== f.last_text && \"++\" !== f.last_text || \"TK_EQUALS\" === l || !h.preserve_newlines && \"TK_RESERVED\" === l && G(f.last_text, [\"var\", \"let\", \"const\", \"set\", \"get\"]) || A(), f.do_block && !f.do_while) {\n          if (\"TK_RESERVED\" === s.type && \"while\" === s.text) return o.space_before_token = !0, S(), o.space_before_token = !0, void (f.do_while = !0);\n          A(), f.do_block = !1;\n        }\n\n        if (f.if_block) if (f.else_block || \"TK_RESERVED\" !== s.type || \"else\" !== s.text) {\n          for (; f.mode === k.Statement;) {\n            x();\n          }\n\n          f.if_block = !1, f.else_block = !1;\n        } else f.else_block = !0;\n        if (\"TK_RESERVED\" === s.type && (\"case\" === s.text || \"default\" === s.text && f.in_case_statement)) return A(), (f.case_body || h.jslint_happy) && (0 < f.indentation_level && (!f.parent || f.indentation_level > f.parent.indentation_level) && (f.indentation_level -= 1), f.case_body = !1), S(), f.in_case = !0, void (f.in_case_statement = !0);\n        if (\"TK_RESERVED\" === s.type && \"function\" === s.text && ((G(f.last_text, [\"}\", \";\"]) || o.just_added_newline() && !G(f.last_text, [\"[\", \"{\", \":\", \"=\", \",\"])) && (o.just_added_blankline() || s.comments_before.length || (A(), A(!0))), \"TK_RESERVED\" === l || \"TK_WORD\" === l ? \"TK_RESERVED\" === l && G(f.last_text, [\"get\", \"set\", \"new\", \"return\", \"export\", \"async\"]) ? o.space_before_token = !0 : \"TK_RESERVED\" === l && \"default\" === f.last_text && \"export\" === d ? o.space_before_token = !0 : A() : \"TK_OPERATOR\" === l || \"=\" === f.last_text ? o.space_before_token = !0 : (f.multiline_frame || !L(f.mode) && !_(f.mode)) && A()), \"TK_COMMA\" !== l && \"TK_START_EXPR\" !== l && \"TK_EQUALS\" !== l && \"TK_OPERATOR\" !== l || w() || T(), \"TK_RESERVED\" === s.type && G(s.text, [\"function\", \"get\", \"set\"])) return S(), void (f.last_word = s.text);\n        (n = \"NONE\", \"TK_END_BLOCK\" === l ? \"TK_RESERVED\" === s.type && G(s.text, [\"else\", \"catch\", \"finally\"]) ? \"expand\" === h.brace_style || \"end-expand\" === h.brace_style || \"none\" === h.brace_style && s.wanted_newline ? n = \"NEWLINE\" : (n = \"SPACE\", o.space_before_token = !0) : n = \"NEWLINE\" : \"TK_SEMICOLON\" === l && f.mode === k.BlockStatement ? n = \"NEWLINE\" : \"TK_SEMICOLON\" === l && L(f.mode) ? n = \"SPACE\" : \"TK_STRING\" === l ? n = \"NEWLINE\" : \"TK_RESERVED\" === l || \"TK_WORD\" === l || \"*\" === f.last_text && \"function\" === d ? n = \"SPACE\" : \"TK_START_BLOCK\" === l ? n = \"NEWLINE\" : \"TK_END_EXPR\" === l && (o.space_before_token = !0, n = \"NEWLINE\"), \"TK_RESERVED\" === s.type && G(s.text, a.line_starters) && \")\" !== f.last_text && (n = \"else\" === f.last_text || \"export\" === f.last_text ? \"SPACE\" : \"NEWLINE\"), \"TK_RESERVED\" === s.type && G(s.text, [\"else\", \"catch\", \"finally\"])) ? \"TK_END_BLOCK\" !== l || \"expand\" === h.brace_style || \"end-expand\" === h.brace_style || \"none\" === h.brace_style && s.wanted_newline ? A() : (o.trim(!0), \"}\" !== o.current_line.last() && A(), o.space_before_token = !0) : \"NEWLINE\" === n ? \"TK_RESERVED\" === l && O(f.last_text) ? o.space_before_token = !0 : \"TK_END_EXPR\" !== l ? \"TK_START_EXPR\" === l && \"TK_RESERVED\" === s.type && G(s.text, [\"var\", \"let\", \"const\"]) || \":\" === f.last_text || (\"TK_RESERVED\" === s.type && \"if\" === s.text && \"else\" === f.last_text ? o.space_before_token = !0 : A()) : \"TK_RESERVED\" === s.type && G(s.text, a.line_starters) && \")\" !== f.last_text && A() : f.multiline_frame && _(f.mode) && \",\" === f.last_text && \"}\" === d ? A() : \"SPACE\" === n && (o.space_before_token = !0);\n        S(), f.last_word = s.text, \"TK_RESERVED\" === s.type && \"do\" === s.text && (f.do_block = !0), \"TK_RESERVED\" === s.type && \"if\" === s.text && (f.if_block = !0);\n      }\n\n      l = \"TK_START_BLOCK\", d = \"\", (o = new F(c, m)).raw = h.test_output_raw, t = [], y(k.BlockStatement), this.beautify = function () {\n        var e, t;\n\n        for (a = new M(r, h, c), g = a.tokenize(), i = 0; e = I();) {\n          for (var n = 0; n < e.comments_before.length; n++) {\n            b(e.comments_before[n]);\n          }\n\n          b(e), d = f.last_text, l = e.type, f.last_text = e.text, i += 1;\n        }\n\n        return t = o.get_code(), h.end_with_newline && (t += \"\\n\"), \"\\n\" != h.eol && (t = t.replace(/[\\n]/g, h.eol)), t;\n      };\n    }\n\n    function a(t) {\n      var n = 0,\n          r = -1,\n          i = [],\n          a = !0;\n      this.set_indent = function (e) {\n        n = t.baseIndentLength + e * t.indent_length, r = e;\n      }, this.get_character_count = function () {\n        return n;\n      }, this.is_empty = function () {\n        return a;\n      }, this.last = function () {\n        return this._empty ? null : i[i.length - 1];\n      }, this.push = function (e) {\n        i.push(e), n += e.length, a = !1;\n      }, this.pop = function () {\n        var e = null;\n        return a || (e = i.pop(), n -= e.length, a = 0 === i.length), e;\n      }, this.remove_indent = function () {\n        0 < r && (r -= 1, n -= t.indent_length);\n      }, this.trim = function () {\n        for (; \" \" === this.last();) {\n          i.pop();\n          n -= 1;\n        }\n\n        a = 0 === i.length;\n      }, this.toString = function () {\n        var e = \"\";\n        return this._empty || (0 <= r && (e = t.indent_cache[r]), e += i.join(\"\")), e;\n      };\n    }\n\n    function F(t, n) {\n      n = n || \"\", this.indent_cache = [n], this.baseIndentLength = n.length, this.indent_length = t.length, this.raw = !1;\n      var r = [];\n      this.baseIndentString = n, this.indent_string = t, this.previous_line = null, this.current_line = null, this.space_before_token = !1, this.add_outputline = function () {\n        this.previous_line = this.current_line, this.current_line = new a(this), r.push(this.current_line);\n      }, this.add_outputline(), this.get_line_number = function () {\n        return r.length;\n      }, this.add_new_line = function (e) {\n        return (1 !== this.get_line_number() || !this.just_added_newline()) && !(!e && this.just_added_newline()) && (this.raw || this.add_outputline(), !0);\n      }, this.get_code = function () {\n        return r.join(\"\\n\").replace(/[\\r\\n\\t ]+$/, \"\");\n      }, this.set_indent = function (e) {\n        if (1 < r.length) {\n          for (; e >= this.indent_cache.length;) {\n            this.indent_cache.push(this.indent_cache[this.indent_cache.length - 1] + this.indent_string);\n          }\n\n          return this.current_line.set_indent(e), !0;\n        }\n\n        return this.current_line.set_indent(0), !1;\n      }, this.add_raw_token = function (e) {\n        for (var t = 0; t < e.newlines; t++) {\n          this.add_outputline();\n        }\n\n        this.current_line.push(e.whitespace_before), this.current_line.push(e.text), this.space_before_token = !1;\n      }, this.add_token = function (e) {\n        this.add_space_before_token(), this.current_line.push(e);\n      }, this.add_space_before_token = function () {\n        this.space_before_token && !this.just_added_newline() && this.current_line.push(\" \"), this.space_before_token = !1;\n      }, this.remove_redundant_indentation = function (e) {\n        if (!e.multiline_frame && e.mode !== k.ForInitializer && e.mode !== k.Conditional) for (var t = e.start_line_index, n = r.length; t < n;) {\n          r[t].remove_indent(), t++;\n        }\n      }, this.trim = function (e) {\n        for (e = e !== undefined && e, this.current_line.trim(t, n); e && 1 < r.length && this.current_line.is_empty();) {\n          r.pop(), this.current_line = r[r.length - 1], this.current_line.trim();\n        }\n\n        this.previous_line = 1 < r.length ? r[r.length - 2] : null;\n      }, this.just_added_newline = function () {\n        return this.current_line.is_empty();\n      }, this.just_added_blankline = function () {\n        return !!this.just_added_newline() && (1 === r.length || r[r.length - 2].is_empty());\n      };\n    }\n\n    var X = function X(e, t, n, r, i, a) {\n      this.type = e, this.text = t, this.comments_before = [], this.newlines = n || 0, this.wanted_newline = 0 < n, this.whitespace_before = r || \"\", this.parent = null, this.directives = null;\n    };\n\n    function M(y, _, e) {\n      var L = \"\\n\\r\\t \".split(\"\"),\n          x = /[0-9]/,\n          w = /[01234567]/,\n          N = /[0123456789abcdefABCDEF]/,\n          O = \"+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! ~ , : ? ^ ^= |= :: =>\".split(\" \");\n      this.line_starters = \"continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export\".split(\",\");\n      var I,\n          D,\n          k,\n          F,\n          M,\n          $,\n          B = this.line_starters.concat([\"do\", \"in\", \"else\", \"get\", \"set\", \"new\", \"catch\", \"finally\", \"typeof\", \"yield\", \"async\", \"await\"]),\n          P = /([\\s\\S]*?)((?:\\*\\/)|$)/g,\n          U = /([^\\n\\r\\u2028\\u2029]*)/g,\n          K = /\\/\\* beautify( \\w+[:]\\w+)+ \\*\\//g,\n          H = / (\\w+)[:](\\w+)/g,\n          W = /([\\s\\S]*?)((?:\\/\\*\\sbeautify\\signore:end\\s\\*\\/)|$)/g,\n          z = /((<\\?php|<\\?=)[\\s\\S]*?\\?>)|(<%[\\s\\S]*?%>)/g;\n\n      function o() {\n        var e,\n            t,\n            n = [];\n        if (I = 0, D = \"\", $ <= M) return [\"\", \"TK_EOF\"];\n        t = F.length ? F[F.length - 1] : new X(\"TK_START_BLOCK\", \"{\");\n        var r = y.charAt(M);\n\n        for (M += 1; G(r, L);) {\n          if (Y.newline.test(r) ? \"\\n\" === r && \"\\r\" === y.charAt(M - 2) || (I += 1, n = []) : n.push(r), $ <= M) return [\"\", \"TK_EOF\"];\n          r = y.charAt(M), M += 1;\n        }\n\n        if (n.length && (D = n.join(\"\")), x.test(r)) {\n          var i = !0,\n              a = !0,\n              o = x;\n\n          for (\"0\" === r && M < $ && /[Xxo]/.test(y.charAt(M)) ? (a = i = !1, r += y.charAt(M), M += 1, o = /[o]/.test(y.charAt(M)) ? w : N) : (r = \"\", M -= 1); M < $ && o.test(y.charAt(M));) {\n            r += y.charAt(M), M += 1, i && M < $ && \".\" === y.charAt(M) && (r += y.charAt(M), M += 1, i = !1), a && M < $ && /[Ee]/.test(y.charAt(M)) && (r += y.charAt(M), (M += 1) < $ && /[+-]/.test(y.charAt(M)) && (r += y.charAt(M), M += 1), i = a = !1);\n          }\n\n          return [r, \"TK_WORD\"];\n        }\n\n        if (Y.isIdentifierStart(y.charCodeAt(M - 1))) {\n          if (M < $) for (; Y.isIdentifierChar(y.charCodeAt(M)) && (r += y.charAt(M), (M += 1) !== $);) {\n            ;\n          }\n          return \"TK_DOT\" === t.type || \"TK_RESERVED\" === t.type && G(t.text, [\"set\", \"get\"]) || !G(r, B) ? [r, \"TK_WORD\"] : \"in\" === r ? [r, \"TK_OPERATOR\"] : [r, \"TK_RESERVED\"];\n        }\n\n        if (\"(\" === r || \"[\" === r) return [r, \"TK_START_EXPR\"];\n        if (\")\" === r || \"]\" === r) return [r, \"TK_END_EXPR\"];\n        if (\"{\" === r) return [r, \"TK_START_BLOCK\"];\n        if (\"}\" === r) return [r, \"TK_END_BLOCK\"];\n        if (\";\" === r) return [r, \"TK_SEMICOLON\"];\n\n        if (\"/\" === r) {\n          var s = \"\";\n\n          if (\"*\" === y.charAt(M)) {\n            var l;\n            M += 1, P.lastIndex = M, s = \"/*\" + (l = P.exec(y))[0], M += l[0].length;\n\n            var d = function (e) {\n              if (!e.match(K)) return null;\n              var t = {};\n              H.lastIndex = 0;\n\n              for (var n = H.exec(e); n;) {\n                t[n[1]] = n[2], n = H.exec(e);\n              }\n\n              return t;\n            }(s);\n\n            return d && \"start\" === d.ignore && (W.lastIndex = M, s += (l = W.exec(y))[0], M += l[0].length), [s = s.replace(Y.lineBreak, \"\\n\"), \"TK_BLOCK_COMMENT\", d];\n          }\n\n          if (\"/\" === y.charAt(M)) return M += 1, U.lastIndex = M, s = \"//\" + (l = U.exec(y))[0], M += l[0].length, [s, \"TK_COMMENT\"];\n        }\n\n        if (\"`\" === r || \"'\" === r || '\"' === r || (\"/\" === r || _.e4x && \"<\" === r && y.slice(M - 1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\\[CDATA\\[[\\s\\S]*?\\]\\])(\\s+[-a-zA-Z:0-9_.]+\\s*=\\s*('[^']*'|\"[^\"]*\"|{.*?}))*\\s*(\\/?)\\s*>/)) && (\"TK_RESERVED\" === t.type && G(t.text, [\"return\", \"case\", \"throw\", \"else\", \"do\", \"typeof\", \"yield\"]) || \"TK_END_EXPR\" === t.type && \")\" === t.text && t.parent && \"TK_RESERVED\" === t.parent.type && G(t.parent.text, [\"if\", \"while\", \"for\"]) || G(t.type, [\"TK_COMMENT\", \"TK_START_EXPR\", \"TK_START_BLOCK\", \"TK_END_BLOCK\", \"TK_OPERATOR\", \"TK_EQUALS\", \"TK_EOF\", \"TK_SEMICOLON\", \"TK_COMMA\"]))) {\n          var c = r,\n              f = !1,\n              p = !1;\n          if (e = r, \"/\" === c) for (var u = !1; M < $ && (f || u || y.charAt(M) !== c) && !Y.newline.test(y.charAt(M));) {\n            e += y.charAt(M), f ? f = !1 : (f = \"\\\\\" === y.charAt(M), \"[\" === y.charAt(M) ? u = !0 : \"]\" === y.charAt(M) && (u = !1)), M += 1;\n          } else if (_.e4x && \"<\" === c) {\n            var h = /<(\\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\\[CDATA\\[[\\s\\S]*?\\]\\])(\\s+[-a-zA-Z:0-9_.]+\\s*=\\s*('[^']*'|\"[^\"]*\"|{.*?}))*\\s*(\\/?)\\s*>/g,\n                g = y.slice(M - 1),\n                m = h.exec(g);\n\n            if (m && 0 === m.index) {\n              for (var v = m[2], E = 0; m;) {\n                var b = !!m[1],\n                    T = m[2],\n                    A = !!m[m.length - 1] || \"![CDATA[\" === T.slice(0, 8);\n                if (T !== v || A || (b ? --E : ++E), E <= 0) break;\n                m = h.exec(g);\n              }\n\n              var C = m ? m.index + m[0].length : g.length;\n              return g = g.slice(0, C), M += C - 1, [g = g.replace(Y.lineBreak, \"\\n\"), \"TK_STRING\"];\n            }\n          } else for (; M < $ && (f || y.charAt(M) !== c && (\"`\" === c || !Y.newline.test(y.charAt(M))));) {\n            (f || \"`\" === c) && Y.newline.test(y.charAt(M)) ? (\"\\r\" === y.charAt(M) && \"\\n\" === y.charAt(M + 1) && (M += 1), e += \"\\n\") : e += y.charAt(M), f ? (\"x\" !== y.charAt(M) && \"u\" !== y.charAt(M) || (p = !0), f = !1) : f = \"\\\\\" === y.charAt(M), M += 1;\n          }\n          if (p && _.unescape_strings && (e = function (e) {\n            var t,\n                n = !1,\n                r = \"\",\n                i = 0,\n                a = \"\",\n                o = 0;\n\n            for (; n || i < e.length;) {\n              if (t = e.charAt(i), i++, n) {\n                if (n = !1, \"x\" === t) a = e.substr(i, 2), i += 2;else {\n                  if (\"u\" !== t) {\n                    r += \"\\\\\" + t;\n                    continue;\n                  }\n\n                  a = e.substr(i, 4), i += 4;\n                }\n                if (!a.match(/^[0123456789abcdefABCDEF]+$/)) return e;\n\n                if (0 <= (o = parseInt(a, 16)) && o < 32) {\n                  r += \"x\" === t ? \"\\\\x\" + a : \"\\\\u\" + a;\n                  continue;\n                }\n\n                if (34 === o || 39 === o || 92 === o) r += \"\\\\\" + String.fromCharCode(o);else {\n                  if (\"x\" === t && 126 < o && o <= 255) return e;\n                  r += String.fromCharCode(o);\n                }\n              } else \"\\\\\" === t ? n = !0 : r += t;\n            }\n\n            return r;\n          }(e)), M < $ && y.charAt(M) === c && (e += c, M += 1, \"/\" === c)) for (; M < $ && Y.isIdentifierStart(y.charCodeAt(M));) {\n            e += y.charAt(M), M += 1;\n          }\n          return [e, \"TK_STRING\"];\n        }\n\n        if (\"#\" === r) {\n          if (0 === F.length && \"!\" === y.charAt(M)) {\n            for (e = r; M < $ && \"\\n\" !== r;) {\n              e += r = y.charAt(M), M += 1;\n            }\n\n            return [V(e) + \"\\n\", \"TK_UNKNOWN\"];\n          }\n\n          var S = \"#\";\n\n          if (M < $ && x.test(y.charAt(M))) {\n            for (; S += r = y.charAt(M), (M += 1) < $ && \"#\" !== r && \"=\" !== r;) {\n              ;\n            }\n\n            return \"#\" === r || (\"[\" === y.charAt(M) && \"]\" === y.charAt(M + 1) ? (S += \"[]\", M += 2) : \"{\" === y.charAt(M) && \"}\" === y.charAt(M + 1) && (S += \"{}\", M += 2)), [S, \"TK_WORD\"];\n          }\n        }\n\n        if (\"<\" === r && (\"?\" === y.charAt(M) || \"%\" === y.charAt(M))) {\n          z.lastIndex = M - 1;\n          var R = z.exec(y);\n          if (R) return r = R[0], M += r.length - 1, [r = r.replace(Y.lineBreak, \"\\n\"), \"TK_STRING\"];\n        }\n\n        if (\"<\" === r && \"\\x3c!--\" === y.substring(M - 1, M + 3)) {\n          for (M += 3, r = \"\\x3c!--\"; !Y.newline.test(y.charAt(M)) && M < $;) {\n            r += y.charAt(M), M++;\n          }\n\n          return k = !0, [r, \"TK_COMMENT\"];\n        }\n\n        if (\"-\" === r && k && \"--\\x3e\" === y.substring(M - 1, M + 2)) return k = !1, M += 2, [\"--\\x3e\", \"TK_COMMENT\"];\n        if (\".\" === r) return [r, \"TK_DOT\"];\n\n        if (G(r, O)) {\n          for (; M < $ && G(r + y.charAt(M), O) && (r += y.charAt(M), !($ <= (M += 1)));) {\n            ;\n          }\n\n          return \",\" === r ? [r, \"TK_COMMA\"] : \"=\" === r ? [r, \"TK_EQUALS\"] : [r, \"TK_OPERATOR\"];\n        }\n\n        return [r, \"TK_UNKNOWN\"];\n      }\n\n      this.tokenize = function () {\n        var e, t, n;\n        $ = y.length, M = 0, k = !1, F = [];\n\n        for (var r = null, i = [], a = []; !t || \"TK_EOF\" !== t.type;) {\n          for (n = o(), e = new X(n[1], n[0], I, D); \"TK_COMMENT\" === e.type || \"TK_BLOCK_COMMENT\" === e.type || \"TK_UNKNOWN\" === e.type;) {\n            \"TK_BLOCK_COMMENT\" === e.type && (e.directives = n[2]), a.push(e), n = o(), e = new X(n[1], n[0], I, D);\n          }\n\n          a.length && (e.comments_before = a, a = []), \"TK_START_BLOCK\" === e.type || \"TK_START_EXPR\" === e.type ? (e.parent = t, i.push(r), r = e) : (\"TK_END_BLOCK\" === e.type || \"TK_END_EXPR\" === e.type) && r && (\"]\" === e.text && \"[\" === r.text || \")\" === e.text && \"(\" === r.text || \"}\" === e.text && \"{\" === r.text) && (e.parent = r.parent, r = i.pop()), F.push(e), t = e;\n        }\n\n        return F;\n      };\n    }\n\n    return {\n      run: function run(e, t) {\n        function o(e) {\n          return e.replace(/\\s+$/g, \"\");\n        }\n\n        var n, r, i, m, a, s, v, l, d, E, b, T, c, f;\n\n        for ((t = t || {}).wrap_line_length !== undefined && 0 !== parseInt(t.wrap_line_length, 10) || t.max_char === undefined || 0 === parseInt(t.max_char, 10) || (t.wrap_line_length = t.max_char), r = t.indent_inner_html !== undefined && t.indent_inner_html, i = t.indent_size === undefined ? 4 : parseInt(t.indent_size, 10), m = t.indent_char === undefined ? \" \" : t.indent_char, s = t.brace_style === undefined ? \"collapse\" : t.brace_style, a = 0 === parseInt(t.wrap_line_length, 10) ? 32786 : parseInt(t.wrap_line_length || 250, 10), v = t.unformatted || [\"a\", \"span\", \"img\", \"bdo\", \"em\", \"strong\", \"dfn\", \"code\", \"samp\", \"kbd\", \"var\", \"cite\", \"abbr\", \"acronym\", \"q\", \"sub\", \"sup\", \"tt\", \"i\", \"b\", \"big\", \"small\", \"u\", \"s\", \"strike\", \"font\", \"ins\", \"del\", \"address\", \"pre\"], l = t.preserve_newlines === undefined || t.preserve_newlines, d = l ? isNaN(parseInt(t.max_preserve_newlines, 10)) ? 32786 : parseInt(t.max_preserve_newlines, 10) : 0, E = t.indent_handlebars !== undefined && t.indent_handlebars, b = t.wrap_attributes === undefined ? \"auto\" : t.wrap_attributes, T = t.wrap_attributes_indent_size === undefined ? i : parseInt(t.wrap_attributes_indent_size, 10) || i, c = t.end_with_newline !== undefined && t.end_with_newline, f = Array.isArray(t.extra_liners) ? t.extra_liners.concat() : \"string\" == typeof t.extra_liners ? t.extra_liners.split(\",\") : \"head,body,/html\".split(\",\"), t.indent_with_tabs && (m = \"\\t\", i = 1), (n = new function () {\n          return this.pos = 0, this.token = \"\", this.current_mode = \"CONTENT\", this.tags = {\n            parent: \"parent1\",\n            parentcount: 1,\n            parent1: \"\"\n          }, this.tag_type = \"\", this.token_text = this.last_token = this.last_text = this.token_type = \"\", this.newlines = 0, this.indent_content = r, this.Utils = {\n            whitespace: \"\\n\\r\\t \".split(\"\"),\n            single_token: \"br,input,link,meta,source,!doctype,basefont,base,area,hr,wbr,param,img,isindex,embed\".split(\",\"),\n            extra_liners: f,\n            in_array: function in_array(e, t) {\n              for (var n = 0; n < t.length; n++) {\n                if (e == t[n]) return !0;\n              }\n\n              return !1;\n            }\n          }, this.is_whitespace = function (e) {\n            for (; 0 < e.length; e++) {\n              if (!this.Utils.in_array(e.charAt(0), this.Utils.whitespace)) return !1;\n            }\n\n            return !0;\n          }, this.traverse_whitespace = function () {\n            var e = \"\";\n\n            if (e = this.input.charAt(this.pos), this.Utils.in_array(e, this.Utils.whitespace)) {\n              for (this.newlines = 0; this.Utils.in_array(e, this.Utils.whitespace);) {\n                l && \"\\n\" == e && this.newlines <= d && (this.newlines += 1), this.pos++, e = this.input.charAt(this.pos);\n              }\n\n              return !0;\n            }\n\n            return !1;\n          }, this.space_or_wrap = function (e) {\n            this.line_char_count >= this.wrap_line_length ? (this.print_newline(!1, e), this.print_indentation(e)) : (this.line_char_count++, e.push(\" \"));\n          }, this.get_content = function () {\n            for (var e = \"\", t = []; \"<\" != this.input.charAt(this.pos);) {\n              if (this.pos >= this.input.length) return t.length ? t.join(\"\") : [\"\", \"TK_EOF\"];\n              if (this.traverse_whitespace()) this.space_or_wrap(t);else {\n                if (E) {\n                  var n = this.input.substr(this.pos, 3);\n                  if (\"{{#\" == n || \"{{/\" == n) break;\n                  if (\"{{!\" == n) return [this.get_tag(), \"TK_TAG_HANDLEBARS_COMMENT\"];\n                  if (\"{{\" == this.input.substr(this.pos, 2) && \"{{else}}\" == this.get_tag(!0)) break;\n                }\n\n                e = this.input.charAt(this.pos), this.pos++, this.line_char_count++, t.push(e);\n              }\n            }\n\n            return t.length ? t.join(\"\") : \"\";\n          }, this.get_contents_to = function (e) {\n            if (this.pos == this.input.length) return [\"\", \"TK_EOF\"];\n            var t = \"\",\n                n = new RegExp(\"</\" + e + \"\\\\s*>\", \"igm\");\n            n.lastIndex = this.pos;\n            var r = n.exec(this.input),\n                i = r ? r.index : this.input.length;\n            return this.pos < i && (t = this.input.substring(this.pos, i), this.pos = i), t;\n          }, this.record_tag = function (e) {\n            this.tags[e + \"count\"] ? this.tags[e + \"count\"]++ : this.tags[e + \"count\"] = 1, this.tags[e + this.tags[e + \"count\"]] = this.indent_level, this.tags[e + this.tags[e + \"count\"] + \"parent\"] = this.tags.parent, this.tags.parent = e + this.tags[e + \"count\"];\n          }, this.retrieve_tag = function (e) {\n            if (this.tags[e + \"count\"]) {\n              for (var t = this.tags.parent; t && e + this.tags[e + \"count\"] != t;) {\n                t = this.tags[t + \"parent\"];\n              }\n\n              t && (this.indent_level = this.tags[e + this.tags[e + \"count\"]], this.tags.parent = this.tags[t + \"parent\"]), delete this.tags[e + this.tags[e + \"count\"] + \"parent\"], delete this.tags[e + this.tags[e + \"count\"]], 1 == this.tags[e + \"count\"] ? delete this.tags[e + \"count\"] : this.tags[e + \"count\"]--;\n            }\n          }, this.indent_to_tag = function (e) {\n            if (this.tags[e + \"count\"]) {\n              for (var t = this.tags.parent; t && e + this.tags[e + \"count\"] != t;) {\n                t = this.tags[t + \"parent\"];\n              }\n\n              t && (this.indent_level = this.tags[e + this.tags[e + \"count\"]]);\n            }\n          }, this.get_tag = function (e) {\n            var t,\n                n,\n                r = \"\",\n                i = [],\n                a = \"\",\n                o = !1,\n                s = !0,\n                l = this.pos,\n                d = this.line_char_count;\n            e = e !== undefined && e;\n\n            do {\n              if (this.pos >= this.input.length) return e && (this.pos = l, this.line_char_count = d), i.length ? i.join(\"\") : [\"\", \"TK_EOF\"];\n              if (r = this.input.charAt(this.pos), this.pos++, this.Utils.in_array(r, this.Utils.whitespace)) o = !0;else {\n                if (\"'\" != r && '\"' != r || (r += this.get_unformatted(r), o = !0), \"=\" == r && (o = !1), i.length && \"=\" != i[i.length - 1] && \">\" != r && o) {\n                  if (this.space_or_wrap(i), o = !1, !s && \"force\" == b && \"/\" != r) {\n                    this.print_newline(!0, i), this.print_indentation(i);\n\n                    for (var c = 0; c < T; c++) {\n                      i.push(m);\n                    }\n                  }\n\n                  for (var f = 0; f < i.length; f++) {\n                    if (\" \" == i[f]) {\n                      s = !1;\n                      break;\n                    }\n                  }\n                }\n\n                if (E && \"<\" == n && r + this.input.charAt(this.pos) == \"{{\" && (r += this.get_unformatted(\"}}\"), i.length && \" \" != i[i.length - 1] && \"<\" != i[i.length - 1] && (r = \" \" + r), o = !0), \"<\" != r || n || (t = this.pos - 1, n = \"<\"), E && !n && 2 <= i.length && \"{\" == i[i.length - 1] && \"{\" == i[i.length - 2] && (t = \"#\" == r || \"/\" == r || \"!\" == r ? this.pos - 3 : this.pos - 2, n = \"{\"), this.line_char_count++, i.push(r), i[1] && (\"!\" == i[1] || \"?\" == i[1] || \"%\" == i[1])) {\n                  i = [this.get_comment(t)];\n                  break;\n                }\n\n                if (E && i[1] && \"{\" == i[1] && i[2] && \"!\" == i[2]) {\n                  i = [this.get_comment(t)];\n                  break;\n                }\n\n                if (E && \"{\" == n && 2 < i.length && \"}\" == i[i.length - 2] && \"}\" == i[i.length - 1]) break;\n              }\n            } while (\">\" != r);\n\n            var p,\n                u,\n                h = i.join(\"\");\n            p = -1 != h.indexOf(\" \") ? h.indexOf(\" \") : \"{\" == h[0] ? h.indexOf(\"}\") : h.indexOf(\">\"), u = \"<\" != h[0] && E ? \"#\" == h[2] ? 3 : 2 : 1;\n            var g = h.substring(u, p).toLowerCase();\n            return \"/\" == h.charAt(h.length - 2) || this.Utils.in_array(g, this.Utils.single_token) ? e || (this.tag_type = \"SINGLE\") : E && \"{\" == h[0] && \"else\" == g ? e || (this.indent_to_tag(\"if\"), this.tag_type = \"HANDLEBARS_ELSE\", this.indent_content = !0, this.traverse_whitespace()) : this.is_unformatted(g, v) ? (a = this.get_unformatted(\"</\" + g + \">\", h), i.push(a), this.pos, this.tag_type = \"SINGLE\") : \"script\" == g && (-1 == h.search(\"type\") || -1 < h.search(\"type\") && -1 < h.search(/\\b(text|application)\\/(x-)?(javascript|ecmascript|jscript|livescript)/)) ? e || (this.record_tag(g), this.tag_type = \"SCRIPT\") : \"style\" == g && (-1 == h.search(\"type\") || -1 < h.search(\"type\") && -1 < h.search(\"text/css\")) ? e || (this.record_tag(g), this.tag_type = \"STYLE\") : \"!\" == g.charAt(0) ? e || (this.tag_type = \"SINGLE\", this.traverse_whitespace()) : e || (\"/\" == g.charAt(0) ? (this.retrieve_tag(g.substring(1)), this.tag_type = \"END\") : (this.record_tag(g), \"html\" != g.toLowerCase() && (this.indent_content = !0), this.tag_type = \"START\"), this.traverse_whitespace() && this.space_or_wrap(i), this.Utils.in_array(g, this.Utils.extra_liners) && (this.print_newline(!1, this.output), this.output.length && \"\\n\" != this.output[this.output.length - 2] && this.print_newline(!0, this.output))), e && (this.pos = l, this.line_char_count = d), i.join(\"\");\n          }, this.get_comment = function (e) {\n            var t = \"\",\n                n = \">\",\n                r = !1;\n            this.pos = e;\n            var i = this.input.charAt(this.pos);\n\n            for (this.pos++; this.pos <= this.input.length && ((t += i)[t.length - 1] != n[n.length - 1] || -1 == t.indexOf(n));) {\n              !r && t.length < 10 && (0 === t.indexOf(\"<![if\") ? (n = \"<![endif]>\", r = !0) : 0 === t.indexOf(\"<![cdata[\") ? (n = \"]]>\", r = !0) : 0 === t.indexOf(\"<![\") ? (n = \"]>\", r = !0) : 0 === t.indexOf(\"\\x3c!--\") ? (n = \"--\\x3e\", r = !0) : 0 === t.indexOf(\"{{!\") ? (n = \"}}\", r = !0) : 0 === t.indexOf(\"<?\") ? (n = \"?>\", r = !0) : 0 === t.indexOf(\"<%\") && (n = \"%>\", r = !0)), i = this.input.charAt(this.pos), this.pos++;\n            }\n\n            return t;\n          }, this.get_unformatted = function (e, t) {\n            if (t && -1 != t.toLowerCase().indexOf(e)) return \"\";\n            var n = \"\",\n                r = \"\",\n                i = 0,\n                a = !0;\n\n            do {\n              if (this.pos >= this.input.length) return r;\n\n              if (n = this.input.charAt(this.pos), this.pos++, this.Utils.in_array(n, this.Utils.whitespace)) {\n                if (!a) {\n                  this.line_char_count--;\n                  continue;\n                }\n\n                if (\"\\n\" == n || \"\\r\" == n) {\n                  r += \"\\n\", this.line_char_count = 0;\n                  continue;\n                }\n              }\n\n              r += n, this.line_char_count++, a = !0, E && \"{\" == n && r.length && \"{\" == r[r.length - 2] && (i = (r += this.get_unformatted(\"}}\")).length);\n            } while (-1 == r.toLowerCase().indexOf(e, i));\n\n            return r;\n          }, this.get_token = function () {\n            var e;\n\n            if (\"TK_TAG_SCRIPT\" == this.last_token || \"TK_TAG_STYLE\" == this.last_token) {\n              var t = this.last_token.substr(7);\n              return \"string\" != typeof (e = this.get_contents_to(t)) ? e : [e, \"TK_\" + t];\n            }\n\n            return \"CONTENT\" == this.current_mode ? \"string\" != typeof (e = this.get_content()) ? e : [e, \"TK_CONTENT\"] : \"TAG\" == this.current_mode ? \"string\" != typeof (e = this.get_tag()) ? e : [e, \"TK_TAG_\" + this.tag_type] : void 0;\n          }, this.get_full_indent = function (e) {\n            return (e = this.indent_level + e || 0) < 1 ? \"\" : new Array(e + 1).join(this.indent_string);\n          }, this.is_unformatted = function (e, t) {\n            if (!this.Utils.in_array(e, t)) return !1;\n            if (\"a\" != e.toLowerCase() || !this.Utils.in_array(\"a\", t)) return !0;\n            var n = (this.get_tag(!0) || \"\").match(/^\\s*<\\s*\\/?([a-z]*)\\s*[^>]*>\\s*$/);\n            return !(n && !this.Utils.in_array(n, t));\n          }, this.printer = function (e, t, n, r, i) {\n            this.input = e || \"\", this.output = [], this.indent_character = t, this.indent_string = \"\", this.indent_size = n, this.brace_style = i, this.indent_level = 0, this.wrap_line_length = r;\n\n            for (var a = this.line_char_count = 0; a < this.indent_size; a++) {\n              this.indent_string += this.indent_character;\n            }\n\n            this.print_newline = function (e, t) {\n              this.line_char_count = 0, t && t.length && (e || \"\\n\" != t[t.length - 1]) && (\"\\n\" != t[t.length - 1] && (t[t.length - 1] = o(t[t.length - 1])), t.push(\"\\n\"));\n            }, this.print_indentation = function (e) {\n              for (var t = 0; t < this.indent_level; t++) {\n                e.push(this.indent_string), this.line_char_count += this.indent_string.length;\n              }\n            }, this.print_token = function (e) {\n              this.is_whitespace(e) && !this.output.length || ((e || \"\" !== e) && this.output.length && \"\\n\" == this.output[this.output.length - 1] && (this.print_indentation(this.output), e = e.replace(/^\\s+/g, \"\")), this.print_token_raw(e));\n            }, this.print_token_raw = function (e) {\n              0 < this.newlines && (e = o(e)), e && \"\" !== e && (1 < e.length && \"\\n\" == e[e.length - 1] ? (this.output.push(e.slice(0, -1)), this.print_newline(!1, this.output)) : this.output.push(e));\n\n              for (var t = 0; t < this.newlines; t++) {\n                this.print_newline(0 < t, this.output);\n              }\n\n              this.newlines = 0;\n            }, this.indent = function () {\n              this.indent_level++;\n            }, this.unindent = function () {\n              0 < this.indent_level && this.indent_level--;\n            };\n          }, this;\n        }()).printer(e, m, i, a, s);;) {\n          var p = n.get_token();\n          if (n.token_text = p[0], n.token_type = p[1], \"TK_EOF\" == n.token_type) break;\n\n          switch (n.token_type) {\n            case \"TK_TAG_START\":\n              n.print_newline(!1, n.output), n.print_token(n.token_text), n.indent_content && (n.indent(), n.indent_content = !1), n.current_mode = \"CONTENT\";\n              break;\n\n            case \"TK_TAG_STYLE\":\n            case \"TK_TAG_SCRIPT\":\n              n.print_newline(!1, n.output), n.print_token(n.token_text), n.current_mode = \"CONTENT\";\n              break;\n\n            case \"TK_TAG_END\":\n              if (\"TK_CONTENT\" == n.last_token && \"\" === n.last_text) {\n                var u = n.token_text.match(/\\w+/)[0],\n                    h = null;\n                n.output.length && (h = n.output[n.output.length - 1].match(/(?:<|{{#)\\/?\\s*(\\w+)/)), (null == h || h[1] != u && !n.Utils.in_array(h[1], v)) && n.print_newline(!1, n.output);\n              }\n\n              n.print_token(n.token_text), n.current_mode = \"CONTENT\";\n              break;\n\n            case \"TK_TAG_SINGLE\":\n              var g = n.token_text.match(/^\\s*<([a-z-]+)/i);\n              g && n.Utils.in_array(g[1], v) || n.print_newline(!1, n.output), n.print_token(n.token_text), n.current_mode = \"CONTENT\";\n              break;\n\n            case \"TK_TAG_HANDLEBARS_ELSE\":\n              n.print_token(n.token_text), n.indent_content && (n.indent(), n.indent_content = !1), n.current_mode = \"CONTENT\";\n              break;\n\n            case \"TK_TAG_HANDLEBARS_COMMENT\":\n            case \"TK_CONTENT\":\n              n.print_token(n.token_text), n.current_mode = \"TAG\";\n              break;\n\n            case \"TK_STYLE\":\n            case \"TK_SCRIPT\":\n              if (\"\" !== n.token_text) {\n                n.print_newline(!1, n.output);\n                var A,\n                    C = n.token_text,\n                    S = 1;\n                \"TK_SCRIPT\" == n.token_type ? A = w : \"TK_STYLE\" == n.token_type && (A = x), \"keep\" == t.indent_scripts ? S = 0 : \"separate\" == t.indent_scripts && (S = -n.indent_level);\n                var R = n.get_full_indent(S);\n                if (A) C = A(C.replace(/^\\s*/, R), t);else {\n                  var y = C.match(/^\\s*/)[0].match(/[^\\n\\r]*$/)[0].split(n.indent_string).length - 1,\n                      _ = n.get_full_indent(S - y);\n\n                  C = C.replace(/^\\s*/, R).replace(/\\r\\n|\\r|\\n/g, \"\\n\" + _).replace(/\\s+$/, \"\");\n                }\n                C && (n.print_token_raw(C), n.print_newline(!0, n.output));\n              }\n\n              n.current_mode = \"TAG\";\n              break;\n\n            default:\n              \"\" !== n.token_text && n.print_token(n.token_text);\n          }\n\n          n.last_token = n.token_type, n.last_text = n.token_text;\n        }\n\n        var L = n.output.join(\"\").replace(/[\\r\\n\\t ]+$/, \"\");\n        return c && (L += \"\\n\"), L;\n      }\n    };\n  }, Ee.extend(Ee.FE.DEFAULTS, {\n    codeMirror: window.CodeMirror,\n    codeMirrorOptions: {\n      lineNumbers: !0,\n      tabMode: \"indent\",\n      indentWithTabs: !0,\n      lineWrapping: !0,\n      mode: \"text/html\",\n      tabSize: 2\n    },\n    codeBeautifierOptions: {\n      end_with_newline: !0,\n      indent_inner_html: !0,\n      extra_liners: [\"p\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"blockquote\", \"pre\", \"ul\", \"ol\", \"table\", \"dl\"],\n      brace_style: \"expand\",\n      indent_char: \"\\t\",\n      indent_size: 1,\n      wrap_line_length: 0\n    },\n    codeViewKeepActiveButtons: [\"fullscreen\"]\n  }), Ee.FE.PLUGINS.codeView = function (l) {\n    var d, c;\n\n    function f() {\n      return l.$box.hasClass(\"fr-code-view\");\n    }\n\n    function p() {\n      return c ? c.getValue() : d.val();\n    }\n\n    function u() {\n      f() && (c && c.setSize(null, l.opts.height ? l.opts.height : \"auto\"), l.opts.heightMin || l.opts.height ? l.$box.find(\".CodeMirror-scroll, .CodeMirror-gutters\").css(\"min-height\", l.opts.heightMin || l.opts.height) : l.$box.find(\".CodeMirror-scroll, .CodeMirror-gutters\").css(\"min-height\", \"\"));\n    }\n\n    var h,\n        g = !1;\n\n    function m() {\n      f() && l.events.trigger(\"blur\");\n    }\n\n    function v() {\n      f() && g && l.events.trigger(\"focus\");\n    }\n\n    function i(e) {\n      d || (!function () {\n        d = Ee('<textarea class=\"fr-code\" tabIndex=\"-1\">'), l.$wp.append(d), d.attr(\"dir\", l.opts.direction), l.$box.hasClass(\"fr-basic\") || (h = Ee('<a data-cmd=\"html\" title=\"Code View\" class=\"fr-command fr-btn html-switch' + (l.helpers.isMobile() ? \"\" : \" fr-desktop\") + '\" role=\"button\" tabIndex=\"-1\"><i class=\"fa fa-code\"></i></button>'), l.$box.append(h), l.events.bindClick(l.$box, \"a.html-switch\", function () {\n          l.events.trigger(\"commands.before\", [\"html\"]), E(!1), l.events.trigger(\"commands.after\", [\"html\"]);\n        }));\n\n        var e = function e() {\n          return !f();\n        };\n\n        l.events.on(\"buttons.refresh\", e), l.events.on(\"copy\", e, !0), l.events.on(\"cut\", e, !0), l.events.on(\"paste\", e, !0), l.events.on(\"destroy\", b, !0), l.events.on(\"html.set\", function () {\n          f() && E(!0);\n        }), l.events.on(\"codeView.update\", u), l.events.on(\"form.submit\", function () {\n          f() && (l.html.set(p()), l.events.trigger(\"contentChanged\", [], !0));\n        }, !0);\n      }(), !c && l.opts.codeMirror ? ((c = l.opts.codeMirror.fromTextArea(d.get(0), l.opts.codeMirrorOptions)).on(\"blur\", m), c.on(\"focus\", v)) : (l.events.$on(d, \"keydown keyup change input\", function () {\n        l.opts.height ? this.removeAttribute(\"rows\") : (this.rows = 1, 0 === this.value.length ? this.style.height = \"auto\" : this.style.height = this.scrollHeight + \"px\");\n      }), l.events.$on(d, \"blur\", m), l.events.$on(d, \"focus\", v))), l.undo.saveStep(), l.html.cleanEmptyTags(), l.html.cleanWhiteTags(!0), l.core.hasFocus() && (l.core.isEmpty() || (l.selection.save(), l.$el.find('.fr-marker[data-type=\"true\"]:first').replaceWith('<span class=\"fr-tmp fr-sm\">F</span>'), l.$el.find('.fr-marker[data-type=\"false\"]:last').replaceWith('<span class=\"fr-tmp fr-em\">F</span>')));\n      var t = l.html.get(!1, !0);\n      l.$el.find(\"span.fr-tmp\").remove(), l.$box.toggleClass(\"fr-code-view\", !0);\n      var n,\n          r,\n          i = !1;\n\n      if (l.core.hasFocus() && (i = !0, l.events.disableBlur(), l.$el.blur()), t = (t = t.replace(/<span class=\"fr-tmp fr-sm\">F<\\/span>/, \"FROALA-SM\")).replace(/<span class=\"fr-tmp fr-em\">F<\\/span>/, \"FROALA-EM\"), l.codeBeautifier && (t = l.codeBeautifier.run(t, l.opts.codeBeautifierOptions)), c) {\n        n = t.indexOf(\"FROALA-SM\"), (r = t.indexOf(\"FROALA-EM\")) < n ? n = r : r -= 9;\n        var a = (t = t.replace(/FROALA-SM/g, \"\").replace(/FROALA-EM/g, \"\")).substring(0, n).length - t.substring(0, n).replace(/\\n/g, \"\").length,\n            o = t.substring(0, r).length - t.substring(0, r).replace(/\\n/g, \"\").length;\n        n = t.substring(0, n).length - t.substring(0, t.substring(0, n).lastIndexOf(\"\\n\") + 1).length, r = t.substring(0, r).length - t.substring(0, t.substring(0, r).lastIndexOf(\"\\n\") + 1).length, c.setSize(null, l.opts.height ? l.opts.height : \"auto\"), l.opts.heightMin && l.$box.find(\".CodeMirror-scroll\").css(\"min-height\", l.opts.heightMin), c.setValue(t), g = !i, c.focus(), g = !0, c.setSelection({\n          line: a,\n          ch: n\n        }, {\n          line: o,\n          ch: r\n        }), c.refresh(), c.clearHistory();\n      } else {\n        n = t.indexOf(\"FROALA-SM\"), r = t.indexOf(\"FROALA-EM\") - 9, l.opts.heightMin && d.css(\"min-height\", l.opts.heightMin), l.opts.height && d.css(\"height\", l.opts.height), l.opts.heightMax && d.css(\"max-height\", l.opts.height || l.opts.heightMax), d.val(t.replace(/FROALA-SM/g, \"\").replace(/FROALA-EM/g, \"\")).trigger(\"change\");\n        var s = Ee(l.o_doc).scrollTop();\n        g = !i, d.focus(), g = !0, d.get(0).setSelectionRange(n, r), Ee(l.o_doc).scrollTop(s);\n      }\n\n      l.$tb.find(\" > .fr-command, > .fr-btn-wrap > .fr-command\").not(e).filter(function () {\n        return l.opts.codeViewKeepActiveButtons.indexOf(Ee(this).data(\"cmd\")) < 0;\n      }).addClass(\"fr-disabled\").attr(\"aria-disabled\", !0), e.addClass(\"fr-active\").attr(\"aria-pressed\", !0), !l.helpers.isMobile() && l.opts.toolbarInline && l.toolbar.hide();\n    }\n\n    function E(e) {\n      void 0 === e && (e = !f());\n      var t,\n          n,\n          r = l.$tb.find('.fr-command[data-cmd=\"html\"]');\n      e ? (l.popups.hideAll(), i(r)) : (l.$box.toggleClass(\"fr-code-view\", !1), t = r, n = p(), l.html.set(n), l.$el.blur(), l.$tb.find(\" > .fr-command, > .fr-btn-wrap > .fr-command\").not(t).removeClass(\"fr-disabled\").attr(\"aria-disabled\", !1), t.removeClass(\"fr-active\").attr(\"aria-pressed\", !1), l.selection.setAtStart(l.el), l.selection.restore(), l.placeholder.refresh(), l.undo.saveStep());\n    }\n\n    function b() {\n      f() && E(!1), c && c.toTextArea(), d.val(\"\").removeData().remove(), d = null, h && (h.remove(), h = null);\n    }\n\n    return {\n      _init: function _init() {\n        if (l.events.on(\"focus\", function () {\n          var e;\n          l.opts.toolbarContainer && (e = l.$tb.find('.fr-command[data-cmd=\"html\"]'), f() ? (l.$tb.find(\" > .fr-command\").not(e).filter(function () {\n            return l.opts.codeViewKeepActiveButtons.indexOf(Ee(this).data(\"cmd\")) < 0;\n          }).addClass(\"fr-disabled\").attr(\"aria-disabled\", !1), e.addClass(\"fr-active\").attr(\"aria-pressed\", !1)) : (l.$tb.find(\" > .fr-command\").not(e).removeClass(\"fr-disabled\").attr(\"aria-disabled\", !1), e.removeClass(\"fr-active\").attr(\"aria-pressed\", !1)));\n        }), !l.$wp) return !1;\n      },\n      toggle: E,\n      isActive: f,\n      get: p\n    };\n  }, Ee.FE.RegisterCommand(\"html\", {\n    title: \"Code View\",\n    undo: !1,\n    focus: !1,\n    forcedRefresh: !0,\n    toggle: !0,\n    callback: function callback() {\n      this.codeView.toggle();\n    },\n    plugin: \"codeView\"\n  }), Ee.FE.DefineIcon(\"html\", {\n    NAME: \"code\"\n  }), Ee.extend(Ee.FE.POPUP_TEMPLATES, {\n    \"colors.picker\": \"[_BUTTONS_][_TEXT_COLORS_][_BACKGROUND_COLORS_][_CUSTOM_COLOR_]\"\n  }), Ee.extend(Ee.FE.DEFAULTS, {\n    colorsText: [\"#61BD6D\", \"#1ABC9C\", \"#54ACD2\", \"#2C82C9\", \"#9365B8\", \"#475577\", \"#CCCCCC\", \"#41A85F\", \"#00A885\", \"#3D8EB9\", \"#2969B0\", \"#553982\", \"#28324E\", \"#000000\", \"#F7DA64\", \"#FBA026\", \"#EB6B56\", \"#E25041\", \"#A38F84\", \"#EFEFEF\", \"#FFFFFF\", \"#FAC51C\", \"#F37934\", \"#D14841\", \"#B8312F\", \"#7C706B\", \"#D1D5D8\", \"REMOVE\"],\n    colorsBackground: [\"#61BD6D\", \"#1ABC9C\", \"#54ACD2\", \"#2C82C9\", \"#9365B8\", \"#475577\", \"#CCCCCC\", \"#41A85F\", \"#00A885\", \"#3D8EB9\", \"#2969B0\", \"#553982\", \"#28324E\", \"#000000\", \"#F7DA64\", \"#FBA026\", \"#EB6B56\", \"#E25041\", \"#A38F84\", \"#EFEFEF\", \"#FFFFFF\", \"#FAC51C\", \"#F37934\", \"#D14841\", \"#B8312F\", \"#7C706B\", \"#D1D5D8\", \"REMOVE\"],\n    colorsStep: 7,\n    colorsHEXInput: !0,\n    colorsDefaultTab: \"text\",\n    colorsButtons: [\"colorsBack\", \"|\", \"-\"]\n  });\n  var l = [\"text\", \"background\"];\n  if (Ee.FE.PLUGINS.colors = function (g) {\n    function t() {\n      g.popups.hide(\"colors.picker\");\n    }\n\n    function a(e) {\n      for (var t = \"text\" == e ? g.opts.colorsText : g.opts.colorsBackground, n = '<div class=\"fr-color-set fr-' + e + \"-color\" + (g.opts.colorsDefaultTab == e || \"text\" != g.opts.colorsDefaultTab && \"background\" != g.opts.colorsDefaultTab && \"text\" == e ? \" fr-selected-set\" : \"\") + '\">', r = 0; r < t.length; r++) {\n        0 !== r && r % g.opts.colorsStep == 0 && (n += \"<br>\"), \"REMOVE\" != t[r] ? n += '<span class=\"fr-command fr-select-color\" style=\"background: ' + t[r] + ';\" tabIndex=\"-1\" aria-selected=\"false\" role=\"button\" data-cmd=\"' + e + 'Color\" data-param1=\"' + t[r] + '\"><span class=\"fr-sr-only\">' + g.language.translate(\"Color\") + \" \" + t[r] + \"&nbsp;&nbsp;&nbsp;</span></span>\" : n += '<span class=\"fr-command fr-select-color\" data-cmd=\"' + e + 'Color\" tabIndex=\"-1\" role=\"button\" data-param1=\"REMOVE\" title=\"' + g.language.translate(\"Clear Formatting\") + '\">' + g.icon.create(\"remove\") + '<span class=\"fr-sr-only\">' + g.language.translate(\"Clear Formatting\") + \"</span></span>\";\n      }\n\n      return n + \"</div>\";\n    }\n\n    function o(e) {\n      var t = g.popups.get(\"colors.picker\"),\n          n = t.find(\".fr-\" + e + \"-color .fr-active-item\").attr(\"data-param1\"),\n          r = t.find(\".fr-color-hex-layer input\"),\n          i = t.find('.fr-colors-tab[data-param1=\"' + e + '\"]');\n      r.length && i.hasClass(\"fr-selected-tab\") && r.val(n).trigger(\"change\");\n    }\n\n    function r(e) {\n      \"REMOVE\" != e ? g.format.applyStyle(\"background-color\", g.helpers.HEXtoRGB(e)) : g.format.removeStyle(\"background-color\"), t();\n    }\n\n    function i(e) {\n      \"REMOVE\" != e ? g.format.applyStyle(\"color\", g.helpers.HEXtoRGB(e)) : g.format.removeStyle(\"color\"), t();\n    }\n\n    return {\n      showColorsPopup: function showColorsPopup() {\n        var e = g.$tb.find('.fr-command[data-cmd=\"color\"]'),\n            t = g.popups.get(\"colors.picker\");\n        if (t || (t = function () {\n          var e,\n              t = '<div class=\"fr-buttons fr-colors-buttons\">';\n          g.opts.toolbarInline && 0 < g.opts.colorsButtons.length && (t += g.button.buildList(g.opts.colorsButtons)), t += (e = '<div class=\"fr-colors-tabs fr-group\">', e += '<span class=\"fr-colors-tab ' + (\"background\" == g.opts.colorsDefaultTab ? \"\" : \"fr-selected-tab \") + 'fr-command\" tabIndex=\"-1\" role=\"button\" aria-pressed=\"' + (\"background\" != g.opts.colorsDefaultTab) + '\" data-param1=\"text\" data-cmd=\"colorChangeSet\" title=\"' + g.language.translate(\"Text\") + '\">' + g.language.translate(\"Text\") + \"</span>\", (e += '<span class=\"fr-colors-tab ' + (\"background\" == g.opts.colorsDefaultTab ? \"fr-selected-tab\" : \"\") + 'fr-command\" tabIndex=\"-1\" role=\"button\" aria-pressed=\"' + (\"background\" == g.opts.colorsDefaultTab) + '\" data-param1=\"background\" data-cmd=\"colorChangeSet\" title=\"' + g.language.translate(\"Background\") + '\">' + g.language.translate(\"Background\") + \"</span>\") + \"</div></div>\");\n          var n = \"\";\n          g.opts.colorsHEXInput && (n = '<div class=\"fr-color-hex-layer fr-active fr-layer\" id=\"fr-color-hex-layer-' + g.id + '\"><div class=\"fr-input-line\"><input maxlength=\"7\" id=\"fr-color-hex-layer-text-' + g.id + '\" type=\"text\" placeholder=\"' + g.language.translate(\"HEX Color\") + '\" tabIndex=\"1\" aria-required=\"true\"></div><div class=\"fr-action-buttons\"><button type=\"button\" class=\"fr-command fr-submit\" data-cmd=\"customColor\" tabIndex=\"2\" role=\"button\">' + g.language.translate(\"OK\") + \"</button></div></div>\");\n          var h,\n              r = {\n            buttons: t,\n            text_colors: a(\"text\"),\n            background_colors: a(\"background\"),\n            custom_color: n\n          },\n              i = g.popups.create(\"colors.picker\", r);\n          return h = i, g.events.on(\"popup.tab\", function (e) {\n            var t = Ee(e.currentTarget);\n            if (!g.popups.isVisible(\"colors.picker\") || !t.is(\"span\")) return !0;\n            var n = e.which,\n                r = !0;\n\n            if (Ee.FE.KEYCODE.TAB == n) {\n              var i = h.find(\".fr-buttons\");\n              r = !g.accessibility.focusToolbar(i, !!e.shiftKey);\n            } else if (Ee.FE.KEYCODE.ARROW_UP == n || Ee.FE.KEYCODE.ARROW_DOWN == n || Ee.FE.KEYCODE.ARROW_LEFT == n || Ee.FE.KEYCODE.ARROW_RIGHT == n) {\n              if (t.is(\"span.fr-select-color\")) {\n                var a = t.parent().find(\"span.fr-select-color\"),\n                    o = a.index(t),\n                    s = g.opts.colorsStep,\n                    l = Math.floor(a.length / s),\n                    d = o % s,\n                    c = Math.floor(o / s),\n                    f = c * s + d,\n                    p = l * s;\n                Ee.FE.KEYCODE.ARROW_UP == n ? f = ((f - s) % p + p) % p : Ee.FE.KEYCODE.ARROW_DOWN == n ? f = (f + s) % p : Ee.FE.KEYCODE.ARROW_LEFT == n ? f = ((f - 1) % p + p) % p : Ee.FE.KEYCODE.ARROW_RIGHT == n && (f = (f + 1) % p);\n                var u = Ee(a.get(f));\n                g.events.disableBlur(), u.focus(), r = !1;\n              }\n            } else Ee.FE.KEYCODE.ENTER == n && (g.button.exec(t), r = !1);\n\n            return !1 === r && (e.preventDefault(), e.stopPropagation()), r;\n          }, !0), i;\n        }()), !t.hasClass(\"fr-active\")) if (g.popups.setContainer(\"colors.picker\", g.$tb), l.map(function (e) {\n          !function (e) {\n            var t,\n                n = g.popups.get(\"colors.picker\"),\n                r = Ee(g.selection.element());\n            t = \"background\" == e ? \"background-color\" : \"color\";\n            var i = n.find(\".fr-\" + e + \"-color .fr-select-color\");\n\n            for (i.find(\".fr-selected-color\").remove(), i.removeClass(\"fr-active-item\"), i.not('[data-param1=\"REMOVE\"]').attr(\"aria-selected\", !1); r.get(0) != g.el;) {\n              if (\"transparent\" != r.css(t) && \"rgba(0, 0, 0, 0)\" != r.css(t)) {\n                var a = n.find(\".fr-\" + e + '-color .fr-select-color[data-param1=\"' + g.helpers.RGBToHex(r.css(t)) + '\"]');\n                a.append(\"<span class=\\\"fr-selected-color\\\" aria-hidden=\\\"true\\\">\\uF00C</span>\"), a.addClass(\"fr-active-item\").attr(\"aria-selected\", !0);\n                break;\n              }\n\n              r = r.parent();\n            }\n\n            o(e);\n          }(e);\n        }), e.is(\":visible\")) {\n          var n = e.offset().left + e.outerWidth() / 2,\n              r = e.offset().top + (g.opts.toolbarBottom ? 10 : e.outerHeight() - 10);\n          g.popups.show(\"colors.picker\", n, r, e.outerHeight());\n        } else g.position.forSelection(t), g.popups.show(\"colors.picker\");\n      },\n      hideColorsPopup: t,\n      changeSet: function changeSet(e, t) {\n        e.hasClass(\"fr-selected-tab\") || (e.siblings().removeClass(\"fr-selected-tab\").attr(\"aria-pressed\", !1), e.addClass(\"fr-selected-tab\").attr(\"aria-pressed\", !0), e.parents(\".fr-popup\").find(\".fr-color-set\").removeClass(\"fr-selected-set\"), e.parents(\".fr-popup\").find(\".fr-color-set.fr-\" + t + \"-color\").addClass(\"fr-selected-set\"), o(t)), g.accessibility.focusPopup(e.parents(\".fr-popup\"));\n      },\n      background: r,\n      customColor: function customColor() {\n        var e = g.popups.get(\"colors.picker\"),\n            t = e.find(\".fr-color-hex-layer input\");\n\n        if (t.length) {\n          var n = t.val();\n          \"background\" == e.find(\".fr-selected-tab\").attr(\"data-param1\") ? r(n) : i(n);\n        }\n      },\n      text: i,\n      back: function back() {\n        g.popups.hide(\"colors.picker\"), g.toolbar.showInline();\n      }\n    };\n  }, Ee.FE.DefineIcon(\"colors\", {\n    NAME: \"tint\"\n  }), Ee.FE.RegisterCommand(\"color\", {\n    title: \"Colors\",\n    undo: !1,\n    focus: !0,\n    refreshOnCallback: !1,\n    popup: !0,\n    callback: function callback() {\n      this.popups.isVisible(\"colors.picker\") ? (this.$el.find(\".fr-marker\").length && (this.events.disableBlur(), this.selection.restore()), this.popups.hide(\"colors.picker\")) : this.colors.showColorsPopup();\n    },\n    plugin: \"colors\"\n  }), Ee.FE.RegisterCommand(\"textColor\", {\n    undo: !0,\n    callback: function callback(e, t) {\n      this.colors.text(t);\n    }\n  }), Ee.FE.RegisterCommand(\"backgroundColor\", {\n    undo: !0,\n    callback: function callback(e, t) {\n      this.colors.background(t);\n    }\n  }), Ee.FE.RegisterCommand(\"colorChangeSet\", {\n    undo: !1,\n    focus: !1,\n    callback: function callback(e, t) {\n      var n = this.popups.get(\"colors.picker\").find('.fr-command[data-cmd=\"' + e + '\"][data-param1=\"' + t + '\"]');\n      this.colors.changeSet(n, t);\n    }\n  }), Ee.FE.DefineIcon(\"colorsBack\", {\n    NAME: \"arrow-left\"\n  }), Ee.FE.RegisterCommand(\"colorsBack\", {\n    title: \"Back\",\n    undo: !1,\n    focus: !1,\n    back: !0,\n    refreshAfterCallback: !1,\n    callback: function callback() {\n      this.colors.back();\n    }\n  }), Ee.FE.RegisterCommand(\"customColor\", {\n    title: \"OK\",\n    undo: !0,\n    callback: function callback() {\n      this.colors.customColor();\n    }\n  }), Ee.FE.DefineIcon(\"remove\", {\n    NAME: \"eraser\"\n  }), Ee.extend(Ee.FE.DEFAULTS, {\n    dragInline: !0\n  }), Ee.FE.PLUGINS.draggable = function (d) {\n    function e(e) {\n      return !(!e.originalEvent || !e.originalEvent.target || e.originalEvent.target.nodeType != Node.TEXT_NODE) || (e.target && \"A\" == e.target.tagName && 1 == e.target.childNodes.length && \"IMG\" == e.target.childNodes[0].tagName && (e.target = e.target.childNodes[0]), Ee(e.target).hasClass(\"fr-draggable\") ? (d.undo.canDo() || d.undo.saveStep(), d.opts.dragInline ? d.$el.attr(\"contenteditable\", !0) : d.$el.attr(\"contenteditable\", !1), d.opts.toolbarInline && d.toolbar.hide(), Ee(e.target).addClass(\"fr-dragging\"), d.browser.msie || d.browser.edge || d.selection.clear(), void e.originalEvent.dataTransfer.setData(\"text\", \"Froala\")) : (d.browser.msie || e.preventDefault(), !1));\n    }\n\n    function c(e) {\n      return !(e && (\"HTML\" == e.tagName || \"BODY\" == e.tagName || d.node.isElement(e)));\n    }\n\n    function f(e, t, n) {\n      d.opts.iframe && (e += d.$iframe.offset().top, t += d.$iframe.offset().left), p.offset().top != e && p.css(\"top\", e), p.offset().left != t && p.css(\"left\", t), p.width() != n && p.css(\"width\", n);\n    }\n\n    function t(e) {\n      e.originalEvent.dataTransfer.dropEffect = \"move\", d.opts.dragInline ? function () {\n        for (var e = null, t = 0; t < Ee.FE.INSTANCES.length; t++) {\n          if ((e = Ee.FE.INSTANCES[t].$el.find(\".fr-dragging\")).length) return e.get(0);\n        }\n      }() || !d.browser.msie && !d.browser.edge || e.preventDefault() : (e.preventDefault(), function (e) {\n        var t = d.doc.elementFromPoint(e.originalEvent.pageX - d.win.pageXOffset, e.originalEvent.pageY - d.win.pageYOffset);\n\n        if (!c(t)) {\n          for (var n = 0, r = t; !c(r) && r == t && 0 < e.originalEvent.pageY - d.win.pageYOffset - n;) {\n            n++, r = d.doc.elementFromPoint(e.originalEvent.pageX - d.win.pageXOffset, e.originalEvent.pageY - d.win.pageYOffset - n);\n          }\n\n          (!c(r) || p && 0 === d.$el.find(r).length && r != p.get(0)) && (r = null);\n\n          for (var i = 0, a = t; !c(a) && a == t && e.originalEvent.pageY - d.win.pageYOffset + i < Ee(d.doc).height();) {\n            i++, a = d.doc.elementFromPoint(e.originalEvent.pageX - d.win.pageXOffset, e.originalEvent.pageY - d.win.pageYOffset + i);\n          }\n\n          (!c(a) || p && 0 === d.$el.find(a).length && a != p.get(0)) && (a = null), t = null == a && r ? r : a && null == r ? a : a && r ? n < i ? r : a : null;\n        }\n\n        if (Ee(t).hasClass(\"fr-drag-helper\")) return;\n\n        if (t && !d.node.isBlock(t) && (t = d.node.blockParent(t)), t && 0 <= [\"TD\", \"TH\", \"TR\", \"THEAD\", \"TBODY\"].indexOf(t.tagName) && (t = Ee(t).parents(\"table\").get(0)), t && 0 <= [\"LI\"].indexOf(t.tagName) && (t = Ee(t).parents(\"UL, OL\").get(0)), t && !Ee(t).hasClass(\"fr-drag-helper\")) {\n          var o;\n          p || (Ee.FE.$draggable_helper || (Ee.FE.$draggable_helper = Ee('<div class=\"fr-drag-helper\"></div>')), p = Ee.FE.$draggable_helper, d.events.on(\"shared.destroy\", function () {\n            p.html(\"\").removeData().remove(), p = null;\n          }, !0)), o = e.originalEvent.pageY < Ee(t).offset().top + Ee(t).outerHeight() / 2;\n          var s = Ee(t),\n              l = 0;\n          o || 0 !== s.next().length ? (o || (s = s.next()), \"before\" == p.data(\"fr-position\") && s.is(p.data(\"fr-tag\")) || (0 < s.prev().length && (l = parseFloat(s.prev().css(\"margin-bottom\")) || 0), l = Math.max(l, parseFloat(s.css(\"margin-top\")) || 0), f(s.offset().top - l / 2 - d.$box.offset().top, s.offset().left - d.win.pageXOffset - d.$box.offset().left, s.width()), p.data(\"fr-position\", \"before\"))) : \"after\" == p.data(\"fr-position\") && s.is(p.data(\"fr-tag\")) || (l = parseFloat(s.css(\"margin-bottom\")) || 0, f(s.offset().top + Ee(t).height() + l / 2 - d.$box.offset().top, s.offset().left - d.win.pageXOffset - d.$box.offset().left, s.width()), p.data(\"fr-position\", \"after\")), p.data(\"fr-tag\", s), p.addClass(\"fr-visible\"), p.appendTo(d.$box);\n        } else p && 0 < d.$box.find(p).length && p.removeClass(\"fr-visible\");\n      }(e));\n    }\n\n    function n(e) {\n      e.originalEvent.dataTransfer.dropEffect = \"move\", d.opts.dragInline || e.preventDefault();\n    }\n\n    function r(e) {\n      d.$el.attr(\"contenteditable\", !0);\n      var t = d.$el.find(\".fr-dragging\");\n      p && p.hasClass(\"fr-visible\") && d.$box.find(p).length ? i(e) : t.length && (e.preventDefault(), e.stopPropagation()), p && d.$box.find(p).length && p.removeClass(\"fr-visible\"), t.removeClass(\"fr-dragging\");\n    }\n\n    function i(e) {\n      var t, n;\n      \"true\" !== d.$el.attr(\"contenteditable\") && d.$el.attr(\"contenteditable\", !0);\n\n      for (var r = 0; r < Ee.FE.INSTANCES.length; r++) {\n        if ((t = Ee.FE.INSTANCES[r].$el.find(\".fr-dragging\")).length) {\n          n = Ee.FE.INSTANCES[r];\n          break;\n        }\n      }\n\n      if (t.length) {\n        if (e.preventDefault(), e.stopPropagation(), p && p.hasClass(\"fr-visible\") && d.$box.find(p).length) p.data(\"fr-tag\")[p.data(\"fr-position\")]('<span class=\"fr-marker\"></span>'), p.removeClass(\"fr-visible\");else if (!1 === d.markers.insertAtPoint(e.originalEvent)) return !1;\n        if (t.removeClass(\"fr-dragging\"), !1 === (t = d.events.chainTrigger(\"element.beforeDrop\", t))) return !1;\n        var i = t;\n        if (t.parent().is(\"A\") && 1 == t.parent().get(0).childNodes.length && (i = t.parent()), d.core.isEmpty()) d.events.focus();else d.$el.find(\".fr-marker\").replaceWith(Ee.FE.MARKERS), d.selection.restore();\n        if (n == d || d.undo.canDo() || d.undo.saveStep(), d.core.isEmpty()) d.$el.html(i);else {\n          var a = d.markers.insert();\n          0 === i.find(a).length ? Ee(a).replaceWith(i) : 0 === t.find(a).length && Ee(a).replaceWith(t), t.after(Ee.FE.MARKERS), d.selection.restore();\n        }\n        return d.popups.hideAll(), d.selection.save(), d.$el.find(d.html.emptyBlockTagsQuery()).not(\"TD, TH, LI, .fr-inner\").not(d.opts.htmlAllowedEmptyTags.join(\",\")).remove(), d.html.wrap(), d.html.fillEmptyBlocks(), d.selection.restore(), d.undo.saveStep(), d.opts.iframe && d.size.syncIframe(), n != d && (n.popups.hideAll(), n.$el.find(n.html.emptyBlockTagsQuery()).not(\"TD, TH, LI, .fr-inner\").remove(), n.html.wrap(), n.html.fillEmptyBlocks(), n.undo.saveStep(), n.events.trigger(\"element.dropped\"), n.opts.iframe && n.size.syncIframe()), d.events.trigger(\"element.dropped\", [i]), !1;\n      }\n\n      p && p.removeClass(\"fr-visible\"), d.undo.canDo() || d.undo.saveStep(), setTimeout(function () {\n        d.undo.saveStep();\n      }, 0);\n    }\n\n    function a(e) {\n      if (e && \"DIV\" == e.tagName && d.node.hasClass(e, \"fr-drag-helper\")) e.parentNode.removeChild(e);else if (e && e.nodeType == Node.ELEMENT_NODE) for (var t = e.querySelectorAll(\"div.fr-drag-helper\"), n = 0; n < t.length; n++) {\n        t[n].parentNode.removeChild(t[n]);\n      }\n    }\n\n    var p;\n    return {\n      _init: function _init() {\n        d.opts.enter == Ee.FE.ENTER_BR && (d.opts.dragInline = !0), d.events.on(\"dragstart\", e, !0), d.events.on(\"dragover\", t, !0), d.events.on(\"dragenter\", n, !0), d.events.on(\"document.dragend\", r, !0), d.events.on(\"document.drop\", r, !0), d.events.on(\"drop\", i, !0), d.events.on(\"html.processGet\", a);\n      }\n    };\n  }, Ee.extend(Ee.FE.POPUP_TEMPLATES, {\n    emoticons: \"[_BUTTONS_][_EMOTICONS_]\"\n  }), Ee.extend(Ee.FE.DEFAULTS, {\n    emoticonsStep: 8,\n    emoticonsSet: [{\n      code: \"1f600\",\n      desc: \"Grinning face\"\n    }, {\n      code: \"1f601\",\n      desc: \"Grinning face with smiling eyes\"\n    }, {\n      code: \"1f602\",\n      desc: \"Face with tears of joy\"\n    }, {\n      code: \"1f603\",\n      desc: \"Smiling face with open mouth\"\n    }, {\n      code: \"1f604\",\n      desc: \"Smiling face with open mouth and smiling eyes\"\n    }, {\n      code: \"1f605\",\n      desc: \"Smiling face with open mouth and cold sweat\"\n    }, {\n      code: \"1f606\",\n      desc: \"Smiling face with open mouth and tightly-closed eyes\"\n    }, {\n      code: \"1f607\",\n      desc: \"Smiling face with halo\"\n    }, {\n      code: \"1f608\",\n      desc: \"Smiling face with horns\"\n    }, {\n      code: \"1f609\",\n      desc: \"Winking face\"\n    }, {\n      code: \"1f60a\",\n      desc: \"Smiling face with smiling eyes\"\n    }, {\n      code: \"1f60b\",\n      desc: \"Face savoring delicious food\"\n    }, {\n      code: \"1f60c\",\n      desc: \"Relieved face\"\n    }, {\n      code: \"1f60d\",\n      desc: \"Smiling face with heart-shaped eyes\"\n    }, {\n      code: \"1f60e\",\n      desc: \"Smiling face with sunglasses\"\n    }, {\n      code: \"1f60f\",\n      desc: \"Smirking face\"\n    }, {\n      code: \"1f610\",\n      desc: \"Neutral face\"\n    }, {\n      code: \"1f611\",\n      desc: \"Expressionless face\"\n    }, {\n      code: \"1f612\",\n      desc: \"Unamused face\"\n    }, {\n      code: \"1f613\",\n      desc: \"Face with cold sweat\"\n    }, {\n      code: \"1f614\",\n      desc: \"Pensive face\"\n    }, {\n      code: \"1f615\",\n      desc: \"Confused face\"\n    }, {\n      code: \"1f616\",\n      desc: \"Confounded face\"\n    }, {\n      code: \"1f617\",\n      desc: \"Kissing face\"\n    }, {\n      code: \"1f618\",\n      desc: \"Face throwing a kiss\"\n    }, {\n      code: \"1f619\",\n      desc: \"Kissing face with smiling eyes\"\n    }, {\n      code: \"1f61a\",\n      desc: \"Kissing face with closed eyes\"\n    }, {\n      code: \"1f61b\",\n      desc: \"Face with stuck out tongue\"\n    }, {\n      code: \"1f61c\",\n      desc: \"Face with stuck out tongue and winking eye\"\n    }, {\n      code: \"1f61d\",\n      desc: \"Face with stuck out tongue and tightly-closed eyes\"\n    }, {\n      code: \"1f61e\",\n      desc: \"Disappointed face\"\n    }, {\n      code: \"1f61f\",\n      desc: \"Worried face\"\n    }, {\n      code: \"1f620\",\n      desc: \"Angry face\"\n    }, {\n      code: \"1f621\",\n      desc: \"Pouting face\"\n    }, {\n      code: \"1f622\",\n      desc: \"Crying face\"\n    }, {\n      code: \"1f623\",\n      desc: \"Persevering face\"\n    }, {\n      code: \"1f624\",\n      desc: \"Face with look of triumph\"\n    }, {\n      code: \"1f625\",\n      desc: \"Disappointed but relieved face\"\n    }, {\n      code: \"1f626\",\n      desc: \"Frowning face with open mouth\"\n    }, {\n      code: \"1f627\",\n      desc: \"Anguished face\"\n    }, {\n      code: \"1f628\",\n      desc: \"Fearful face\"\n    }, {\n      code: \"1f629\",\n      desc: \"Weary face\"\n    }, {\n      code: \"1f62a\",\n      desc: \"Sleepy face\"\n    }, {\n      code: \"1f62b\",\n      desc: \"Tired face\"\n    }, {\n      code: \"1f62c\",\n      desc: \"Grimacing face\"\n    }, {\n      code: \"1f62d\",\n      desc: \"Loudly crying face\"\n    }, {\n      code: \"1f62e\",\n      desc: \"Face with open mouth\"\n    }, {\n      code: \"1f62f\",\n      desc: \"Hushed face\"\n    }, {\n      code: \"1f630\",\n      desc: \"Face with open mouth and cold sweat\"\n    }, {\n      code: \"1f631\",\n      desc: \"Face screaming in fear\"\n    }, {\n      code: \"1f632\",\n      desc: \"Astonished face\"\n    }, {\n      code: \"1f633\",\n      desc: \"Flushed face\"\n    }, {\n      code: \"1f634\",\n      desc: \"Sleeping face\"\n    }, {\n      code: \"1f635\",\n      desc: \"Dizzy face\"\n    }, {\n      code: \"1f636\",\n      desc: \"Face without mouth\"\n    }, {\n      code: \"1f637\",\n      desc: \"Face with medical mask\"\n    }],\n    emoticonsButtons: [\"emoticonsBack\", \"|\"],\n    emoticonsUseImage: !0\n  }), Ee.FE.PLUGINS.emoticons = function (m) {\n    function i() {\n      if (!m.selection.isCollapsed()) return !1;\n      var e = m.selection.element(),\n          t = m.selection.endElement();\n      if (e && m.node.hasClass(e, \"fr-emoticon\")) return e;\n      if (t && m.node.hasClass(t, \"fr-emoticon\")) return t;\n      var n = m.selection.ranges(0),\n          r = n.startContainer;\n\n      if (r.nodeType == Node.ELEMENT_NODE && 0 < r.childNodes.length && 0 < n.startOffset) {\n        var i = r.childNodes[n.startOffset - 1];\n        if (m.node.hasClass(i, \"fr-emoticon\")) return i;\n      }\n\n      return !1;\n    }\n\n    return {\n      _init: function _init() {\n        var e = function e() {\n          for (var e = m.el.querySelectorAll(\".fr-emoticon:not(.fr-deletable)\"), t = 0; t < e.length; t++) {\n            e[t].className += \" fr-deletable\";\n          }\n        };\n\n        e(), m.events.on(\"html.set\", e), m.events.on(\"keydown\", function (e) {\n          if (m.keys.isCharacter(e.which) && m.selection.inEditor()) {\n            var t = m.selection.ranges(0),\n                n = i();\n            m.node.hasClass(n, \"fr-emoticon-img\") && n && (0 === t.startOffset && m.selection.element() === n ? Ee(n).before(Ee.FE.MARKERS + Ee.FE.INVISIBLE_SPACE) : Ee(n).after(Ee.FE.INVISIBLE_SPACE + Ee.FE.MARKERS), m.selection.restore());\n          }\n        }), m.events.on(\"keyup\", function (e) {\n          for (var t = m.el.querySelectorAll(\".fr-emoticon\"), n = 0; n < t.length; n++) {\n            \"undefined\" != typeof t[n].textContent && 0 === t[n].textContent.replace(/\\u200B/gi, \"\").length && Ee(t[n]).remove();\n          }\n\n          if (!(e.which >= Ee.FE.KEYCODE.ARROW_LEFT && e.which <= Ee.FE.KEYCODE.ARROW_DOWN)) {\n            var r = i();\n            m.node.hasClass(r, \"fr-emoticon-img\") && (Ee(r).append(Ee.FE.MARKERS), m.selection.restore());\n          }\n        });\n      },\n      insert: function insert(e, t) {\n        var n = i(),\n            r = m.selection.ranges(0);\n        n ? (0 === r.startOffset && m.selection.element() === n ? Ee(n).before(Ee.FE.MARKERS + Ee.FE.INVISIBLE_SPACE) : 0 < r.startOffset && m.selection.element() === n && r.commonAncestorContainer.parentNode.classList.contains(\"fr-emoticon\") && Ee(n).after(Ee.FE.INVISIBLE_SPACE + Ee.FE.MARKERS), m.selection.restore(), m.html.insert('<span class=\"fr-emoticon fr-deletable' + (t ? \" fr-emoticon-img\" : \"\") + '\"' + (t ? ' style=\"background: url(' + t + ');\"' : \"\") + \">\" + (t ? \"&nbsp;\" : e) + \"</span>&nbsp;\" + Ee.FE.MARKERS, !0)) : m.html.insert('<span class=\"fr-emoticon fr-deletable' + (t ? \" fr-emoticon-img\" : \"\") + '\"' + (t ? ' style=\"background: url(' + t + ');\"' : \"\") + \">\" + (t ? \"&nbsp;\" : e) + \"</span>&nbsp;\", !0);\n      },\n      showEmoticonsPopup: function showEmoticonsPopup() {\n        var e = m.$tb.find('.fr-command[data-cmd=\"emoticons\"]'),\n            t = m.popups.get(\"emoticons\");\n\n        if (t || (t = function () {\n          var e = \"\";\n          m.opts.toolbarInline && 0 < m.opts.emoticonsButtons.length && (e = '<div class=\"fr-buttons fr-emoticons-buttons\">' + m.button.buildList(m.opts.emoticonsButtons) + \"</div>\");\n          var g,\n              t = {\n            buttons: e,\n            emoticons: function () {\n              for (var e = '<div style=\"text-align: center\">', t = 0; t < m.opts.emoticonsSet.length; t++) {\n                0 !== t && t % m.opts.emoticonsStep == 0 && (e += \"<br>\"), e += '<span class=\"fr-command fr-emoticon\" tabIndex=\"-1\" data-cmd=\"insertEmoticon\" title=\"' + m.language.translate(m.opts.emoticonsSet[t].desc) + '\" role=\"button\" data-param1=\"' + m.opts.emoticonsSet[t].code + '\">' + (m.opts.emoticonsUseImage ? '<img src=\"https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/' + m.opts.emoticonsSet[t].code + '.svg\"/>' : \"&#x\" + m.opts.emoticonsSet[t].code + \";\") + '<span class=\"fr-sr-only\">' + m.language.translate(m.opts.emoticonsSet[t].desc) + \"&nbsp;&nbsp;&nbsp;</span></span>\";\n              }\n\n              return m.opts.emoticonsUseImage && (e += '<p style=\"font-size: 12px; text-align: center; padding: 0 5px;\">Emoji free by <a class=\"fr-link\" tabIndex=\"-1\" href=\"http://emojione.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\" role=\"link\" aria-label=\"Open Emoji One website.\">Emoji One</a></p>'), e += \"</div>\";\n            }()\n          },\n              n = m.popups.create(\"emoticons\", t);\n          return m.tooltip.bind(n, \".fr-emoticon\"), g = n, m.events.on(\"popup.tab\", function (e) {\n            var t = Ee(e.currentTarget);\n            if (!m.popups.isVisible(\"emoticons\") || !t.is(\"span, a\")) return !0;\n            var n,\n                r,\n                i,\n                a = e.which;\n\n            if (Ee.FE.KEYCODE.TAB == a) {\n              if (t.is(\"span.fr-emoticon\") && e.shiftKey || t.is(\"a\") && !e.shiftKey) {\n                var o = g.find(\".fr-buttons\");\n                n = !m.accessibility.focusToolbar(o, !!e.shiftKey);\n              }\n\n              if (!1 !== n) {\n                var s = g.find(\"span.fr-emoticon:focus:first, span.fr-emoticon:visible:first, a\");\n                t.is(\"span.fr-emoticon\") && (s = s.not(\"span.fr-emoticon:not(:focus)\")), r = s.index(t), r = e.shiftKey ? ((r - 1) % s.length + s.length) % s.length : (r + 1) % s.length, i = s.get(r), m.events.disableBlur(), i.focus(), n = !1;\n              }\n            } else if (Ee.FE.KEYCODE.ARROW_UP == a || Ee.FE.KEYCODE.ARROW_DOWN == a || Ee.FE.KEYCODE.ARROW_LEFT == a || Ee.FE.KEYCODE.ARROW_RIGHT == a) {\n              if (t.is(\"span.fr-emoticon\")) {\n                var l = t.parent().find(\"span.fr-emoticon\");\n                r = l.index(t);\n                var d = m.opts.emoticonsStep,\n                    c = Math.floor(l.length / d),\n                    f = r % d,\n                    p = Math.floor(r / d),\n                    u = p * d + f,\n                    h = c * d;\n                Ee.FE.KEYCODE.ARROW_UP == a ? u = ((u - d) % h + h) % h : Ee.FE.KEYCODE.ARROW_DOWN == a ? u = (u + d) % h : Ee.FE.KEYCODE.ARROW_LEFT == a ? u = ((u - 1) % h + h) % h : Ee.FE.KEYCODE.ARROW_RIGHT == a && (u = (u + 1) % h), i = Ee(l.get(u)), m.events.disableBlur(), i.focus(), n = !1;\n              }\n            } else Ee.FE.KEYCODE.ENTER == a && (t.is(\"a\") ? t[0].click() : m.button.exec(t), n = !1);\n\n            return !1 === n && (e.preventDefault(), e.stopPropagation()), n;\n          }, !0), n;\n        }()), !t.hasClass(\"fr-active\")) {\n          m.popups.refresh(\"emoticons\"), m.popups.setContainer(\"emoticons\", m.$tb);\n          var n = e.offset().left + e.outerWidth() / 2,\n              r = e.offset().top + (m.opts.toolbarBottom ? 10 : e.outerHeight() - 10);\n          m.popups.show(\"emoticons\", n, r, e.outerHeight());\n        }\n      },\n      hideEmoticonsPopup: function hideEmoticonsPopup() {\n        m.popups.hide(\"emoticons\");\n      },\n      back: function back() {\n        m.popups.hide(\"emoticons\"), m.toolbar.showInline();\n      }\n    };\n  }, Ee.FE.DefineIcon(\"emoticons\", {\n    NAME: \"smile-o\",\n    FA5NAME: \"smile\"\n  }), Ee.FE.RegisterCommand(\"emoticons\", {\n    title: \"Emoticons\",\n    undo: !1,\n    focus: !0,\n    refreshOnCallback: !1,\n    popup: !0,\n    callback: function callback() {\n      this.popups.isVisible(\"emoticons\") ? (this.$el.find(\".fr-marker\").length && (this.events.disableBlur(), this.selection.restore()), this.popups.hide(\"emoticons\")) : this.emoticons.showEmoticonsPopup();\n    },\n    plugin: \"emoticons\"\n  }), Ee.FE.RegisterCommand(\"insertEmoticon\", {\n    callback: function callback(e, t) {\n      this.emoticons.insert(\"&#x\" + t + \";\", this.opts.emoticonsUseImage ? \"https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/\" + t + \".svg\" : null), this.emoticons.hideEmoticonsPopup();\n    }\n  }), Ee.FE.DefineIcon(\"emoticonsBack\", {\n    NAME: \"arrow-left\"\n  }), Ee.FE.RegisterCommand(\"emoticonsBack\", {\n    title: \"Back\",\n    undo: !1,\n    focus: !1,\n    back: !0,\n    refreshAfterCallback: !1,\n    callback: function callback() {\n      this.emoticons.back();\n    }\n  }), Ee.extend(Ee.FE.DEFAULTS, {\n    entities: \"&quot;&#39;&iexcl;&cent;&pound;&curren;&yen;&brvbar;&sect;&uml;&copy;&ordf;&laquo;&not;&shy;&reg;&macr;&deg;&plusmn;&sup2;&sup3;&acute;&micro;&para;&middot;&cedil;&sup1;&ordm;&raquo;&frac14;&frac12;&frac34;&iquest;&Agrave;&Aacute;&Acirc;&Atilde;&Auml;&Aring;&AElig;&Ccedil;&Egrave;&Eacute;&Ecirc;&Euml;&Igrave;&Iacute;&Icirc;&Iuml;&ETH;&Ntilde;&Ograve;&Oacute;&Ocirc;&Otilde;&Ouml;&times;&Oslash;&Ugrave;&Uacute;&Ucirc;&Uuml;&Yacute;&THORN;&szlig;&agrave;&aacute;&acirc;&atilde;&auml;&aring;&aelig;&ccedil;&egrave;&eacute;&ecirc;&euml;&igrave;&iacute;&icirc;&iuml;&eth;&ntilde;&ograve;&oacute;&ocirc;&otilde;&ouml;&divide;&oslash;&ugrave;&uacute;&ucirc;&uuml;&yacute;&thorn;&yuml;&OElig;&oelig;&Scaron;&scaron;&Yuml;&fnof;&circ;&tilde;&Alpha;&Beta;&Gamma;&Delta;&Epsilon;&Zeta;&Eta;&Theta;&Iota;&Kappa;&Lambda;&Mu;&Nu;&Xi;&Omicron;&Pi;&Rho;&Sigma;&Tau;&Upsilon;&Phi;&Chi;&Psi;&Omega;&alpha;&beta;&gamma;&delta;&epsilon;&zeta;&eta;&theta;&iota;&kappa;&lambda;&mu;&nu;&xi;&omicron;&pi;&rho;&sigmaf;&sigma;&tau;&upsilon;&phi;&chi;&psi;&omega;&thetasym;&upsih;&piv;&ensp;&emsp;&thinsp;&zwnj;&zwj;&lrm;&rlm;&ndash;&mdash;&lsquo;&rsquo;&sbquo;&ldquo;&rdquo;&bdquo;&dagger;&Dagger;&bull;&hellip;&permil;&prime;&Prime;&lsaquo;&rsaquo;&oline;&frasl;&euro;&image;&weierp;&real;&trade;&alefsym;&larr;&uarr;&rarr;&darr;&harr;&crarr;&lArr;&uArr;&rArr;&dArr;&hArr;&forall;&part;&exist;&empty;&nabla;&isin;&notin;&ni;&prod;&sum;&minus;&lowast;&radic;&prop;&infin;&ang;&and;&or;&cap;&cup;&int;&there4;&sim;&cong;&asymp;&ne;&equiv;&le;&ge;&sub;&sup;&nsub;&sube;&supe;&oplus;&otimes;&perp;&sdot;&lceil;&rceil;&lfloor;&rfloor;&lang;&rang;&loz;&spades;&clubs;&hearts;&diams;\"\n  }), Ee.FE.PLUGINS.entities = function (i) {\n    var a, o;\n\n    function r(e) {\n      var t = e.textContent;\n\n      if (t.match(a)) {\n        for (var n = \"\", r = 0; r < t.length; r++) {\n          o[t[r]] ? n += o[t[r]] : n += t[r];\n        }\n\n        e.textContent = n;\n      }\n    }\n\n    function s(e) {\n      if (e && 0 <= [\"STYLE\", \"SCRIPT\", \"svg\", \"IFRAME\"].indexOf(e.tagName)) return !0;\n\n      for (var t = i.node.contents(e), n = 0; n < t.length; n++) {\n        t[n].nodeType == Node.TEXT_NODE ? r(t[n]) : s(t[n]);\n      }\n\n      e.nodeType == Node.TEXT_NODE && r(e);\n    }\n\n    function l(e) {\n      return 0 === e.length ? \"\" : i.clean.exec(e, s).replace(/\\&amp;/g, \"&\");\n    }\n\n    return {\n      _init: function _init() {\n        i.opts.htmlSimpleAmpersand || (i.opts.entities = i.opts.entities + \"&amp;\");\n        var e = Ee(\"<div>\").html(i.opts.entities).text(),\n            t = i.opts.entities.split(\";\");\n        o = {}, a = \"\";\n\n        for (var n = 0; n < e.length; n++) {\n          var r = e.charAt(n);\n          o[r] = t[n] + \";\", a += \"\\\\\" + r + (n < e.length - 1 ? \"|\" : \"\");\n        }\n\n        a = new RegExp(\"(\" + a + \")\", \"g\"), i.events.on(\"html.get\", l, !0);\n      }\n    };\n  }, Ee.extend(Ee.FE.POPUP_TEMPLATES, {\n    \"file.insert\": \"[_BUTTONS_][_UPLOAD_LAYER_][_PROGRESS_BAR_]\"\n  }), Ee.extend(Ee.FE.DEFAULTS, {\n    fileUpload: !0,\n    fileUploadURL: null,\n    fileUploadParam: \"file\",\n    fileUploadParams: {},\n    fileUploadToS3: !1,\n    fileUploadMethod: \"POST\",\n    fileMaxSize: 10485760,\n    fileAllowedTypes: [\"*\"],\n    fileInsertButtons: [\"fileBack\", \"|\"],\n    fileUseSelectedText: !1\n  }), Ee.FE.PLUGINS.file = function (d) {\n    var r,\n        c = \"https://i.froala.com/upload\",\n        l = 2,\n        f = 3,\n        p = 4,\n        u = 5,\n        h = 6,\n        n = {};\n\n    function g() {\n      var e = d.popups.get(\"file.insert\");\n      e || (e = C()), e.find(\".fr-layer.fr-active\").removeClass(\"fr-active\").addClass(\"fr-pactive\"), e.find(\".fr-file-progress-bar-layer\").addClass(\"fr-active\"), e.find(\".fr-buttons\").hide(), a(d.language.translate(\"Uploading\"), 0);\n    }\n\n    function i(e) {\n      var t = d.popups.get(\"file.insert\");\n      t && (t.find(\".fr-layer.fr-pactive\").addClass(\"fr-active\").removeClass(\"fr-pactive\"), t.find(\".fr-file-progress-bar-layer\").removeClass(\"fr-active\"), t.find(\".fr-buttons\").show(), e && (d.events.focus(), d.popups.hide(\"file.insert\")));\n    }\n\n    function a(e, t) {\n      var n = d.popups.get(\"file.insert\");\n\n      if (n) {\n        var r = n.find(\".fr-file-progress-bar-layer\");\n        r.find(\"h3\").text(e + (t ? \" \" + t + \"%\" : \"\")), r.removeClass(\"fr-error\"), t ? (r.find(\"div\").removeClass(\"fr-indeterminate\"), r.find(\"div > span\").css(\"width\", t + \"%\")) : r.find(\"div\").addClass(\"fr-indeterminate\");\n      }\n    }\n\n    function m(e, t, n) {\n      d.edit.on(), d.events.focus(!0), d.selection.restore(), d.opts.fileUseSelectedText && d.selection.text().length && (t = d.selection.text()), d.html.insert('<a href=\"' + e + '\" target=\"_blank\" id=\"fr-inserted-file\" class=\"fr-file\">' + t + \"</a>\");\n      var r = d.$el.find(\"#fr-inserted-file\");\n      r.removeAttr(\"id\"), d.popups.hide(\"file.insert\"), d.undo.saveStep(), S(), d.events.trigger(\"file.inserted\", [r, n]);\n    }\n\n    function v(e) {\n      var t = this.status,\n          n = this.response,\n          r = this.responseXML,\n          i = this.responseText;\n\n      try {\n        if (d.opts.fileUploadToS3) {\n          if (201 == t) {\n            var a = function (e) {\n              try {\n                var t = Ee(e).find(\"Location\").text(),\n                    n = Ee(e).find(\"Key\").text();\n                return !1 === d.events.trigger(\"file.uploadedToS3\", [t, n, e], !0) ? (d.edit.on(), !1) : t;\n              } catch (r) {\n                return T(p, e), !1;\n              }\n            }(r);\n\n            a && m(a, e, n || r);\n          } else T(p, n || r);\n        } else if (200 <= t && t < 300) {\n          var o = function (e) {\n            try {\n              if (!1 === d.events.trigger(\"file.uploaded\", [e], !0)) return d.edit.on(), !1;\n              var t = JSON.parse(e);\n              return t.link ? t : (T(l, e), !1);\n            } catch (n) {\n              return T(p, e), !1;\n            }\n          }(i);\n\n          o && m(o.link, e, n || i);\n        } else T(f, n || i);\n      } catch (s) {\n        T(p, n || i);\n      }\n    }\n\n    function E() {\n      T(p, this.response || this.responseText || this.responseXML);\n    }\n\n    function b(e) {\n      if (e.lengthComputable) {\n        var t = e.loaded / e.total * 100 | 0;\n        a(d.language.translate(\"Uploading\"), t);\n      }\n    }\n\n    function T(e, t) {\n      d.edit.on(), function (e) {\n        g();\n        var t = d.popups.get(\"file.insert\").find(\".fr-file-progress-bar-layer\");\n        t.addClass(\"fr-error\");\n        var n = t.find(\"h3\");\n        n.text(e), d.events.disableBlur(), n.focus();\n      }(d.language.translate(\"Something went wrong. Please try again.\")), d.events.trigger(\"file.error\", [{\n        code: e,\n        message: n[e]\n      }, t]);\n    }\n\n    function A() {\n      d.edit.on(), i(!0);\n    }\n\n    function o(e) {\n      if (void 0 !== e && 0 < e.length) {\n        if (!1 === d.events.trigger(\"file.beforeUpload\", [e])) return !1;\n        var t,\n            n = e[0];\n        if ((null === d.opts.fileUploadURL || d.opts.fileUploadURL == c) && !d.opts.fileUploadToS3) return s = n, (l = new FileReader()).onload = function () {\n          for (var e = l.result, t = atob(l.result.split(\",\")[1]), n = [], r = 0; r < t.length; r++) {\n            n.push(t.charCodeAt(r));\n          }\n\n          e = window.URL.createObjectURL(new Blob([new Uint8Array(n)], {\n            type: s.type\n          })), d.file.insert(e, s.name, null);\n        }, g(), l.readAsDataURL(s), !1;\n        if (n.size > d.opts.fileMaxSize) return T(u), !1;\n        if (d.opts.fileAllowedTypes.indexOf(\"*\") < 0 && d.opts.fileAllowedTypes.indexOf(n.type.replace(/file\\//g, \"\")) < 0) return T(h), !1;\n\n        if (d.drag_support.formdata && (t = d.drag_support.formdata ? new FormData() : null), t) {\n          var r;\n          if (!1 !== d.opts.fileUploadToS3) for (r in t.append(\"key\", d.opts.fileUploadToS3.keyStart + new Date().getTime() + \"-\" + (n.name || \"untitled\")), t.append(\"success_action_status\", \"201\"), t.append(\"X-Requested-With\", \"xhr\"), t.append(\"Content-Type\", n.type), d.opts.fileUploadToS3.params) {\n            d.opts.fileUploadToS3.params.hasOwnProperty(r) && t.append(r, d.opts.fileUploadToS3.params[r]);\n          }\n\n          for (r in d.opts.fileUploadParams) {\n            d.opts.fileUploadParams.hasOwnProperty(r) && t.append(r, d.opts.fileUploadParams[r]);\n          }\n\n          t.append(d.opts.fileUploadParam, n);\n          var i = d.opts.fileUploadURL;\n          d.opts.fileUploadToS3 && (i = d.opts.fileUploadToS3.uploadURL ? d.opts.fileUploadToS3.uploadURL : \"https://\" + d.opts.fileUploadToS3.region + \".amazonaws.com/\" + d.opts.fileUploadToS3.bucket);\n          var a = d.core.getXHR(i, d.opts.fileUploadMethod);\n          a.onload = function () {\n            v.call(a, n.name);\n          }, a.onerror = E, a.upload.onprogress = b, a.onabort = A, g();\n          var o = d.popups.get(\"file.insert\");\n          o && o.off(\"abortUpload\").on(\"abortUpload\", function () {\n            4 != a.readyState && a.abort();\n          }), a.send(t);\n        }\n      }\n\n      var s, l;\n    }\n\n    function s() {\n      i();\n    }\n\n    function C(e) {\n      if (e) return d.popups.onHide(\"file.insert\", s), !0;\n      var t;\n      d.opts.fileUpload || d.opts.fileInsertButtons.splice(d.opts.fileInsertButtons.indexOf(\"fileUpload\"), 1), t = '<div class=\"fr-buttons\">' + d.button.buildList(d.opts.fileInsertButtons) + \"</div>\";\n      var n = \"\";\n      d.opts.fileUpload && (n = '<div class=\"fr-file-upload-layer fr-layer fr-active\" id=\"fr-file-upload-layer-' + d.id + '\"><strong>' + d.language.translate(\"Drop file\") + \"</strong><br>(\" + d.language.translate(\"or click\") + ')<div class=\"fr-form\"><input type=\"file\" name=\"' + d.opts.fileUploadParam + '\" accept=\"' + (0 <= d.opts.fileAllowedTypes.indexOf(\"*\") ? \"/\" : \"\") + d.opts.fileAllowedTypes.join(\", \").toLowerCase() + '\" tabIndex=\"-1\" aria-labelledby=\"fr-file-upload-layer-' + d.id + '\" role=\"button\"></div></div>');\n      var r,\n          i = {\n        buttons: t,\n        upload_layer: n,\n        progress_bar: '<div class=\"fr-file-progress-bar-layer fr-layer\"><h3 tabIndex=\"-1\" class=\"fr-message\">Uploading</h3><div class=\"fr-loader\"><span class=\"fr-progress\"></span></div><div class=\"fr-action-buttons\"><button type=\"button\" class=\"fr-command fr-dismiss\" data-cmd=\"fileDismissError\" tabIndex=\"2\" role=\"button\">OK</button></div></div>'\n      },\n          a = d.popups.create(\"file.insert\", i);\n      return r = a, d.events.$on(r, \"dragover dragenter\", \".fr-file-upload-layer\", function () {\n        return Ee(this).addClass(\"fr-drop\"), !1;\n      }, !0), d.events.$on(r, \"dragleave dragend\", \".fr-file-upload-layer\", function () {\n        return Ee(this).removeClass(\"fr-drop\"), !1;\n      }, !0), d.events.$on(r, \"drop\", \".fr-file-upload-layer\", function (e) {\n        e.preventDefault(), e.stopPropagation(), Ee(this).removeClass(\"fr-drop\");\n        var t = e.originalEvent.dataTransfer;\n        t && t.files && (r.data(\"instance\") || d).file.upload(t.files);\n      }, !0), d.helpers.isIOS() && d.events.$on(r, \"touchstart\", '.fr-file-upload-layer input[type=\"file\"]', function () {\n        Ee(this).trigger(\"click\");\n      }), d.events.$on(r, \"change\", '.fr-file-upload-layer input[type=\"file\"]', function () {\n        if (this.files) {\n          var e = r.data(\"instance\") || d;\n          e.events.disableBlur(), r.find(\"input:focus\").blur(), e.events.enableBlur(), e.file.upload(this.files);\n        }\n\n        Ee(this).val(\"\");\n      }, !0), a;\n    }\n\n    function e(e) {\n      d.node.hasClass(e, \"fr-file\");\n    }\n\n    function t(e) {\n      var t = e.originalEvent.dataTransfer;\n\n      if (t && t.files && t.files.length) {\n        var n = t.files[0];\n\n        if (n && \"undefined\" != typeof n.type) {\n          if (n.type.indexOf(\"image\") < 0) {\n            if (!d.opts.fileUpload) return e.preventDefault(), e.stopPropagation(), !1;\n            d.markers.remove(), d.markers.insertAtPoint(e.originalEvent), d.$el.find(\".fr-marker\").replaceWith(Ee.FE.MARKERS), d.popups.hideAll();\n            var r = d.popups.get(\"file.insert\");\n            return r || (r = C()), d.popups.setContainer(\"file.insert\", d.$sc), d.popups.show(\"file.insert\", e.originalEvent.pageX, e.originalEvent.pageY), g(), o(t.files), e.preventDefault(), e.stopPropagation(), !1;\n          }\n        } else n.type.indexOf(\"image\") < 0 && (e.preventDefault(), e.stopPropagation());\n      }\n    }\n\n    function S() {\n      var e,\n          t = Array.prototype.slice.call(d.el.querySelectorAll(\"a.fr-file\")),\n          n = [];\n\n      for (e = 0; e < t.length; e++) {\n        n.push(t[e].getAttribute(\"href\"));\n      }\n\n      if (r) for (e = 0; e < r.length; e++) {\n        n.indexOf(r[e].getAttribute(\"href\")) < 0 && d.events.trigger(\"file.unlink\", [r[e]]);\n      }\n      r = t;\n    }\n\n    return n[1] = \"File cannot be loaded from the passed link.\", n[l] = \"No link in upload response.\", n[f] = \"Error during file upload.\", n[p] = \"Parsing response failed.\", n[u] = \"File is too large.\", n[h] = \"File file type is invalid.\", n[7] = \"Files can be uploaded only to same domain in IE 8 and IE 9.\", {\n      _init: function _init() {\n        d.events.on(\"drop\", t), d.events.$on(d.$win, \"keydown\", function (e) {\n          var t = e.which,\n              n = d.popups.get(\"file.insert\");\n          n && t == Ee.FE.KEYCODE.ESC && n.trigger(\"abortUpload\");\n        }), d.events.on(\"destroy\", function () {\n          var e = d.popups.get(\"file.insert\");\n          e && e.trigger(\"abortUpload\");\n        }), d.events.on(\"link.beforeRemove\", e), d.$wp && (S(), d.events.on(\"contentChanged\", S)), C(!0);\n      },\n      showInsertPopup: function showInsertPopup() {\n        var e = d.$tb.find('.fr-command[data-cmd=\"insertFile\"]'),\n            t = d.popups.get(\"file.insert\");\n        if (t || (t = C()), i(), !t.hasClass(\"fr-active\")) if (d.popups.refresh(\"file.insert\"), d.popups.setContainer(\"file.insert\", d.$tb), e.is(\":visible\")) {\n          var n = e.offset().left + e.outerWidth() / 2,\n              r = e.offset().top + (d.opts.toolbarBottom ? 10 : e.outerHeight() - 10);\n          d.popups.show(\"file.insert\", n, r, e.outerHeight());\n        } else d.position.forSelection(t), d.popups.show(\"file.insert\");\n      },\n      upload: o,\n      insert: m,\n      back: function back() {\n        d.events.disableBlur(), d.selection.restore(), d.events.enableBlur(), d.popups.hide(\"file.insert\"), d.toolbar.showInline();\n      },\n      hideProgressBar: i\n    };\n  }, Ee.FE.DefineIcon(\"insertFile\", {\n    NAME: \"file-o\",\n    FA5NAME: \"file\"\n  }), Ee.FE.RegisterCommand(\"insertFile\", {\n    title: \"Upload File\",\n    undo: !1,\n    focus: !0,\n    refreshAfterCallback: !1,\n    popup: !0,\n    callback: function callback() {\n      this.popups.isVisible(\"file.insert\") ? (this.$el.find(\".fr-marker\").length && (this.events.disableBlur(), this.selection.restore()), this.popups.hide(\"file.insert\")) : this.file.showInsertPopup();\n    },\n    plugin: \"file\"\n  }), Ee.FE.DefineIcon(\"fileBack\", {\n    NAME: \"arrow-left\"\n  }), Ee.FE.RegisterCommand(\"fileBack\", {\n    title: \"Back\",\n    undo: !1,\n    focus: !1,\n    back: !0,\n    refreshAfterCallback: !1,\n    callback: function callback() {\n      this.file.back();\n    },\n    refresh: function refresh(e) {\n      this.opts.toolbarInline ? (e.removeClass(\"fr-hidden\"), e.next(\".fr-separator\").removeClass(\"fr-hidden\")) : (e.addClass(\"fr-hidden\"), e.next(\".fr-separator\").addClass(\"fr-hidden\"));\n    }\n  }), Ee.FE.RegisterCommand(\"fileDismissError\", {\n    title: \"OK\",\n    callback: function callback() {\n      this.file.hideProgressBar(!0);\n    }\n  }), Ee.extend(Ee.FE.DEFAULTS, {\n    fontFamily: {\n      \"Arial,Helvetica,sans-serif\": \"Arial\",\n      \"Georgia,serif\": \"Georgia\",\n      \"Impact,Charcoal,sans-serif\": \"Impact\",\n      \"Tahoma,Geneva,sans-serif\": \"Tahoma\",\n      \"Times New Roman,Times,serif,-webkit-standard\": \"Times New Roman\",\n      \"Verdana,Geneva,sans-serif\": \"Verdana\"\n    },\n    fontFamilySelection: !1,\n    fontFamilyDefaultSelection: \"Font Family\"\n  }), Ee.FE.PLUGINS.fontFamily = function (i) {\n    function a(e) {\n      var t = e.replace(/(sans-serif|serif|monospace|cursive|fantasy)/gi, \"\").replace(/\"|'| /g, \"\").split(\",\");\n      return Ee.grep(t, function (e) {\n        return 0 < e.length;\n      });\n    }\n\n    function o(e, t) {\n      for (var n = 0; n < e.length; n++) {\n        for (var r = 0; r < t.length; r++) {\n          if (e[n].toLowerCase() == t[r].toLowerCase()) return [n, r];\n        }\n      }\n\n      return null;\n    }\n\n    function s() {\n      var e = a(Ee(i.selection.element()).css(\"font-family\")),\n          t = [];\n\n      for (var n in i.opts.fontFamily) {\n        if (i.opts.fontFamily.hasOwnProperty(n)) {\n          var r = o(e, a(n));\n          r && t.push([n, r]);\n        }\n      }\n\n      return 0 === t.length ? null : (t.sort(function (e, t) {\n        var n = e[1][0] - t[1][0];\n        return 0 === n ? e[1][1] - t[1][1] : n;\n      }), t[0][0]);\n    }\n\n    return {\n      apply: function apply(e) {\n        i.format.applyStyle(\"font-family\", e);\n      },\n      refreshOnShow: function refreshOnShow(e, t) {\n        t.find(\".fr-command.fr-active\").removeClass(\"fr-active\").attr(\"aria-selected\", !1), t.find('.fr-command[data-param1=\"' + s() + '\"]').addClass(\"fr-active\").attr(\"aria-selected\", !0);\n        var n = t.find(\".fr-dropdown-list\"),\n            r = t.find(\".fr-active\").parent();\n        r.length ? n.parent().scrollTop(r.offset().top - n.offset().top - (n.parent().outerHeight() / 2 - r.outerHeight() / 2)) : n.parent().scrollTop(0);\n      },\n      refresh: function refresh(e) {\n        if (i.opts.fontFamilySelection) {\n          var t = Ee(i.selection.element()).css(\"font-family\").replace(/(sans-serif|serif|monospace|cursive|fantasy)/gi, \"\").replace(/\"|'|/g, \"\").split(\",\");\n          e.find(\"> span\").text(i.opts.fontFamily[s()] || t[0] || i.language.translate(i.opts.fontFamilyDefaultSelection));\n        }\n      }\n    };\n  }, Ee.FE.RegisterCommand(\"fontFamily\", {\n    type: \"dropdown\",\n    displaySelection: function displaySelection(e) {\n      return e.opts.fontFamilySelection;\n    },\n    defaultSelection: function defaultSelection(e) {\n      return e.opts.fontFamilyDefaultSelection;\n    },\n    displaySelectionWidth: 120,\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = this.opts.fontFamily;\n\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e += '<li role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"fontFamily\" data-param1=\"' + n + '\" style=\"font-family: ' + n + '\" title=\"' + t[n] + '\">' + t[n] + \"</a></li>\");\n      }\n\n      return e += \"</ul>\";\n    },\n    title: \"Font Family\",\n    callback: function callback(e, t) {\n      this.fontFamily.apply(t);\n    },\n    refresh: function refresh(e) {\n      this.fontFamily.refresh(e);\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      this.fontFamily.refreshOnShow(e, t);\n    },\n    plugin: \"fontFamily\"\n  }), Ee.FE.DefineIcon(\"fontFamily\", {\n    NAME: \"font\"\n  }), Ee.extend(Ee.FE.DEFAULTS, {\n    fontSize: [\"8\", \"9\", \"10\", \"11\", \"12\", \"14\", \"18\", \"24\", \"30\", \"36\", \"48\", \"60\", \"72\", \"96\"],\n    fontSizeSelection: !1,\n    fontSizeDefaultSelection: \"12\",\n    fontSizeUnit: \"px\"\n  }), Ee.FE.PLUGINS.fontSize = function (a) {\n    return {\n      apply: function apply(e) {\n        a.format.applyStyle(\"font-size\", e);\n      },\n      refreshOnShow: function refreshOnShow(e, t) {\n        var n = Ee(a.selection.element()).css(\"font-size\");\n        \"pt\" === a.opts.fontSizeUnit && (n = Math.round(72 * parseFloat(n, 10) / 96) + \"pt\"), t.find(\".fr-command.fr-active\").removeClass(\"fr-active\").attr(\"aria-selected\", !1), t.find('.fr-command[data-param1=\"' + n + '\"]').addClass(\"fr-active\").attr(\"aria-selected\", !0);\n        var r = t.find(\".fr-dropdown-list\"),\n            i = t.find(\".fr-active\").parent();\n        i.length ? r.parent().scrollTop(i.offset().top - r.offset().top - (r.parent().outerHeight() / 2 - i.outerHeight() / 2)) : r.parent().scrollTop(0);\n      },\n      refresh: function refresh(e) {\n        if (a.opts.fontSizeSelection) {\n          var t = a.helpers.getPX(Ee(a.selection.element()).css(\"font-size\"));\n          \"pt\" === a.opts.fontSizeUnit && (t = Math.round(72 * parseFloat(t, 10) / 96) + \"pt\"), e.find(\"> span\").text(t);\n        }\n      }\n    };\n  }, Ee.FE.RegisterCommand(\"fontSize\", {\n    type: \"dropdown\",\n    title: \"Font Size\",\n    displaySelection: function displaySelection(e) {\n      return e.opts.fontSizeSelection;\n    },\n    displaySelectionWidth: 30,\n    defaultSelection: function defaultSelection(e) {\n      return e.opts.fontSizeDefaultSelection;\n    },\n    html: function html() {\n      for (var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">', t = this.opts.fontSize, n = 0; n < t.length; n++) {\n        var r = t[n];\n        e += '<li role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"fontSize\" data-param1=\"' + r + this.opts.fontSizeUnit + '\" title=\"' + r + '\">' + r + \"</a></li>\";\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      this.fontSize.apply(t);\n    },\n    refresh: function refresh(e) {\n      this.fontSize.refresh(e);\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      this.fontSize.refreshOnShow(e, t);\n    },\n    plugin: \"fontSize\"\n  }), Ee.FE.DefineIcon(\"fontSize\", {\n    NAME: \"text-height\"\n  }), Ee.extend(Ee.FE.POPUP_TEMPLATES, {\n    \"forms.edit\": \"[_BUTTONS_]\",\n    \"forms.update\": \"[_BUTTONS_][_TEXT_LAYER_]\"\n  }), Ee.extend(Ee.FE.DEFAULTS, {\n    formEditButtons: [\"inputStyle\", \"inputEdit\"],\n    formStyles: {\n      \"fr-rounded\": \"Rounded\",\n      \"fr-large\": \"Large\"\n    },\n    formMultipleStyles: !0,\n    formUpdateButtons: [\"inputBack\", \"|\"]\n  }), Ee.FE.PLUGINS.forms = function (a) {\n    var o;\n\n    function e(e) {\n      e.preventDefault(), a.selection.clear(), Ee(this).data(\"mousedown\", !0);\n    }\n\n    function t(e) {\n      Ee(this).data(\"mousedown\") && (e.stopPropagation(), Ee(this).removeData(\"mousedown\"), l(o = this)), e.preventDefault();\n    }\n\n    function n() {\n      a.$el.find(\"input, textarea, button\").removeData(\"mousedown\");\n    }\n\n    function r() {\n      Ee(this).removeData(\"mousedown\");\n    }\n\n    function s() {\n      return o || null;\n    }\n\n    function l(e) {\n      var t = a.popups.get(\"forms.edit\");\n      t || (t = function () {\n        var e = \"\";\n        0 < a.opts.formEditButtons.length && (e = '<div class=\"fr-buttons\">' + a.button.buildList(a.opts.formEditButtons) + \"</div>\");\n        var t = {\n          buttons: e\n        },\n            n = a.popups.create(\"forms.edit\", t);\n        return a.$wp && a.events.$on(a.$wp, \"scroll.link-edit\", function () {\n          s() && a.popups.isVisible(\"forms.edit\") && l(s());\n        }), n;\n      }());\n      var n = Ee(o = e);\n      a.popups.refresh(\"forms.edit\"), a.popups.setContainer(\"forms.edit\", a.$sc);\n      var r = n.offset().left + n.outerWidth() / 2,\n          i = n.offset().top + n.outerHeight();\n      a.popups.show(\"forms.edit\", r, i, n.outerHeight());\n    }\n\n    function d() {\n      var e = a.popups.get(\"forms.update\"),\n          t = s();\n\n      if (t) {\n        var n = Ee(t);\n        n.is(\"button\") ? e.find('input[type=\"text\"][name=\"text\"]').val(n.text()) : e.find('input[type=\"text\"][name=\"text\"]').val(n.attr(\"placeholder\"));\n      }\n\n      e.find('input[type=\"text\"][name=\"text\"]').trigger(\"change\");\n    }\n\n    function c() {\n      o = null;\n    }\n\n    function f(e) {\n      if (e) return a.popups.onRefresh(\"forms.update\", d), a.popups.onHide(\"forms.update\", c), !0;\n      var t = \"\";\n      1 <= a.opts.formUpdateButtons.length && (t = '<div class=\"fr-buttons\">' + a.button.buildList(a.opts.formUpdateButtons) + \"</div>\");\n      var n = \"\",\n          r = 0;\n      n = '<div class=\"fr-forms-text-layer fr-layer fr-active\">', n += '<div class=\"fr-input-line\"><input name=\"text\" type=\"text\" placeholder=\"Text\" tabIndex=\"' + ++r + '\"></div>';\n      var i = {\n        buttons: t,\n        text_layer: n += '<div class=\"fr-action-buttons\"><button class=\"fr-command fr-submit\" data-cmd=\"updateInput\" href=\"#\" tabIndex=\"' + ++r + '\" type=\"button\">' + a.language.translate(\"Update\") + \"</button></div></div>\"\n      };\n      return a.popups.create(\"forms.update\", i);\n    }\n\n    return {\n      _init: function _init() {\n        a.events.$on(a.$el, a._mousedown, \"input, textarea, button\", e), a.events.$on(a.$el, a._mouseup, \"input, textarea, button\", t), a.events.$on(a.$el, \"touchmove\", \"input, textarea, button\", r), a.events.$on(a.$el, a._mouseup, n), a.events.$on(a.$win, a._mouseup, n), f(!0), a.events.$on(a.$el, \"submit\", \"form\", function (e) {\n          return e.preventDefault(), !1;\n        });\n      },\n      updateInput: function updateInput() {\n        var e = a.popups.get(\"forms.update\"),\n            t = s();\n\n        if (t) {\n          var n = Ee(t),\n              r = e.find('input[type=\"text\"][name=\"text\"]').val() || \"\";\n          r.length && (n.is(\"button\") ? n.text(r) : n.attr(\"placeholder\", r)), a.popups.hide(\"forms.update\"), l(t);\n        }\n      },\n      getInput: s,\n      applyStyle: function applyStyle(e, t, n) {\n        void 0 === t && (t = a.opts.formStyles), void 0 === n && (n = a.opts.formMultipleStyles);\n        var r = s();\n        if (!r) return !1;\n\n        if (!n) {\n          var i = Object.keys(t);\n          i.splice(i.indexOf(e), 1), Ee(r).removeClass(i.join(\" \"));\n        }\n\n        Ee(r).toggleClass(e);\n      },\n      showUpdatePopup: function showUpdatePopup() {\n        var e = s();\n\n        if (e) {\n          var t = Ee(e),\n              n = a.popups.get(\"forms.update\");\n          n || (n = f()), a.popups.isVisible(\"forms.update\") || a.popups.refresh(\"forms.update\"), a.popups.setContainer(\"forms.update\", a.$sc);\n          var r = t.offset().left + t.outerWidth() / 2,\n              i = t.offset().top + t.outerHeight();\n          a.popups.show(\"forms.update\", r, i, t.outerHeight());\n        }\n      },\n      showEditPopup: l,\n      back: function back() {\n        a.events.disableBlur(), a.selection.restore(), a.events.enableBlur();\n        var e = s();\n        e && a.$wp && (\"BUTTON\" == e.tagName && a.selection.restore(), l(e));\n      }\n    };\n  }, Ee.FE.RegisterCommand(\"updateInput\", {\n    undo: !1,\n    focus: !1,\n    title: \"Update\",\n    callback: function callback() {\n      this.forms.updateInput();\n    }\n  }), Ee.FE.DefineIcon(\"inputStyle\", {\n    NAME: \"magic\"\n  }), Ee.FE.RegisterCommand(\"inputStyle\", {\n    title: \"Style\",\n    type: \"dropdown\",\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\">',\n          t = this.opts.formStyles;\n\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e += '<li><a class=\"fr-command\" tabIndex=\"-1\" data-cmd=\"inputStyle\" data-param1=\"' + n + '\">' + this.language.translate(t[n]) + \"</a></li>\");\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      var n = this.forms.getInput();\n      n && (this.forms.applyStyle(t), this.forms.showEditPopup(n));\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      var n = this.forms.getInput();\n\n      if (n) {\n        var r = Ee(n);\n        t.find(\".fr-command\").each(function () {\n          var e = Ee(this).data(\"param1\");\n          Ee(this).toggleClass(\"fr-active\", r.hasClass(e));\n        });\n      }\n    }\n  }), Ee.FE.DefineIcon(\"inputEdit\", {\n    NAME: \"edit\"\n  }), Ee.FE.RegisterCommand(\"inputEdit\", {\n    title: \"Edit Button\",\n    undo: !1,\n    refreshAfterCallback: !1,\n    callback: function callback() {\n      this.forms.showUpdatePopup();\n    }\n  }), Ee.FE.DefineIcon(\"inputBack\", {\n    NAME: \"arrow-left\"\n  }), Ee.FE.RegisterCommand(\"inputBack\", {\n    title: \"Back\",\n    undo: !1,\n    focus: !1,\n    back: !0,\n    refreshAfterCallback: !1,\n    callback: function callback() {\n      this.forms.back();\n    }\n  }), Ee.FE.RegisterCommand(\"updateInput\", {\n    undo: !1,\n    focus: !1,\n    title: \"Update\",\n    callback: function callback() {\n      this.forms.updateInput();\n    }\n  }), Ee.FE.PLUGINS.fullscreen = function (n) {\n    var t, r, i, a;\n\n    function o() {\n      return n.$box.hasClass(\"fr-fullscreen\");\n    }\n\n    function e() {\n      if (n.helpers.isIOS() && n.core.hasFocus()) return n.$el.blur(), setTimeout(l, 250), !1;\n      t = n.helpers.scrollTop(), n.$box.toggleClass(\"fr-fullscreen\"), Ee(\"body:first\").toggleClass(\"fr-fullscreen\"), n.helpers.isMobile() && (n.$tb.data(\"parent\", n.$tb.parent()), n.$tb.prependTo(n.$box), n.$tb.data(\"sticky-dummy\") && n.$tb.after(n.$tb.data(\"sticky-dummy\"))), r = n.opts.height, i = n.opts.heightMax, a = n.opts.zIndex, n.position.refresh(), n.opts.height = n.o_win.innerHeight - (n.opts.toolbarInline ? 0 : n.$tb.outerHeight()), n.opts.zIndex = 2147483641, n.opts.heightMax = null, n.size.refresh(), n.opts.toolbarInline && n.toolbar.showInline();\n\n      for (var e = n.$box.parent(); !e.is(\"body:first\");) {\n        e.data(\"z-index\", e.css(\"z-index\")).data(\"width\", e.css(\"width\")).data(\"margin\", e.css(\"margin\")).data(\"padding\", e.css(\"padding\")).data(\"overflow\", e.css(\"overflow\")).css(\"z-index\", \"2147483640\").css(\"width\", \"100%\").css(\"margin\", \"0px\").css(\"padding\", \"0px\").css(\"overflow\", \"visible\"), e = e.parent();\n      }\n\n      n.opts.toolbarContainer && n.$box.prepend(n.$tb), n.events.trigger(\"charCounter.update\"), n.events.trigger(\"codeView.update\"), n.$win.trigger(\"scroll\");\n    }\n\n    function s() {\n      if (n.helpers.isIOS() && n.core.hasFocus()) return n.$el.blur(), setTimeout(l, 250), !1;\n      n.$box.toggleClass(\"fr-fullscreen\"), Ee(\"body:first\").toggleClass(\"fr-fullscreen\"), n.$tb.prependTo(n.$tb.data(\"parent\")), n.$tb.data(\"sticky-dummy\") && n.$tb.after(n.$tb.data(\"sticky-dummy\")), n.opts.height = r, n.opts.heightMax = i, n.opts.zIndex = a, n.size.refresh(), Ee(n.o_win).scrollTop(t), n.opts.toolbarInline && n.toolbar.showInline(), n.events.trigger(\"charCounter.update\"), n.opts.toolbarSticky && n.opts.toolbarStickyOffset && (n.opts.toolbarBottom ? n.$tb.css(\"bottom\", n.opts.toolbarStickyOffset).data(\"bottom\", n.opts.toolbarStickyOffset) : n.$tb.css(\"top\", n.opts.toolbarStickyOffset).data(\"top\", n.opts.toolbarStickyOffset));\n\n      for (var e = n.$box.parent(); !e.is(\"body:first\");) {\n        e.data(\"z-index\") && (e.css(\"z-index\", \"\"), e.css(\"z-index\") != e.data(\"z-index\") && e.css(\"z-index\", e.data(\"z-index\")), e.removeData(\"z-index\")), e.data(\"width\") && (e.css(\"width\", \"\"), e.css(\"width\") != e.data(\"width\") && e.css(\"width\", e.data(\"width\")), e.removeData(\"width\")), e.data(\"margin\") && (e.css(\"margin\", \"\"), e.css(\"margin\") != e.data(\"margin\") && e.css(\"margin\", e.data(\"margin\")), e.removeData(\"margin\")), e.data(\"padding\") && (e.css(\"padding\", \"\"), e.css(\"padding\") != e.data(\"padding\") && e.css(\"padding\", e.data(\"padding\")), e.removeData(\"padding\")), e.data(\"overflow\") ? (e.css(\"overflow\", \"\"), e.css(\"overflow\") != e.data(\"overflow\") && e.css(\"overflow\", e.data(\"overflow\"))) : e.css(\"overflow\", \"\"), e.removeData(\"overflow\"), e = e.parent();\n      }\n\n      n.opts.toolbarContainer && Ee(n.opts.toolbarContainer).append(n.$tb), Ee(n.o_win).trigger(\"scroll\"), n.events.trigger(\"codeView.update\");\n    }\n\n    function l() {\n      o() ? s() : e(), d(n.$tb.find('.fr-command[data-cmd=\"fullscreen\"]'));\n    }\n\n    function d(e) {\n      var t = o();\n      e.toggleClass(\"fr-active\", t).attr(\"aria-pressed\", t), e.find(\"> *:not(.fr-sr-only)\").replaceWith(t ? n.icon.create(\"fullscreenCompress\") : n.icon.create(\"fullscreen\"));\n    }\n\n    return {\n      _init: function _init() {\n        if (!n.$wp) return !1;\n        n.events.$on(Ee(n.o_win), \"resize\", function () {\n          o() && (s(), e());\n        }), n.events.on(\"toolbar.hide\", function () {\n          if (o() && n.helpers.isMobile()) return !1;\n        }), n.events.on(\"position.refresh\", function () {\n          if (n.helpers.isIOS()) return !o();\n        }), n.events.on(\"destroy\", function () {\n          o() && s();\n        }, !0);\n      },\n      toggle: l,\n      refresh: d,\n      isActive: o\n    };\n  }, Ee.FE.RegisterCommand(\"fullscreen\", {\n    title: \"Fullscreen\",\n    undo: !1,\n    focus: !1,\n    accessibilityFocus: !0,\n    forcedRefresh: !0,\n    toggle: !0,\n    callback: function callback() {\n      this.fullscreen.toggle();\n    },\n    refresh: function refresh(e) {\n      this.fullscreen.refresh(e);\n    },\n    plugin: \"fullscreen\"\n  }), Ee.FE.DefineIcon(\"fullscreen\", {\n    NAME: \"expand\"\n  }), Ee.FE.DefineIcon(\"fullscreenCompress\", {\n    NAME: \"compress\"\n  }), Ee.extend(Ee.FE.DEFAULTS, {\n    helpSets: [{\n      title: \"Inline Editor\",\n      commands: [{\n        val: \"OSkeyE\",\n        desc: \"Show the editor\"\n      }]\n    }, {\n      title: \"Common actions\",\n      commands: [{\n        val: \"OSkeyC\",\n        desc: \"Copy\"\n      }, {\n        val: \"OSkeyX\",\n        desc: \"Cut\"\n      }, {\n        val: \"OSkeyV\",\n        desc: \"Paste\"\n      }, {\n        val: \"OSkeyZ\",\n        desc: \"Undo\"\n      }, {\n        val: \"OSkeyShift+Z\",\n        desc: \"Redo\"\n      }, {\n        val: \"OSkeyK\",\n        desc: \"Insert Link\"\n      }, {\n        val: \"OSkeyP\",\n        desc: \"Insert Image\"\n      }]\n    }, {\n      title: \"Basic Formatting\",\n      commands: [{\n        val: \"OSkeyA\",\n        desc: \"Select All\"\n      }, {\n        val: \"OSkeyB\",\n        desc: \"Bold\"\n      }, {\n        val: \"OSkeyI\",\n        desc: \"Italic\"\n      }, {\n        val: \"OSkeyU\",\n        desc: \"Underline\"\n      }, {\n        val: \"OSkeyS\",\n        desc: \"Strikethrough\"\n      }, {\n        val: \"OSkey]\",\n        desc: \"Increase Indent\"\n      }, {\n        val: \"OSkey[\",\n        desc: \"Decrease Indent\"\n      }]\n    }, {\n      title: \"Quote\",\n      commands: [{\n        val: \"OSkey'\",\n        desc: \"Increase quote level\"\n      }, {\n        val: \"OSkeyShift+'\",\n        desc: \"Decrease quote level\"\n      }]\n    }, {\n      title: \"Image / Video\",\n      commands: [{\n        val: \"OSkey+\",\n        desc: \"Resize larger\"\n      }, {\n        val: \"OSkey-\",\n        desc: \"Resize smaller\"\n      }]\n    }, {\n      title: \"Table\",\n      commands: [{\n        val: \"Alt+Space\",\n        desc: \"Select table cell\"\n      }, {\n        val: \"Shift+Left/Right arrow\",\n        desc: \"Extend selection one cell\"\n      }, {\n        val: \"Shift+Up/Down arrow\",\n        desc: \"Extend selection one row\"\n      }]\n    }, {\n      title: \"Navigation\",\n      commands: [{\n        val: \"OSkey/\",\n        desc: \"Shortcuts\"\n      }, {\n        val: \"Alt+F10\",\n        desc: \"Focus popup / toolbar\"\n      }, {\n        val: \"Esc\",\n        desc: \"Return focus to previous position\"\n      }]\n    }]\n  }), Ee.FE.PLUGINS.help = function (o) {\n    var r,\n        i = \"help\";\n    return {\n      _init: function _init() {},\n      show: function show() {\n        if (!r) {\n          var e = \"<h4>\" + o.language.translate(\"Shortcuts\") + \"</h4>\",\n              t = function () {\n            for (var e = '<div class=\"fr-help-modal\">', t = 0; t < o.opts.helpSets.length; t++) {\n              var n = o.opts.helpSets[t],\n                  r = \"<table>\";\n              r += \"<thead><tr><th>\" + o.language.translate(n.title) + \"</th></tr></thead>\", r += \"<tbody>\";\n\n              for (var i = 0; i < n.commands.length; i++) {\n                var a = n.commands[i];\n                r += \"<tr>\", r += \"<td>\" + o.language.translate(a.desc) + \"</td>\", r += \"<td>\" + a.val.replace(\"OSkey\", o.helpers.isMac() ? \"&#8984;\" : \"Ctrl+\") + \"</td>\", r += \"</tr>\";\n              }\n\n              e += r += \"</tbody></table>\";\n            }\n\n            return e += \"</div>\";\n          }(),\n              n = o.modals.create(i, e, t);\n\n          r = n.$modal, n.$head, n.$body, o.events.$on(Ee(o.o_win), \"resize\", function () {\n            o.modals.resize(i);\n          });\n        }\n\n        o.modals.show(i), o.modals.resize(i);\n      },\n      hide: function hide() {\n        o.modals.hide(i);\n      }\n    };\n  }, Ee.FroalaEditor.DefineIcon(\"help\", {\n    NAME: \"question\"\n  }), Ee.FE.RegisterShortcut(Ee.FE.KEYCODE.SLASH, \"help\", null, \"/\"), Ee.FE.RegisterCommand(\"help\", {\n    title: \"Help\",\n    icon: \"help\",\n    undo: !1,\n    focus: !1,\n    modal: !0,\n    callback: function callback() {\n      this.help.show();\n    },\n    plugin: \"help\",\n    showOnMobile: !1\n  }), Ee.extend(Ee.FE.POPUP_TEMPLATES, {\n    \"image.insert\": \"[_BUTTONS_][_UPLOAD_LAYER_][_BY_URL_LAYER_][_PROGRESS_BAR_]\",\n    \"image.edit\": \"[_BUTTONS_]\",\n    \"image.alt\": \"[_BUTTONS_][_ALT_LAYER_]\",\n    \"image.size\": \"[_BUTTONS_][_SIZE_LAYER_]\"\n  }), Ee.extend(Ee.FE.DEFAULTS, {\n    imageInsertButtons: [\"imageBack\", \"|\", \"imageUpload\", \"imageByURL\"],\n    imageEditButtons: [\"imageReplace\", \"imageAlign\", \"imageCaption\", \"imageRemove\", \"|\", \"imageLink\", \"linkOpen\", \"linkEdit\", \"linkRemove\", \"-\", \"imageDisplay\", \"imageStyle\", \"imageAlt\", \"imageSize\"],\n    imageAltButtons: [\"imageBack\", \"|\"],\n    imageSizeButtons: [\"imageBack\", \"|\"],\n    imageUpload: !0,\n    imageUploadURL: null,\n    imageCORSProxy: \"https://cors-anywhere.froala.com\",\n    imageUploadRemoteUrls: !0,\n    imageUploadParam: \"file\",\n    imageUploadParams: {},\n    imageUploadToS3: !1,\n    imageUploadMethod: \"POST\",\n    imageMaxSize: 10485760,\n    imageAllowedTypes: [\"jpeg\", \"jpg\", \"png\", \"gif\", \"webp\"],\n    imageResize: !0,\n    imageResizeWithPercent: !1,\n    imageRoundPercent: !1,\n    imageDefaultWidth: 300,\n    imageDefaultAlign: \"center\",\n    imageDefaultDisplay: \"block\",\n    imageSplitHTML: !1,\n    imageStyles: {\n      \"fr-rounded\": \"Rounded\",\n      \"fr-bordered\": \"Bordered\",\n      \"fr-shadow\": \"Shadow\"\n    },\n    imageMove: !0,\n    imageMultipleStyles: !0,\n    imageTextNear: !0,\n    imagePaste: !0,\n    imagePasteProcess: !1,\n    imageMinWidth: 16,\n    imageOutputSize: !1,\n    imageDefaultMargin: 5,\n    imageAddNewLine: !1\n  }), Ee.FE.PLUGINS.image = function (f) {\n    var p,\n        l,\n        d,\n        c,\n        s,\n        n,\n        u = \"https://i.froala.com/upload\",\n        t = !1,\n        r = 1,\n        h = 2,\n        g = 3,\n        m = 4,\n        v = 5,\n        E = 6,\n        i = {};\n\n    function b() {\n      var e = f.popups.get(\"image.insert\").find(\".fr-image-by-url-layer input\");\n      e.val(\"\"), p && e.val(p.attr(\"src\")), e.trigger(\"change\");\n    }\n\n    function a() {\n      var e = f.popups.get(\"image.edit\");\n\n      if (e || (e = x()), e) {\n        var t = me();\n        ve() && (t = t.find(\".fr-img-wrap\")), f.popups.setContainer(\"image.edit\", f.$sc), f.popups.refresh(\"image.edit\");\n        var n = t.offset().left + t.outerWidth() / 2,\n            r = t.offset().top + t.outerHeight();\n        p.hasClass(\"fr-uploading\") ? w() : f.popups.show(\"image.edit\", n, r, t.outerHeight());\n      }\n    }\n\n    function T() {\n      N();\n    }\n\n    function e() {\n      for (var e, t, n = \"IMG\" == f.el.tagName ? [f.el] : f.el.querySelectorAll(\"img\"), r = 0; r < n.length; r++) {\n        var i = Ee(n[r]);\n        !f.opts.htmlUntouched && f.opts.useClasses ? ((f.opts.imageDefaultAlign || f.opts.imageDefaultDisplay) && (0 < (t = i).parents(\".fr-img-caption\").length && (t = t.parents(\".fr-img-caption:first\")), t.hasClass(\"fr-dii\") || t.hasClass(\"fr-dib\") || (t.addClass(\"fr-fi\" + fe(t)[0]), t.addClass(\"fr-di\" + pe(t)[0]), t.css(\"margin\", \"\"), t.css(\"float\", \"\"), t.css(\"display\", \"\"), t.css(\"z-index\", \"\"), t.css(\"position\", \"\"), t.css(\"overflow\", \"\"), t.css(\"vertical-align\", \"\"))), f.opts.imageTextNear || (0 < i.parents(\".fr-img-caption\").length ? i.parents(\".fr-img-caption:first\").removeClass(\"fr-dii\").addClass(\"fr-dib\") : i.removeClass(\"fr-dii\").addClass(\"fr-dib\"))) : f.opts.htmlUntouched || f.opts.useClasses || (f.opts.imageDefaultAlign || f.opts.imageDefaultDisplay) && (0 < (e = i).parents(\".fr-img-caption\").length && (e = e.parents(\".fr-img-caption:first\")), ce(e, e.hasClass(\"fr-dib\") ? \"block\" : e.hasClass(\"fr-dii\") ? \"inline\" : null, e.hasClass(\"fr-fil\") ? \"left\" : e.hasClass(\"fr-fir\") ? \"right\" : fe(e)), e.removeClass(\"fr-dib fr-dii fr-fir fr-fil\")), f.opts.iframe && i.on(\"load\", f.size.syncIframe);\n      }\n    }\n\n    function A(e) {\n      void 0 === e && (e = !0);\n      var t,\n          n = Array.prototype.slice.call(f.el.querySelectorAll(\"img\")),\n          r = [];\n\n      for (t = 0; t < n.length; t++) {\n        if (r.push(n[t].getAttribute(\"src\")), Ee(n[t]).toggleClass(\"fr-draggable\", f.opts.imageMove), \"\" === n[t].getAttribute(\"class\") && n[t].removeAttribute(\"class\"), \"\" === n[t].getAttribute(\"style\") && n[t].removeAttribute(\"style\"), n[t].parentNode && n[t].parentNode.parentNode && f.node.hasClass(n[t].parentNode.parentNode, \"fr-img-caption\")) {\n          var i = n[t].parentNode.parentNode;\n          f.browser.mozilla || i.setAttribute(\"contenteditable\", !1), i.setAttribute(\"draggable\", !1), i.classList.add(\"fr-draggable\");\n          var a = n[t].nextSibling;\n          a && !f.browser.mozilla && a.setAttribute(\"contenteditable\", !0);\n        }\n      }\n\n      if (s) for (t = 0; t < s.length; t++) {\n        r.indexOf(s[t].getAttribute(\"src\")) < 0 && f.events.trigger(\"image.removed\", [Ee(s[t])]);\n      }\n\n      if (s && e) {\n        var o = [];\n\n        for (t = 0; t < s.length; t++) {\n          o.push(s[t].getAttribute(\"src\"));\n        }\n\n        for (t = 0; t < n.length; t++) {\n          o.indexOf(n[t].getAttribute(\"src\")) < 0 && f.events.trigger(\"image.loaded\", [Ee(n[t])]);\n        }\n      }\n\n      s = n;\n    }\n\n    function C() {\n      if (l || function () {\n        var e;\n        f.shared.$image_resizer ? (l = f.shared.$image_resizer, c = f.shared.$img_overlay, f.events.on(\"destroy\", function () {\n          l.removeClass(\"fr-active\").appendTo(Ee(\"body:first\"));\n        }, !0)) : (f.shared.$image_resizer = Ee('<div class=\"fr-image-resizer\"></div>'), l = f.shared.$image_resizer, f.events.$on(l, \"mousedown\", function (e) {\n          e.stopPropagation();\n        }, !0), f.opts.imageResize && (l.append(o(\"nw\") + o(\"ne\") + o(\"sw\") + o(\"se\")), f.shared.$img_overlay = Ee('<div class=\"fr-image-overlay\"></div>'), c = f.shared.$img_overlay, e = l.get(0).ownerDocument, Ee(e).find(\"body:first\").append(c)));\n        f.events.on(\"shared.destroy\", function () {\n          l.html(\"\").removeData().remove(), l = null, f.opts.imageResize && (c.remove(), c = null);\n        }, !0), f.helpers.isMobile() || f.events.$on(Ee(f.o_win), \"resize\", function () {\n          p && !p.hasClass(\"fr-uploading\") ? oe(!0) : p && (C(), ue(), w(!1));\n        });\n\n        if (f.opts.imageResize) {\n          e = l.get(0).ownerDocument, f.events.$on(l, f._mousedown, \".fr-handler\", R), f.events.$on(Ee(e), f._mousemove, y), f.events.$on(Ee(e.defaultView || e.parentWindow), f._mouseup, _), f.events.$on(c, \"mouseleave\", _);\n          var r = 1,\n              i = null,\n              a = 0;\n          f.events.on(\"keydown\", function (e) {\n            if (p) {\n              var t = -1 != navigator.userAgent.indexOf(\"Mac OS X\") ? e.metaKey : e.ctrlKey,\n                  n = e.which;\n              (n !== i || 200 < e.timeStamp - a) && (r = 1), (n == Ee.FE.KEYCODE.EQUALS || f.browser.mozilla && n == Ee.FE.KEYCODE.FF_EQUALS) && t && !e.altKey ? r = j.call(this, e, 1, 1, r) : (n == Ee.FE.KEYCODE.HYPHEN || f.browser.mozilla && n == Ee.FE.KEYCODE.FF_HYPHEN) && t && !e.altKey ? r = j.call(this, e, 2, -1, r) : f.keys.ctrlKey(e) || n != Ee.FE.KEYCODE.ENTER || (p.before(\"<br>\"), I(p)), i = n, a = e.timeStamp;\n            }\n          }, !0), f.events.on(\"keyup\", function () {\n            r = 1;\n          });\n        }\n      }(), !p) return !1;\n      var e = f.$wp || f.$sc;\n      e.append(l), l.data(\"instance\", f);\n      var t = e.scrollTop() - (\"static\" != e.css(\"position\") ? e.offset().top : 0),\n          n = e.scrollLeft() - (\"static\" != e.css(\"position\") ? e.offset().left : 0);\n      n -= f.helpers.getPX(e.css(\"border-left-width\")), t -= f.helpers.getPX(e.css(\"border-top-width\")), f.$el.is(\"img\") && f.$sc.is(\"body\") && (n = t = 0);\n      var r = me();\n      ve() && (r = r.find(\".fr-img-wrap\")), l.css(\"top\", (f.opts.iframe ? r.offset().top : r.offset().top + t) - 1).css(\"left\", (f.opts.iframe ? r.offset().left : r.offset().left + n) - 1).css(\"width\", r.get(0).getBoundingClientRect().width).css(\"height\", r.get(0).getBoundingClientRect().height).addClass(\"fr-active\");\n    }\n\n    function o(e) {\n      return '<div class=\"fr-handler fr-h' + e + '\"></div>';\n    }\n\n    function S(e) {\n      ve() ? p.parents(\".fr-img-caption\").css(\"width\", e) : p.css(\"width\", e);\n    }\n\n    function R(e) {\n      if (!f.core.sameInstance(l)) return !0;\n      if (e.preventDefault(), e.stopPropagation(), f.$el.find(\"img.fr-error\").left) return !1;\n      f.undo.canDo() || f.undo.saveStep();\n      var t = e.pageX || e.originalEvent.touches[0].pageX;\n\n      if (\"mousedown\" == e.type) {\n        var n = f.$oel.get(0).ownerDocument,\n            r = n.defaultView || n.parentWindow,\n            i = !1;\n\n        try {\n          i = r.location != r.parent.location && !(r.$ && r.$.FE);\n        } catch (s) {}\n\n        i && r.frameElement && (t += f.helpers.getPX(Ee(r.frameElement).offset().left) + r.frameElement.clientLeft);\n      }\n\n      (d = Ee(this)).data(\"start-x\", t), d.data(\"start-width\", p.width()), d.data(\"start-height\", p.height());\n      var a = p.width();\n\n      if (f.opts.imageResizeWithPercent) {\n        var o = p.parentsUntil(f.$el, f.html.blockTagsQuery()).get(0) || f.el;\n        a = (a / Ee(o).outerWidth() * 100).toFixed(2) + \"%\";\n      }\n\n      S(a), c.show(), f.popups.hideAll(), de();\n    }\n\n    function y(e) {\n      if (!f.core.sameInstance(l)) return !0;\n      var t;\n\n      if (d && p) {\n        if (e.preventDefault(), f.$el.find(\"img.fr-error\").left) return !1;\n        var n = e.pageX || (e.originalEvent.touches ? e.originalEvent.touches[0].pageX : null);\n        if (!n) return !1;\n        var r = n - d.data(\"start-x\"),\n            i = d.data(\"start-width\");\n\n        if ((d.hasClass(\"fr-hnw\") || d.hasClass(\"fr-hsw\")) && (r = 0 - r), f.opts.imageResizeWithPercent) {\n          var a = p.parentsUntil(f.$el, f.html.blockTagsQuery()).get(0) || f.el;\n          i = ((i + r) / Ee(a).outerWidth() * 100).toFixed(2), f.opts.imageRoundPercent && (i = Math.round(i)), S(i + \"%\"), (t = ve() ? (f.helpers.getPX(p.parents(\".fr-img-caption\").css(\"width\")) / Ee(a).outerWidth() * 100).toFixed(2) : (f.helpers.getPX(p.css(\"width\")) / Ee(a).outerWidth() * 100).toFixed(2)) === i || f.opts.imageRoundPercent || S(t + \"%\"), p.css(\"height\", \"\").removeAttr(\"height\");\n        } else i + r >= f.opts.imageMinWidth && (S(i + r), t = ve() ? f.helpers.getPX(p.parents(\".fr-img-caption\").css(\"width\")) : f.helpers.getPX(p.css(\"width\"))), t !== i + r && S(t), ((p.attr(\"style\") || \"\").match(/(^height:)|(; *height:)/) || p.attr(\"height\")) && (p.css(\"height\", d.data(\"start-height\") * p.width() / d.data(\"start-width\")), p.removeAttr(\"height\"));\n\n        C(), f.events.trigger(\"image.resize\", [ge()]);\n      }\n    }\n\n    function _(e) {\n      if (!f.core.sameInstance(l)) return !0;\n\n      if (d && p) {\n        if (e && e.stopPropagation(), f.$el.find(\"img.fr-error\").left) return !1;\n        d = null, c.hide(), C(), a(), f.undo.saveStep(), f.events.trigger(\"image.resizeEnd\", [ge()]);\n      }\n    }\n\n    function L(e, t, n) {\n      f.edit.on(), p && p.addClass(\"fr-error\"), function (e) {\n        w();\n        var t = f.popups.get(\"image.insert\").find(\".fr-image-progress-bar-layer\");\n        t.addClass(\"fr-error\");\n        var n = t.find(\"h3\");\n        n.text(e), f.events.disableBlur(), n.focus();\n      }(f.language.translate(\"Something went wrong. Please try again.\")), !p && n && Q(n), f.events.trigger(\"image.error\", [{\n        code: e,\n        message: i[e]\n      }, t, n]);\n    }\n\n    function x(e) {\n      if (e) return f.$wp && f.events.$on(f.$wp, \"scroll.image-edit\", function () {\n        p && f.popups.isVisible(\"image.edit\") && (f.events.disableBlur(), a());\n      }), !0;\n      var t = \"\";\n\n      if (0 < f.opts.imageEditButtons.length) {\n        t += '<div class=\"fr-buttons\">', t += f.button.buildList(f.opts.imageEditButtons);\n        var n = {\n          buttons: t += \"</div>\"\n        };\n        return f.popups.create(\"image.edit\", n);\n      }\n\n      return !1;\n    }\n\n    function w(e) {\n      var t = f.popups.get(\"image.insert\");\n\n      if (t || (t = W()), t.find(\".fr-layer.fr-active\").removeClass(\"fr-active\").addClass(\"fr-pactive\"), t.find(\".fr-image-progress-bar-layer\").addClass(\"fr-active\"), t.find(\".fr-buttons\").hide(), p) {\n        var n = me();\n        f.popups.setContainer(\"image.insert\", f.$sc);\n        var r = n.offset().left + n.width() / 2,\n            i = n.offset().top + n.height();\n        f.popups.show(\"image.insert\", r, i, n.outerHeight());\n      }\n\n      void 0 === e && O(f.language.translate(\"Uploading\"), 0);\n    }\n\n    function N(e) {\n      var t = f.popups.get(\"image.insert\");\n\n      if (t && (t.find(\".fr-layer.fr-pactive\").addClass(\"fr-active\").removeClass(\"fr-pactive\"), t.find(\".fr-image-progress-bar-layer\").removeClass(\"fr-active\"), t.find(\".fr-buttons\").show(), e || f.$el.find(\"img.fr-error\").length)) {\n        if (f.events.focus(), f.$el.find(\"img.fr-error\").length && (f.$el.find(\"img.fr-error\").remove(), f.undo.saveStep(), f.undo.run(), f.undo.dropRedo()), !f.$wp && p) {\n          var n = p;\n          oe(!0), f.selection.setAfter(n.get(0)), f.selection.restore();\n        }\n\n        f.popups.hide(\"image.insert\");\n      }\n    }\n\n    function O(e, t) {\n      var n = f.popups.get(\"image.insert\");\n\n      if (n) {\n        var r = n.find(\".fr-image-progress-bar-layer\");\n        r.find(\"h3\").text(e + (t ? \" \" + t + \"%\" : \"\")), r.removeClass(\"fr-error\"), t ? (r.find(\"div\").removeClass(\"fr-indeterminate\"), r.find(\"div > span\").css(\"width\", t + \"%\")) : r.find(\"div\").addClass(\"fr-indeterminate\");\n      }\n    }\n\n    function I(e) {\n      ae.call(e.get(0));\n    }\n\n    function D() {\n      var e = Ee(this);\n      f.popups.hide(\"image.insert\"), e.removeClass(\"fr-uploading\"), e.next().is(\"br\") && e.next().remove(), I(e), f.events.trigger(\"image.loaded\", [e]);\n    }\n\n    function k(o, e, s, l, d) {\n      f.edit.off(), O(f.language.translate(\"Loading image\")), e && (o = f.helpers.sanitizeURL(o));\n      var t = new Image();\n      t.onload = function () {\n        var e, t;\n\n        if (l) {\n          f.undo.canDo() || l.hasClass(\"fr-uploading\") || f.undo.saveStep();\n          var n = l.data(\"fr-old-src\");\n          l.data(\"fr-image-pasted\") && (n = null), f.$wp ? ((e = l.clone().removeData(\"fr-old-src\").removeClass(\"fr-uploading\").removeAttr(\"data-fr-image-pasted\")).off(\"load\"), n && l.attr(\"src\", n), l.replaceWith(e)) : e = l;\n\n          for (var r = e.get(0).attributes, i = 0; i < r.length; i++) {\n            var a = r[i];\n            0 === a.nodeName.indexOf(\"data-\") && e.removeAttr(a.nodeName);\n          }\n\n          if (void 0 !== s) for (t in s) {\n            s.hasOwnProperty(t) && \"link\" != t && e.attr(\"data-\" + t, s[t]);\n          }\n          e.on(\"load\", D), e.attr(\"src\", o), f.edit.on(), A(!1), f.undo.saveStep(), f.events.disableBlur(), f.$el.blur(), f.events.trigger(n ? \"image.replaced\" : \"image.inserted\", [e, d]);\n        } else e = B(o, s, D), A(!1), f.undo.saveStep(), f.events.disableBlur(), f.$el.blur(), f.events.trigger(\"image.inserted\", [e, d]);\n      }, t.onerror = function () {\n        L(r);\n      }, w(f.language.translate(\"Loading image\")), t.src = o;\n    }\n\n    function F(e) {\n      O(f.language.translate(\"Loading image\"));\n      var t = this.status,\n          n = this.response,\n          r = this.responseXML,\n          i = this.responseText;\n\n      try {\n        if (f.opts.imageUploadToS3) {\n          if (201 == t) {\n            var a = function (e) {\n              try {\n                var t = Ee(e).find(\"Location\").text(),\n                    n = Ee(e).find(\"Key\").text();\n                return !1 === f.events.trigger(\"image.uploadedToS3\", [t, n, e], !0) ? (f.edit.on(), !1) : t;\n              } catch (r) {\n                return L(m, e), !1;\n              }\n            }(r);\n\n            a && k(a, !1, [], e, n || r);\n          } else L(m, n || r, e);\n        } else if (200 <= t && t < 300) {\n          var o = function (e) {\n            try {\n              if (!1 === f.events.trigger(\"image.uploaded\", [e], !0)) return f.edit.on(), !1;\n              var t = JSON.parse(e);\n              return t.link ? t : (L(h, e), !1);\n            } catch (n) {\n              return L(m, e), !1;\n            }\n          }(i);\n\n          o && k(o.link, !1, o, e, n || i);\n        } else L(g, n || i, e);\n      } catch (s) {\n        L(m, n || i, e);\n      }\n    }\n\n    function M() {\n      L(m, this.response || this.responseText || this.responseXML);\n    }\n\n    function $(e) {\n      if (e.lengthComputable) {\n        var t = e.loaded / e.total * 100 | 0;\n        O(f.language.translate(\"Uploading\"), t);\n      }\n    }\n\n    function B(e, t, n) {\n      var r,\n          i = \"\";\n      if (t && void 0 !== t) for (r in t) {\n        t.hasOwnProperty(r) && \"link\" != r && (i += \" data-\" + r + '=\"' + t[r] + '\"');\n      }\n      var a = f.opts.imageDefaultWidth;\n      a && \"auto\" != a && (a += f.opts.imageResizeWithPercent ? \"%\" : \"px\");\n      var o = Ee('<img src=\"' + e + '\"' + i + (a ? ' style=\"width: ' + a + ';\"' : \"\") + \">\");\n      ce(o, f.opts.imageDefaultDisplay, f.opts.imageDefaultAlign), o.on(\"load\", n), o.on(\"error\", n), f.edit.on(), f.events.focus(!0), f.selection.restore(), f.undo.saveStep(), f.opts.imageSplitHTML ? f.markers.split() : f.markers.insert(), f.html.wrap();\n      var s = f.$el.find(\".fr-marker\");\n      return s.length ? (s.parent().is(\"hr\") && s.parent().after(s), f.node.isLastSibling(s) && s.parent().hasClass(\"fr-deletable\") && s.insertAfter(s.parent()), s.replaceWith(o)) : f.$el.append(o), f.selection.clear(), o;\n    }\n\n    function P() {\n      f.edit.on(), N(!0);\n    }\n\n    function U(e, t) {\n      if (void 0 !== e && 0 < e.length) {\n        if (!1 === f.events.trigger(\"image.beforeUpload\", [e, t])) return !1;\n        var n,\n            r = e[0];\n        if ((null === f.opts.imageUploadURL || f.opts.imageUploadURL == u) && !f.opts.imageUploadToS3) return o = r, s = t || p, (l = new FileReader()).onload = function () {\n          var e = l.result;\n\n          if (l.result.indexOf(\"svg+xml\") < 0) {\n            for (var t = atob(l.result.split(\",\")[1]), n = [], r = 0; r < t.length; r++) {\n              n.push(t.charCodeAt(r));\n            }\n\n            e = window.URL.createObjectURL(new Blob([new Uint8Array(n)], {\n              type: o.type\n            })), f.image.insert(e, !1, null, s);\n          }\n        }, w(), l.readAsDataURL(o), !1;\n        if (r.name || (r.name = new Date().getTime() + \".\" + (r.type || \"image/jpeg\").replace(/image\\//g, \"\")), r.size > f.opts.imageMaxSize) return L(v), !1;\n        if (f.opts.imageAllowedTypes.indexOf(r.type.replace(/image\\//g, \"\")) < 0) return L(E), !1;\n\n        if (f.drag_support.formdata && (n = f.drag_support.formdata ? new FormData() : null), n) {\n          var i;\n          if (!1 !== f.opts.imageUploadToS3) for (i in n.append(\"key\", f.opts.imageUploadToS3.keyStart + new Date().getTime() + \"-\" + (r.name || \"untitled\")), n.append(\"success_action_status\", \"201\"), n.append(\"X-Requested-With\", \"xhr\"), n.append(\"Content-Type\", r.type), f.opts.imageUploadToS3.params) {\n            f.opts.imageUploadToS3.params.hasOwnProperty(i) && n.append(i, f.opts.imageUploadToS3.params[i]);\n          }\n\n          for (i in f.opts.imageUploadParams) {\n            f.opts.imageUploadParams.hasOwnProperty(i) && n.append(i, f.opts.imageUploadParams[i]);\n          }\n\n          n.append(f.opts.imageUploadParam, r, r.name);\n          var a = f.opts.imageUploadURL;\n          f.opts.imageUploadToS3 && (a = f.opts.imageUploadToS3.uploadURL ? f.opts.imageUploadToS3.uploadURL : \"https://\" + f.opts.imageUploadToS3.region + \".amazonaws.com/\" + f.opts.imageUploadToS3.bucket), function (t, n, e, i) {\n            function a() {\n              var e = Ee(this);\n              e.off(\"load\"), e.addClass(\"fr-uploading\"), e.next().is(\"br\") && e.next().remove(), f.placeholder.refresh(), I(e), C(), w(), f.edit.off(), t.onload = function () {\n                F.call(t, e);\n              }, t.onerror = M, t.upload.onprogress = $, t.onabort = P, e.off(\"abortUpload\").on(\"abortUpload\", function () {\n                4 != t.readyState && t.abort();\n              }), t.send(n);\n            }\n\n            var o = new FileReader();\n            o.onload = function () {\n              var e = o.result;\n\n              if (o.result.indexOf(\"svg+xml\") < 0) {\n                for (var t = atob(o.result.split(\",\")[1]), n = [], r = 0; r < t.length; r++) {\n                  n.push(t.charCodeAt(r));\n                }\n\n                e = window.URL.createObjectURL(new Blob([new Uint8Array(n)], {\n                  type: \"image/jpeg\"\n                }));\n              }\n\n              i ? (i.on(\"load\", a), i.one(\"error\", a), f.edit.on(), f.undo.saveStep(), i.data(\"fr-old-src\", i.attr(\"src\")), i.attr(\"src\", e)) : B(e, null, a);\n            }, o.readAsDataURL(e);\n          }(f.core.getXHR(a, f.opts.imageUploadMethod), n, r, t || p);\n        }\n      }\n\n      var o, s, l;\n    }\n\n    function K(e) {\n      if (e.is(\"img\") && 0 < e.parents(\".fr-img-caption\").length) return e.parents(\".fr-img-caption\");\n    }\n\n    function H(e) {\n      var t = e.originalEvent.dataTransfer;\n\n      if (t && t.files && t.files.length) {\n        var n = t.files[0];\n\n        if (n && n.type && -1 !== n.type.indexOf(\"image\") && 0 <= f.opts.imageAllowedTypes.indexOf(n.type.replace(/image\\//g, \"\"))) {\n          if (!f.opts.imageUpload) return e.preventDefault(), e.stopPropagation(), !1;\n          f.markers.remove(), f.markers.insertAtPoint(e.originalEvent), f.$el.find(\".fr-marker\").replaceWith(Ee.FE.MARKERS), 0 === f.$el.find(\".fr-marker\").length && f.selection.setAtEnd(f.el), f.popups.hideAll();\n          var r = f.popups.get(\"image.insert\");\n          r || (r = W()), f.popups.setContainer(\"image.insert\", f.$sc);\n          var i = e.originalEvent.pageX,\n              a = e.originalEvent.pageY;\n          return f.opts.iframe && (a += f.$iframe.offset().top, i += f.$iframe.offset().left), f.popups.show(\"image.insert\", i, a), w(), 0 <= f.opts.imageAllowedTypes.indexOf(n.type.replace(/image\\//g, \"\")) ? (oe(!0), U(t.files)) : L(E), e.preventDefault(), e.stopPropagation(), !1;\n        }\n      }\n    }\n\n    function W(e) {\n      if (e) return f.popups.onRefresh(\"image.insert\", b), f.popups.onHide(\"image.insert\", T), !0;\n      var t,\n          n,\n          r = \"\";\n      f.opts.imageUpload || -1 === f.opts.imageInsertButtons.indexOf(\"imageUpload\") || f.opts.imageInsertButtons.splice(f.opts.imageInsertButtons.indexOf(\"imageUpload\"), 1);\n      var i = f.button.buildList(f.opts.imageInsertButtons);\n      \"\" !== i && (r = '<div class=\"fr-buttons\">' + i + \"</div>\");\n      var a = f.opts.imageInsertButtons.indexOf(\"imageUpload\"),\n          o = f.opts.imageInsertButtons.indexOf(\"imageByURL\"),\n          s = \"\";\n      0 <= a && (t = \" fr-active\", 0 <= o && o < a && (t = \"\"), s = '<div class=\"fr-image-upload-layer' + t + ' fr-layer\" id=\"fr-image-upload-layer-' + f.id + '\"><strong>' + f.language.translate(\"Drop image\") + \"</strong><br>(\" + f.language.translate(\"or click\") + ')<div class=\"fr-form\"><input type=\"file\" accept=\"image/' + f.opts.imageAllowedTypes.join(\", image/\").toLowerCase() + '\" tabIndex=\"-1\" aria-labelledby=\"fr-image-upload-layer-' + f.id + '\" role=\"button\"></div></div>');\n      var l = \"\";\n      0 <= o && (t = \" fr-active\", 0 <= a && a < o && (t = \"\"), l = '<div class=\"fr-image-by-url-layer' + t + ' fr-layer\" id=\"fr-image-by-url-layer-' + f.id + '\"><div class=\"fr-input-line\"><input id=\"fr-image-by-url-layer-text-' + f.id + '\" type=\"text\" placeholder=\"http://\" tabIndex=\"1\" aria-required=\"true\"></div><div class=\"fr-action-buttons\"><button type=\"button\" class=\"fr-command fr-submit\" data-cmd=\"imageInsertByURL\" tabIndex=\"2\" role=\"button\">' + f.language.translate(\"Insert\") + \"</button></div></div>\");\n      var d,\n          c = {\n        buttons: r,\n        upload_layer: s,\n        by_url_layer: l,\n        progress_bar: '<div class=\"fr-image-progress-bar-layer fr-layer\"><h3 tabIndex=\"-1\" class=\"fr-message\">Uploading</h3><div class=\"fr-loader\"><span class=\"fr-progress\"></span></div><div class=\"fr-action-buttons\"><button type=\"button\" class=\"fr-command fr-dismiss\" data-cmd=\"imageDismissError\" tabIndex=\"2\" role=\"button\">OK</button></div></div>'\n      };\n      return 1 <= f.opts.imageInsertButtons.length && (n = f.popups.create(\"image.insert\", c)), f.$wp && f.events.$on(f.$wp, \"scroll\", function () {\n        p && f.popups.isVisible(\"image.insert\") && ue();\n      }), d = n, f.events.$on(d, \"dragover dragenter\", \".fr-image-upload-layer\", function () {\n        return Ee(this).addClass(\"fr-drop\"), !1;\n      }, !0), f.events.$on(d, \"dragleave dragend\", \".fr-image-upload-layer\", function () {\n        return Ee(this).removeClass(\"fr-drop\"), !1;\n      }, !0), f.events.$on(d, \"drop\", \".fr-image-upload-layer\", function (e) {\n        e.preventDefault(), e.stopPropagation(), Ee(this).removeClass(\"fr-drop\");\n        var t = e.originalEvent.dataTransfer;\n\n        if (t && t.files) {\n          var n = d.data(\"instance\") || f;\n          n.events.disableBlur(), n.image.upload(t.files), n.events.enableBlur();\n        }\n      }, !0), f.helpers.isIOS() && f.events.$on(d, \"touchstart\", '.fr-image-upload-layer input[type=\"file\"]', function () {\n        Ee(this).trigger(\"click\");\n      }, !0), f.events.$on(d, \"change\", '.fr-image-upload-layer input[type=\"file\"]', function () {\n        if (this.files) {\n          var e = d.data(\"instance\") || f;\n          e.events.disableBlur(), d.find(\"input:focus\").blur(), e.events.enableBlur(), e.image.upload(this.files, p);\n        }\n\n        Ee(this).val(\"\");\n      }, !0), n;\n    }\n\n    function z() {\n      p && f.popups.get(\"image.alt\").find(\"input\").val(p.attr(\"alt\") || \"\").trigger(\"change\");\n    }\n\n    function Y() {\n      var e = f.popups.get(\"image.alt\");\n      e || (e = G()), N(), f.popups.refresh(\"image.alt\"), f.popups.setContainer(\"image.alt\", f.$sc);\n      var t = me();\n      ve() && (t = t.find(\".fr-img-wrap\"));\n      var n = t.offset().left + t.outerWidth() / 2,\n          r = t.offset().top + t.outerHeight();\n      f.popups.show(\"image.alt\", n, r, t.outerHeight());\n    }\n\n    function G(e) {\n      if (e) return f.popups.onRefresh(\"image.alt\", z), !0;\n      var t = {\n        buttons: '<div class=\"fr-buttons\">' + f.button.buildList(f.opts.imageAltButtons) + \"</div>\",\n        alt_layer: '<div class=\"fr-image-alt-layer fr-layer fr-active\" id=\"fr-image-alt-layer-' + f.id + '\"><div class=\"fr-input-line\"><input id=\"fr-image-alt-layer-text-' + f.id + '\" type=\"text\" placeholder=\"' + f.language.translate(\"Alternative Text\") + '\" tabIndex=\"1\"></div><div class=\"fr-action-buttons\"><button type=\"button\" class=\"fr-command fr-submit\" data-cmd=\"imageSetAlt\" tabIndex=\"2\" role=\"button\">' + f.language.translate(\"Update\") + \"</button></div></div>\"\n      },\n          n = f.popups.create(\"image.alt\", t);\n      return f.$wp && f.events.$on(f.$wp, \"scroll.image-alt\", function () {\n        p && f.popups.isVisible(\"image.alt\") && Y();\n      }), n;\n    }\n\n    function V() {\n      var e = f.popups.get(\"image.size\");\n      if (p) if (ve()) {\n        var t = p.parent();\n        t.get(0).style.width || (t = p.parent().parent()), e.find('input[name=\"width\"]').val(t.get(0).style.width).trigger(\"change\"), e.find('input[name=\"height\"]').val(t.get(0).style.height).trigger(\"change\");\n      } else e.find('input[name=\"width\"]').val(p.get(0).style.width).trigger(\"change\"), e.find('input[name=\"height\"]').val(p.get(0).style.height).trigger(\"change\");\n    }\n\n    function X() {\n      var e = f.popups.get(\"image.size\");\n      e || (e = q()), N(), f.popups.refresh(\"image.size\"), f.popups.setContainer(\"image.size\", f.$sc);\n      var t = me();\n      ve() && (t = t.find(\".fr-img-wrap\"));\n      var n = t.offset().left + t.outerWidth() / 2,\n          r = t.offset().top + t.outerHeight();\n      f.popups.show(\"image.size\", n, r, t.outerHeight());\n    }\n\n    function q(e) {\n      if (e) return f.popups.onRefresh(\"image.size\", V), !0;\n      var t = {\n        buttons: '<div class=\"fr-buttons\">' + f.button.buildList(f.opts.imageSizeButtons) + \"</div>\",\n        size_layer: '<div class=\"fr-image-size-layer fr-layer fr-active\" id=\"fr-image-size-layer-' + f.id + '\"><div class=\"fr-image-group\"><div class=\"fr-input-line\"><input id=\"fr-image-size-layer-width-' + f.id + '\" type=\"text\" name=\"width\" placeholder=\"' + f.language.translate(\"Width\") + '\" tabIndex=\"1\"></div><div class=\"fr-input-line\"><input id=\"fr-image-size-layer-height' + f.id + '\" type=\"text\" name=\"height\" placeholder=\"' + f.language.translate(\"Height\") + '\" tabIndex=\"1\"></div></div><div class=\"fr-action-buttons\"><button type=\"button\" class=\"fr-command fr-submit\" data-cmd=\"imageSetSize\" tabIndex=\"2\" role=\"button\">' + f.language.translate(\"Update\") + \"</button></div></div>\"\n      },\n          n = f.popups.create(\"image.size\", t);\n      return f.$wp && f.events.$on(f.$wp, \"scroll.image-size\", function () {\n        p && f.popups.isVisible(\"image.size\") && X();\n      }), n;\n    }\n\n    function j(e, t, n, r) {\n      return e.pageX = t, R.call(this, e), e.pageX = e.pageX + n * Math.floor(Math.pow(1.1, r)), y.call(this, e), _.call(this, e), ++r;\n    }\n\n    function Q(e) {\n      (e = e || me()) && !1 !== f.events.trigger(\"image.beforeRemove\", [e]) && (f.popups.hideAll(), he(), oe(!0), f.undo.canDo() || f.undo.saveStep(), e.get(0) == f.el ? e.removeAttr(\"src\") : (e.get(0).parentNode && \"A\" == e.get(0).parentNode.tagName ? (f.selection.setBefore(e.get(0).parentNode) || f.selection.setAfter(e.get(0).parentNode) || e.parent().after(Ee.FE.MARKERS), Ee(e.get(0).parentNode).remove()) : (f.selection.setBefore(e.get(0)) || f.selection.setAfter(e.get(0)) || e.after(Ee.FE.MARKERS), e.remove()), f.html.fillEmptyBlocks(), f.selection.restore()), f.undo.saveStep());\n    }\n\n    function Z(e) {\n      var t = e.which;\n      if (p && (t == Ee.FE.KEYCODE.BACKSPACE || t == Ee.FE.KEYCODE.DELETE)) return e.preventDefault(), e.stopPropagation(), Q(), !1;\n\n      if (p && t == Ee.FE.KEYCODE.ESC) {\n        var n = p;\n        return oe(!0), f.selection.setAfter(n.get(0)), f.selection.restore(), e.preventDefault(), !1;\n      }\n\n      if (p && (t == Ee.FE.KEYCODE.ARROW_LEFT || t == Ee.FE.KEYCODE.ARROW_RIGHT)) {\n        var r = p.get(0);\n        return oe(!0), t == Ee.FE.KEYCODE.ARROW_LEFT ? f.selection.setBefore(r) : f.selection.setAfter(r), f.selection.restore(), e.preventDefault(), !1;\n      }\n\n      return p && t != Ee.FE.KEYCODE.F10 && !f.keys.isBrowserAction(e) ? (e.preventDefault(), e.stopPropagation(), !1) : void 0;\n    }\n\n    function J(e) {\n      if (e && \"IMG\" == e.tagName) {\n        if (f.node.hasClass(e, \"fr-uploading\") || f.node.hasClass(e, \"fr-error\") ? e.parentNode.removeChild(e) : f.node.hasClass(e, \"fr-draggable\") && e.classList.remove(\"fr-draggable\"), e.parentNode && e.parentNode.parentNode && f.node.hasClass(e.parentNode.parentNode, \"fr-img-caption\")) {\n          var t = e.parentNode.parentNode;\n          t.removeAttribute(\"contenteditable\"), t.removeAttribute(\"draggable\"), t.classList.remove(\"fr-draggable\");\n          var n = e.nextSibling;\n          n && n.removeAttribute(\"contenteditable\");\n        }\n      } else if (e && e.nodeType == Node.ELEMENT_NODE) for (var r = e.querySelectorAll(\"img.fr-uploading, img.fr-error, img.fr-draggable\"), i = 0; i < r.length; i++) {\n        J(r[i]);\n      }\n    }\n\n    function ee(e) {\n      if (!1 === f.events.trigger(\"image.beforePasteUpload\", [e])) return !1;\n      p = Ee(e), C(), a(), ue(), w(), p.one(\"load\", function () {\n        C(), w();\n      });\n\n      for (var t = Ee(e).attr(\"src\").split(\",\"), n = atob(t[1]), r = [], i = 0; i < n.length; i++) {\n        r.push(n.charCodeAt(i));\n      }\n\n      U([new Blob([new Uint8Array(r)], {\n        type: t[0].replace(/data\\:/g, \"\").replace(/;base64/g, \"\")\n      })], p);\n    }\n\n    function te() {\n      f.opts.imagePaste ? f.$el.find(\"img[data-fr-image-pasted]\").each(function (e, n) {\n        if (f.opts.imagePasteProcess) {\n          var t = f.opts.imageDefaultWidth;\n          t && \"auto\" != t && (t += f.opts.imageResizeWithPercent ? \"%\" : \"px\"), Ee(n).css(\"width\", t).removeClass(\"fr-dii fr-dib fr-fir fr-fil\"), ce(Ee(n), f.opts.imageDefaultDisplay, f.opts.imageDefaultAlign);\n        }\n\n        if (0 === n.src.indexOf(\"data:\")) ee(n);else if (0 === n.src.indexOf(\"blob:\") || 0 === n.src.indexOf(\"http\") && f.opts.imageUploadRemoteUrls && f.opts.imageCORSProxy) {\n          var r = new Image();\n          r.crossOrigin = \"Anonymous\", r.onload = function () {\n            var e = f.o_doc.createElement(\"CANVAS\"),\n                t = e.getContext(\"2d\");\n            e.height = this.naturalHeight, e.width = this.naturalWidth, t.drawImage(this, 0, 0), setTimeout(function () {\n              ee(n);\n            }, 0), n.src = e.toDataURL(\"image/jpeg\");\n          }, r.src = (0 === n.src.indexOf(\"blob:\") ? \"\" : f.opts.imageCORSProxy + \"/\") + n.src;\n        } else 0 !== n.src.indexOf(\"http\") || 0 === n.src.indexOf(\"https://mail.google.com/mail\") ? (f.selection.save(), Ee(n).remove(), f.selection.restore()) : Ee(n).removeAttr(\"data-fr-image-pasted\");\n      }) : f.$el.find(\"img[data-fr-image-pasted]\").remove();\n    }\n\n    function ne(e) {\n      var t = e.target.result,\n          n = f.opts.imageDefaultWidth;\n      n && \"auto\" != n && (n += f.opts.imageResizeWithPercent ? \"%\" : \"px\"), f.undo.saveStep(), f.html.insert('<img data-fr-image-pasted=\"true\" src=\"' + t + '\"' + (n ? ' style=\"width: ' + n + ';\"' : \"\") + \">\");\n      var r = f.$el.find('img[data-fr-image-pasted=\"true\"]');\n      r && ce(r, f.opts.imageDefaultDisplay, f.opts.imageDefaultAlign), f.events.trigger(\"paste.after\");\n    }\n\n    function re(e) {\n      if (e && e.clipboardData && e.clipboardData.items) {\n        var t = null;\n        if (e.clipboardData.types && -1 != e.clipboardData.types.indexOf(\"text/rtf\") || e.clipboardData.getData(\"text/rtf\")) t = e.clipboardData.items[0].getAsFile();else for (var n = 0; n < e.clipboardData.items.length && !(t = e.clipboardData.items[n].getAsFile()); n++) {\n          ;\n        }\n        if (t) return r = t, (i = new FileReader()).onload = ne, i.readAsDataURL(r), !1;\n      }\n\n      var r, i;\n    }\n\n    function ie(e) {\n      return e = e.replace(/<img /gi, '<img data-fr-image-pasted=\"true\" ');\n    }\n\n    function ae(e) {\n      if (\"false\" == Ee(this).parents(\"[contenteditable]:not(.fr-element):not(.fr-img-caption):not(body):first\").attr(\"contenteditable\")) return !0;\n      if (e && \"touchend\" == e.type && n) return !0;\n      if (e && f.edit.isDisabled()) return e.stopPropagation(), e.preventDefault(), !1;\n\n      for (var t = 0; t < Ee.FE.INSTANCES.length; t++) {\n        Ee.FE.INSTANCES[t] != f && Ee.FE.INSTANCES[t].events.trigger(\"image.hideResizer\");\n      }\n\n      f.toolbar.disable(), e && (e.stopPropagation(), e.preventDefault()), f.helpers.isMobile() && (f.events.disableBlur(), f.$el.blur(), f.events.enableBlur()), f.opts.iframe && f.size.syncIframe(), p = Ee(this), he(), C(), a(), f.browser.msie ? (f.popups.areVisible() && f.events.disableBlur(), f.win.getSelection && (f.win.getSelection().removeAllRanges(), f.win.getSelection().addRange(f.doc.createRange()))) : f.selection.clear(), f.helpers.isIOS() && (f.events.disableBlur(), f.$el.blur()), f.button.bulkRefresh(), f.events.trigger(\"video.hideResizer\");\n    }\n\n    function oe(e) {\n      p && (se || !0 === e) && (f.toolbar.enable(), l.removeClass(\"fr-active\"), f.popups.hide(\"image.edit\"), p = null, de(), d = null, c && c.hide());\n    }\n\n    i[r] = \"Image cannot be loaded from the passed link.\", i[h] = \"No link in upload response.\", i[g] = \"Error during file upload.\", i[m] = \"Parsing response failed.\", i[v] = \"File is too large.\", i[E] = \"Image file type is invalid.\", i[7] = \"Files can be uploaded only to same domain in IE 8 and IE 9.\";\n    var se = !(i[8] = \"Image file is corrupted.\");\n\n    function le() {\n      se = !0;\n    }\n\n    function de() {\n      se = !1;\n    }\n\n    function ce(e, t, n) {\n      !f.opts.htmlUntouched && f.opts.useClasses ? (e.removeClass(\"fr-fil fr-fir fr-dib fr-dii\"), n && e.addClass(\"fr-fi\" + n[0]), t && e.addClass(\"fr-di\" + t[0])) : \"inline\" == t ? (e.css({\n        display: \"inline-block\",\n        verticalAlign: \"bottom\",\n        margin: f.opts.imageDefaultMargin\n      }), \"center\" == n ? e.css({\n        \"float\": \"none\",\n        marginBottom: \"\",\n        marginTop: \"\",\n        maxWidth: \"calc(100% - \" + 2 * f.opts.imageDefaultMargin + \"px)\",\n        textAlign: \"center\"\n      }) : \"left\" == n ? e.css({\n        \"float\": \"left\",\n        marginLeft: 0,\n        maxWidth: \"calc(100% - \" + f.opts.imageDefaultMargin + \"px)\",\n        textAlign: \"left\"\n      }) : e.css({\n        \"float\": \"right\",\n        marginRight: 0,\n        maxWidth: \"calc(100% - \" + f.opts.imageDefaultMargin + \"px)\",\n        textAlign: \"right\"\n      })) : \"block\" == t && (e.css({\n        display: \"block\",\n        \"float\": \"none\",\n        verticalAlign: \"top\",\n        margin: f.opts.imageDefaultMargin + \"px auto\",\n        textAlign: \"center\"\n      }), \"left\" == n ? e.css({\n        marginLeft: 0,\n        textAlign: \"left\"\n      }) : \"right\" == n && e.css({\n        marginRight: 0,\n        textAlign: \"right\"\n      }));\n    }\n\n    function fe(e) {\n      if (void 0 === e && (e = me()), e) {\n        if (e.hasClass(\"fr-fil\")) return \"left\";\n        if (e.hasClass(\"fr-fir\")) return \"right\";\n        if (e.hasClass(\"fr-dib\") || e.hasClass(\"fr-dii\")) return \"center\";\n        var t = e.css(\"float\");\n\n        if (e.css(\"float\", \"none\"), \"block\" == e.css(\"display\")) {\n          if (e.css(\"float\", \"\"), e.css(\"float\") != t && e.css(\"float\", t), 0 === parseInt(e.css(\"margin-left\"), 10)) return \"left\";\n          if (0 === parseInt(e.css(\"margin-right\"), 10)) return \"right\";\n        } else {\n          if (e.css(\"float\", \"\"), e.css(\"float\") != t && e.css(\"float\", t), \"left\" == e.css(\"float\")) return \"left\";\n          if (\"right\" == e.css(\"float\")) return \"right\";\n        }\n      }\n\n      return \"center\";\n    }\n\n    function pe(e) {\n      void 0 === e && (e = me());\n      var t = e.css(\"float\");\n      return e.css(\"float\", \"none\"), \"block\" == e.css(\"display\") ? (e.css(\"float\", \"\"), e.css(\"float\") != t && e.css(\"float\", t), \"block\") : (e.css(\"float\", \"\"), e.css(\"float\") != t && e.css(\"float\", t), \"inline\");\n    }\n\n    function ue() {\n      var e = f.popups.get(\"image.insert\");\n      e || (e = W()), f.popups.isVisible(\"image.insert\") || (N(), f.popups.refresh(\"image.insert\"), f.popups.setContainer(\"image.insert\", f.$sc));\n      var t = me();\n      ve() && (t = t.find(\".fr-img-wrap\"));\n      var n = t.offset().left + t.outerWidth() / 2,\n          r = t.offset().top + t.outerHeight();\n      f.popups.show(\"image.insert\", n, r, t.outerHeight(!0));\n    }\n\n    function he() {\n      if (p) {\n        f.events.disableBlur(), f.selection.clear();\n        var e = f.doc.createRange();\n        e.selectNode(p.get(0)), f.browser.msie && e.collapse(!0), f.selection.get().addRange(e), f.events.enableBlur();\n      }\n    }\n\n    function ge() {\n      return p;\n    }\n\n    function me() {\n      return ve() ? p.parents(\".fr-img-caption:first\") : p;\n    }\n\n    function ve() {\n      return !!p && 0 < p.parents(\".fr-img-caption\").length;\n    }\n\n    return {\n      _init: function _init() {\n        var r;\n        f.events.$on(f.$el, f._mousedown, \"IMG\" == f.el.tagName ? null : 'img:not([contenteditable=\"false\"])', function (e) {\n          if (\"false\" == Ee(this).parents(\"[contenteditable]:not(.fr-element):not(.fr-img-caption):not(body):first\").attr(\"contenteditable\")) return !0;\n          f.helpers.isMobile() || f.selection.clear(), t = !0, f.popups.areVisible() && f.events.disableBlur(), f.browser.msie && (f.events.disableBlur(), f.$el.attr(\"contenteditable\", !1)), f.draggable || \"touchstart\" == e.type || e.preventDefault(), e.stopPropagation();\n        }), f.events.$on(f.$el, f._mouseup, \"IMG\" == f.el.tagName ? null : 'img:not([contenteditable=\"false\"])', function (e) {\n          if (\"false\" == Ee(this).parents(\"[contenteditable]:not(.fr-element):not(.fr-img-caption):not(body):first\").attr(\"contenteditable\")) return !0;\n          t && (t = !1, e.stopPropagation(), f.browser.msie && (f.$el.attr(\"contenteditable\", !0), f.events.enableBlur()));\n        }), f.events.on(\"keyup\", function (e) {\n          if (e.shiftKey && \"\" === f.selection.text().replace(/\\n/g, \"\") && f.keys.isArrow(e.which)) {\n            var t = f.selection.element(),\n                n = f.selection.endElement();\n            t && \"IMG\" == t.tagName ? I(Ee(t)) : n && \"IMG\" == n.tagName && I(Ee(n));\n          }\n        }, !0), f.events.on(\"drop\", H), f.events.on(\"element.beforeDrop\", K), f.events.on(\"mousedown window.mousedown\", le), f.events.on(\"window.touchmove\", de), f.events.on(\"mouseup window.mouseup\", function () {\n          if (p) return oe(), !1;\n          de();\n        }), f.events.on(\"commands.mousedown\", function (e) {\n          0 < e.parents(\".fr-toolbar\").length && oe();\n        }), f.events.on(\"image.resizeEnd\", function () {\n          f.opts.iframe && f.size.syncIframe();\n        }), f.events.on(\"blur image.hideResizer commands.undo commands.redo element.dropped\", function () {\n          oe(!(t = !1));\n        }), f.events.on(\"modals.hide\", function () {\n          p && (he(), f.selection.clear());\n        }), f.events.on(\"image.resizeEnd\", function () {\n          f.win.getSelection && I(p);\n        }), f.opts.imageAddNewLine && f.events.on(\"image.inserted\", function (e) {\n          var t = e.get(0);\n\n          for (t.nextSibling && \"BR\" === t.nextSibling.tagName && (t = t.nextSibling); t && !f.node.isElement(t);) {\n            t = f.node.isLastSibling(t) ? t.parentNode : null;\n          }\n\n          f.node.isElement(t) && (f.opts.enter === Ee.FE.ENTER_BR ? e.after(\"<br>\") : Ee(f.node.blockParent(e.get(0))).after(\"<\" + f.html.defaultTag() + \"><br></\" + f.html.defaultTag() + \">\"));\n        }), \"IMG\" == f.el.tagName && f.$el.addClass(\"fr-view\"), f.events.$on(f.$el, f.helpers.isMobile() && !f.helpers.isWindowsPhone() ? \"touchend\" : \"click\", \"IMG\" == f.el.tagName ? null : 'img:not([contenteditable=\"false\"])', ae), f.helpers.isMobile() && (f.events.$on(f.$el, \"touchstart\", \"IMG\" == f.el.tagName ? null : 'img:not([contenteditable=\"false\"])', function () {\n          n = !1;\n        }), f.events.$on(f.$el, \"touchmove\", function () {\n          n = !0;\n        })), f.$wp ? (f.events.on(\"window.keydown keydown\", Z, !0), f.events.on(\"keyup\", function (e) {\n          if (p && e.which == Ee.FE.KEYCODE.ENTER) return !1;\n        }, !0), f.events.$on(f.$el, \"keydown\", function () {\n          var e = f.selection.element();\n          e.nodeType === Node.TEXT_NODE && (e = e.parentNode), f.node.hasClass(e, \"fr-inner\") || (f.node.hasClass(e, \"fr-img-caption\") || (e = Ee(e).parents(\".fr-img-caption\").get(0)), f.node.hasClass(e, \"fr-img-caption\") && (Ee(e).after(Ee.FE.INVISIBLE_SPACE + Ee.FE.MARKERS), f.selection.restore()));\n        })) : f.events.$on(f.$win, \"keydown\", Z), f.events.on(\"toolbar.esc\", function () {\n          if (p) {\n            if (f.$wp) f.events.disableBlur(), f.events.focus();else {\n              var e = p;\n              oe(!0), f.selection.setAfter(e.get(0)), f.selection.restore();\n            }\n            return !1;\n          }\n        }, !0), f.events.on(\"toolbar.focusEditor\", function () {\n          if (p) return !1;\n        }, !0), f.events.on(\"window.cut window.copy\", function (e) {\n          if (p && f.popups.isVisible(\"image.edit\") && !f.popups.get(\"image.edit\").find(\":focus\").length) {\n            var t = me();\n            ve() ? (t.before(Ee.FE.START_MARKER), t.after(Ee.FE.END_MARKER), f.selection.restore(), f.paste.saveCopiedText(t.get(0).outerHTML, t.text())) : (he(), f.paste.saveCopiedText(p.get(0).outerHTML, p.attr(\"alt\"))), \"copy\" == e.type ? setTimeout(function () {\n              I(p);\n            }) : (oe(!0), f.undo.saveStep(), setTimeout(function () {\n              f.undo.saveStep();\n            }, 0));\n          }\n        }, !0), f.browser.msie && f.events.on(\"keydown\", function (e) {\n          if (!f.selection.isCollapsed() || !p) return !0;\n          var t = e.which;\n          t == Ee.FE.KEYCODE.C && f.keys.ctrlKey(e) ? f.events.trigger(\"window.copy\") : t == Ee.FE.KEYCODE.X && f.keys.ctrlKey(e) && f.events.trigger(\"window.cut\");\n        }), f.events.$on(Ee(f.o_win), \"keydown\", function (e) {\n          var t = e.which;\n          if (p && t == Ee.FE.KEYCODE.BACKSPACE) return e.preventDefault(), !1;\n        }), f.events.$on(f.$win, \"keydown\", function (e) {\n          var t = e.which;\n          p && p.hasClass(\"fr-uploading\") && t == Ee.FE.KEYCODE.ESC && p.trigger(\"abortUpload\");\n        }), f.events.on(\"destroy\", function () {\n          p && p.hasClass(\"fr-uploading\") && p.trigger(\"abortUpload\");\n        }), f.events.on(\"paste.before\", re), f.events.on(\"paste.beforeCleanup\", ie), f.events.on(\"paste.after\", te), f.events.on(\"html.set\", e), f.events.on(\"html.inserted\", e), e(), f.events.on(\"destroy\", function () {\n          s = [];\n        }), f.events.on(\"html.processGet\", J), f.opts.imageOutputSize && f.events.on(\"html.beforeGet\", function () {\n          r = f.el.querySelectorAll(\"img\");\n\n          for (var e = 0; e < r.length; e++) {\n            var t = r[e].style.width || Ee(r[e]).width(),\n                n = r[e].style.height || Ee(r[e]).height();\n            t && r[e].setAttribute(\"width\", (\"\" + t).replace(/px/, \"\")), n && r[e].setAttribute(\"height\", (\"\" + n).replace(/px/, \"\"));\n          }\n        }), f.opts.iframe && f.events.on(\"image.loaded\", f.size.syncIframe), f.$wp && (A(), f.events.on(\"contentChanged\", A)), f.events.$on(Ee(f.o_win), \"orientationchange.image\", function () {\n          setTimeout(function () {\n            p && I(p);\n          }, 100);\n        }), x(!0), W(!0), q(!0), G(!0), f.events.on(\"node.remove\", function (e) {\n          if (\"IMG\" == e.get(0).tagName) return Q(e), !1;\n        });\n      },\n      showInsertPopup: function showInsertPopup() {\n        var e = f.$tb.find('.fr-command[data-cmd=\"insertImage\"]'),\n            t = f.popups.get(\"image.insert\");\n        if (t || (t = W()), N(), !t.hasClass(\"fr-active\")) if (f.popups.refresh(\"image.insert\"), f.popups.setContainer(\"image.insert\", f.$tb), e.is(\":visible\")) {\n          var n = e.offset().left + e.outerWidth() / 2,\n              r = e.offset().top + (f.opts.toolbarBottom ? 10 : e.outerHeight() - 10);\n          f.popups.show(\"image.insert\", n, r, e.outerHeight());\n        } else f.position.forSelection(t), f.popups.show(\"image.insert\");\n      },\n      showLayer: function showLayer(e) {\n        var t,\n            n,\n            r = f.popups.get(\"image.insert\");\n\n        if (p || f.opts.toolbarInline) {\n          if (p) {\n            var i = me();\n            ve() && (i = i.find(\".fr-img-wrap\")), n = i.offset().top + i.outerHeight(), t = i.offset().left + i.outerWidth() / 2;\n          }\n        } else {\n          var a = f.$tb.find('.fr-command[data-cmd=\"insertImage\"]');\n          t = a.offset().left + a.outerWidth() / 2, n = a.offset().top + (f.opts.toolbarBottom ? 10 : a.outerHeight() - 10);\n        }\n\n        !p && f.opts.toolbarInline && (n = r.offset().top - f.helpers.getPX(r.css(\"margin-top\")), r.hasClass(\"fr-above\") && (n += r.outerHeight())), r.find(\".fr-layer\").removeClass(\"fr-active\"), r.find(\".fr-\" + e + \"-layer\").addClass(\"fr-active\"), f.popups.show(\"image.insert\", t, n, p ? p.outerHeight() : 0), f.accessibility.focusPopup(r);\n      },\n      refreshUploadButton: function refreshUploadButton(e) {\n        f.popups.get(\"image.insert\").find(\".fr-image-upload-layer\").hasClass(\"fr-active\") && e.addClass(\"fr-active\").attr(\"aria-pressed\", !0);\n      },\n      refreshByURLButton: function refreshByURLButton(e) {\n        f.popups.get(\"image.insert\").find(\".fr-image-by-url-layer\").hasClass(\"fr-active\") && e.addClass(\"fr-active\").attr(\"aria-pressed\", !0);\n      },\n      upload: U,\n      insertByURL: function insertByURL() {\n        var e = f.popups.get(\"image.insert\").find(\".fr-image-by-url-layer input\");\n\n        if (0 < e.val().length) {\n          w(), O(f.language.translate(\"Loading image\"));\n          var t = e.val().trim();\n\n          if (f.opts.imageUploadRemoteUrls && f.opts.imageCORSProxy && f.opts.imageUpload) {\n            var n = new XMLHttpRequest();\n            n.onload = function () {\n              200 == this.status ? U([new Blob([this.response], {\n                type: this.response.type || \"image/png\"\n              })], p) : L(r);\n            }, n.onerror = function () {\n              k(t, !0, [], p);\n            }, n.open(\"GET\", f.opts.imageCORSProxy + \"/\" + t, !0), n.responseType = \"blob\", n.send();\n          } else k(t, !0, [], p);\n\n          e.val(\"\"), e.blur();\n        }\n      },\n      align: function align(e) {\n        var t = me();\n        t.removeClass(\"fr-fir fr-fil\"), !f.opts.htmlUntouched && f.opts.useClasses ? \"left\" == e ? t.addClass(\"fr-fil\") : \"right\" == e && t.addClass(\"fr-fir\") : ce(t, pe(), e), he(), C(), a(), f.selection.clear();\n      },\n      refreshAlign: function refreshAlign(e) {\n        p && e.find(\"> *:first\").replaceWith(f.icon.create(\"image-align-\" + fe()));\n      },\n      refreshAlignOnShow: function refreshAlignOnShow(e, t) {\n        p && t.find('.fr-command[data-param1=\"' + fe() + '\"]').addClass(\"fr-active\").attr(\"aria-selected\", !0);\n      },\n      display: function display(e) {\n        var t = me();\n        t.removeClass(\"fr-dii fr-dib\"), !f.opts.htmlUntouched && f.opts.useClasses ? \"inline\" == e ? t.addClass(\"fr-dii\") : \"block\" == e && t.addClass(\"fr-dib\") : ce(t, e, fe()), he(), C(), a(), f.selection.clear();\n      },\n      refreshDisplayOnShow: function refreshDisplayOnShow(e, t) {\n        p && t.find('.fr-command[data-param1=\"' + pe() + '\"]').addClass(\"fr-active\").attr(\"aria-selected\", !0);\n      },\n      replace: ue,\n      back: function back() {\n        p ? (f.events.disableBlur(), Ee(\".fr-popup input:focus\").blur(), I(p)) : (f.events.disableBlur(), f.selection.restore(), f.events.enableBlur(), f.popups.hide(\"image.insert\"), f.toolbar.showInline());\n      },\n      get: ge,\n      getEl: me,\n      insert: k,\n      showProgressBar: w,\n      remove: Q,\n      hideProgressBar: N,\n      applyStyle: function applyStyle(e, t, n) {\n        if (void 0 === t && (t = f.opts.imageStyles), void 0 === n && (n = f.opts.imageMultipleStyles), !p) return !1;\n        var r = me();\n\n        if (!n) {\n          var i = Object.keys(t);\n          i.splice(i.indexOf(e), 1), r.removeClass(i.join(\" \"));\n        }\n\n        \"object\" == typeof t[e] ? (r.removeAttr(\"style\"), r.css(t[e].style)) : r.toggleClass(e), I(p);\n      },\n      showAltPopup: Y,\n      showSizePopup: X,\n      setAlt: function setAlt(e) {\n        if (p) {\n          var t = f.popups.get(\"image.alt\");\n          p.attr(\"alt\", e || t.find(\"input\").val() || \"\"), t.find(\"input:focus\").blur(), I(p);\n        }\n      },\n      setSize: function setSize(e, t) {\n        if (p) {\n          var n = f.popups.get(\"image.size\");\n          e = e || n.find('input[name=\"width\"]').val() || \"\", t = t || n.find('input[name=\"height\"]').val() || \"\";\n          var r = /^[\\d]+((px)|%)*$/g;\n          p.removeAttr(\"width\").removeAttr(\"height\"), e.match(r) ? p.css(\"width\", e) : p.css(\"width\", \"\"), t.match(r) ? p.css(\"height\", t) : p.css(\"height\", \"\"), ve() && (p.parents(\".fr-img-caption\").removeAttr(\"width\").removeAttr(\"height\"), e.match(r) ? p.parents(\".fr-img-caption\").css(\"width\", e) : p.parents(\".fr-img-caption\").css(\"width\", \"\"), t.match(r) ? p.parents(\".fr-img-caption\").css(\"height\", t) : p.parents(\".fr-img-caption\").css(\"height\", \"\")), n && n.find(\"input:focus\").blur(), I(p);\n        }\n      },\n      toggleCaption: function toggleCaption() {\n        var e;\n\n        if (p && !ve()) {\n          (e = p).parent().is(\"a\") && (e = p.parent());\n          var t = e.width();\n          e.wrap(\"<span \" + (f.browser.mozilla ? \"\" : 'contenteditable=\"false\"') + 'class=\"fr-img-caption ' + p.attr(\"class\") + '\" style=\"' + (f.opts.useClasses ? \"\" : e.attr(\"style\")) + '\" draggable=\"false\"></span>'), e.wrap('<span class=\"fr-img-wrap\"></span>'), e.after('<span class=\"fr-inner\"' + (f.browser.mozilla ? \"\" : ' contenteditable=\"true\"') + \">\" + Ee.FE.START_MARKER + \"Image caption\" + Ee.FE.END_MARKER + \"</span>\"), p.removeAttr(\"class\").removeAttr(\"style\").removeAttr(\"width\"), p.parents(\".fr-img-caption\").css(\"width\", t + \"px\"), oe(!0), f.selection.restore();\n        } else e = me(), p.insertAfter(e), p.attr(\"class\", e.attr(\"class\").replace(\"fr-img-caption\", \"\")).attr(\"style\", e.attr(\"style\")), e.remove(), I(p);\n      },\n      hasCaption: ve,\n      exitEdit: oe,\n      edit: I\n    };\n  }, Ee.FE.DefineIcon(\"insertImage\", {\n    NAME: \"image\"\n  }), Ee.FE.RegisterShortcut(Ee.FE.KEYCODE.P, \"insertImage\", null, \"P\"), Ee.FE.RegisterCommand(\"insertImage\", {\n    title: \"Insert Image\",\n    undo: !1,\n    focus: !0,\n    refreshAfterCallback: !1,\n    popup: !0,\n    callback: function callback() {\n      this.popups.isVisible(\"image.insert\") ? (this.$el.find(\".fr-marker\").length && (this.events.disableBlur(), this.selection.restore()), this.popups.hide(\"image.insert\")) : this.image.showInsertPopup();\n    },\n    plugin: \"image\"\n  }), Ee.FE.DefineIcon(\"imageUpload\", {\n    NAME: \"upload\"\n  }), Ee.FE.RegisterCommand(\"imageUpload\", {\n    title: \"Upload Image\",\n    undo: !1,\n    focus: !1,\n    toggle: !0,\n    callback: function callback() {\n      this.image.showLayer(\"image-upload\");\n    },\n    refresh: function refresh(e) {\n      this.image.refreshUploadButton(e);\n    }\n  }), Ee.FE.DefineIcon(\"imageByURL\", {\n    NAME: \"link\"\n  }), Ee.FE.RegisterCommand(\"imageByURL\", {\n    title: \"By URL\",\n    undo: !1,\n    focus: !1,\n    toggle: !0,\n    callback: function callback() {\n      this.image.showLayer(\"image-by-url\");\n    },\n    refresh: function refresh(e) {\n      this.image.refreshByURLButton(e);\n    }\n  }), Ee.FE.RegisterCommand(\"imageInsertByURL\", {\n    title: \"Insert Image\",\n    undo: !0,\n    refreshAfterCallback: !1,\n    callback: function callback() {\n      this.image.insertByURL();\n    },\n    refresh: function refresh(e) {\n      this.image.get() ? e.text(this.language.translate(\"Replace\")) : e.text(this.language.translate(\"Insert\"));\n    }\n  }), Ee.FE.DefineIcon(\"imageDisplay\", {\n    NAME: \"star\"\n  }), Ee.FE.RegisterCommand(\"imageDisplay\", {\n    title: \"Display\",\n    type: \"dropdown\",\n    options: {\n      inline: \"Inline\",\n      block: \"Break Text\"\n    },\n    callback: function callback(e, t) {\n      this.image.display(t);\n    },\n    refresh: function refresh(e) {\n      this.opts.imageTextNear || e.addClass(\"fr-hidden\");\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      this.image.refreshDisplayOnShow(e, t);\n    }\n  }), Ee.FE.DefineIcon(\"image-align\", {\n    NAME: \"align-left\"\n  }), Ee.FE.DefineIcon(\"image-align-left\", {\n    NAME: \"align-left\"\n  }), Ee.FE.DefineIcon(\"image-align-right\", {\n    NAME: \"align-right\"\n  }), Ee.FE.DefineIcon(\"image-align-center\", {\n    NAME: \"align-justify\"\n  }), Ee.FE.DefineIcon(\"imageAlign\", {\n    NAME: \"align-justify\"\n  }), Ee.FE.RegisterCommand(\"imageAlign\", {\n    type: \"dropdown\",\n    title: \"Align\",\n    options: {\n      left: \"Align Left\",\n      center: \"None\",\n      right: \"Align Right\"\n    },\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = Ee.FE.COMMANDS.imageAlign.options;\n\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e += '<li role=\"presentation\"><a class=\"fr-command fr-title\" tabIndex=\"-1\" role=\"option\" data-cmd=\"imageAlign\" data-param1=\"' + n + '\" title=\"' + this.language.translate(t[n]) + '\">' + this.icon.create(\"image-align-\" + n) + '<span class=\"fr-sr-only\">' + this.language.translate(t[n]) + \"</span></a></li>\");\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      this.image.align(t);\n    },\n    refresh: function refresh(e) {\n      this.image.refreshAlign(e);\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      this.image.refreshAlignOnShow(e, t);\n    }\n  }), Ee.FE.DefineIcon(\"imageReplace\", {\n    NAME: \"exchange\",\n    FA5NAME: \"exchange-alt\"\n  }), Ee.FE.RegisterCommand(\"imageReplace\", {\n    title: \"Replace\",\n    undo: !1,\n    focus: !1,\n    popup: !0,\n    refreshAfterCallback: !1,\n    callback: function callback() {\n      this.image.replace();\n    }\n  }), Ee.FE.DefineIcon(\"imageRemove\", {\n    NAME: \"trash\"\n  }), Ee.FE.RegisterCommand(\"imageRemove\", {\n    title: \"Remove\",\n    callback: function callback() {\n      this.image.remove();\n    }\n  }), Ee.FE.DefineIcon(\"imageBack\", {\n    NAME: \"arrow-left\"\n  }), Ee.FE.RegisterCommand(\"imageBack\", {\n    title: \"Back\",\n    undo: !1,\n    focus: !1,\n    back: !0,\n    callback: function callback() {\n      this.image.back();\n    },\n    refresh: function refresh(e) {\n      this.image.get() || this.opts.toolbarInline ? (e.removeClass(\"fr-hidden\"), e.next(\".fr-separator\").removeClass(\"fr-hidden\")) : (e.addClass(\"fr-hidden\"), e.next(\".fr-separator\").addClass(\"fr-hidden\"));\n    }\n  }), Ee.FE.RegisterCommand(\"imageDismissError\", {\n    title: \"OK\",\n    undo: !1,\n    callback: function callback() {\n      this.image.hideProgressBar(!0);\n    }\n  }), Ee.FE.DefineIcon(\"imageStyle\", {\n    NAME: \"magic\"\n  }), Ee.FE.RegisterCommand(\"imageStyle\", {\n    title: \"Style\",\n    type: \"dropdown\",\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = this.opts.imageStyles;\n\n      for (var n in t) {\n        if (t.hasOwnProperty(n)) {\n          var r = t[n];\n          \"object\" == typeof r && (r = r.title), e += '<li role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"imageStyle\" data-param1=\"' + n + '\">' + this.language.translate(r) + \"</a></li>\";\n        }\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      this.image.applyStyle(t);\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      var n = this.image.getEl();\n      n && t.find(\".fr-command\").each(function () {\n        var e = Ee(this).data(\"param1\"),\n            t = n.hasClass(e);\n        Ee(this).toggleClass(\"fr-active\", t).attr(\"aria-selected\", t);\n      });\n    }\n  }), Ee.FE.DefineIcon(\"imageAlt\", {\n    NAME: \"info\"\n  }), Ee.FE.RegisterCommand(\"imageAlt\", {\n    undo: !1,\n    focus: !1,\n    popup: !0,\n    title: \"Alternative Text\",\n    callback: function callback() {\n      this.image.showAltPopup();\n    }\n  }), Ee.FE.RegisterCommand(\"imageSetAlt\", {\n    undo: !0,\n    focus: !1,\n    title: \"Update\",\n    refreshAfterCallback: !1,\n    callback: function callback() {\n      this.image.setAlt();\n    }\n  }), Ee.FE.DefineIcon(\"imageSize\", {\n    NAME: \"arrows-alt\"\n  }), Ee.FE.RegisterCommand(\"imageSize\", {\n    undo: !1,\n    focus: !1,\n    popup: !0,\n    title: \"Change Size\",\n    callback: function callback() {\n      this.image.showSizePopup();\n    }\n  }), Ee.FE.RegisterCommand(\"imageSetSize\", {\n    undo: !0,\n    focus: !1,\n    title: \"Update\",\n    refreshAfterCallback: !1,\n    callback: function callback() {\n      this.image.setSize();\n    }\n  }), Ee.FE.DefineIcon(\"imageCaption\", {\n    NAME: \"commenting\",\n    FA5NAME: \"comment-alt\"\n  }), Ee.FE.RegisterCommand(\"imageCaption\", {\n    undo: !0,\n    focus: !1,\n    title: \"Image Caption\",\n    refreshAfterCallback: !0,\n    callback: function callback() {\n      this.image.toggleCaption();\n    },\n    refresh: function refresh(e) {\n      this.image.get() && e.toggleClass(\"fr-active\", this.image.hasCaption());\n    }\n  }), Ee.extend(Ee.FE.DEFAULTS, {\n    imageManagerLoadURL: \"https://i.froala.com/load-files\",\n    imageManagerLoadMethod: \"get\",\n    imageManagerLoadParams: {},\n    imageManagerPreloader: null,\n    imageManagerDeleteURL: \"\",\n    imageManagerDeleteMethod: \"post\",\n    imageManagerDeleteParams: {},\n    imageManagerPageSize: 12,\n    imageManagerScrollOffset: 20,\n    imageManagerToggleTags: !0\n  }), Ee.FE.PLUGINS.imageManager = function (s) {\n    var l,\n        d,\n        r,\n        i,\n        a,\n        c,\n        o,\n        f,\n        p,\n        u,\n        h,\n        g = \"image_manager\",\n        e = 10,\n        m = 11,\n        v = 12,\n        E = 13,\n        b = 14,\n        T = 15,\n        A = 21,\n        C = 22,\n        n = {};\n\n    function S() {\n      var e = Ee(window).outerWidth();\n      return e < 768 ? 2 : e < 1200 ? 3 : 4;\n    }\n\n    function R() {\n      a.empty();\n\n      for (var e = 0; e < h; e++) {\n        a.append('<div class=\"fr-list-column\"></div>');\n      }\n    }\n\n    function y() {\n      if (p < o.length && (a.outerHeight() <= r.outerHeight() + s.opts.imageManagerScrollOffset || r.scrollTop() + s.opts.imageManagerScrollOffset > a.outerHeight() - r.outerHeight())) {\n        f++;\n\n        for (var e = s.opts.imageManagerPageSize * (f - 1); e < Math.min(o.length, s.opts.imageManagerPageSize * f); e++) {\n          t(o[e]);\n        }\n      }\n    }\n\n    function t(i) {\n      var a = new Image(),\n          o = Ee('<div class=\"fr-image-container fr-empty fr-image-' + u++ + '\" data-loading=\"' + s.language.translate(\"Loading\") + '..\" data-deleting=\"' + s.language.translate(\"Deleting\") + '..\">');\n      w(!1), a.onload = function () {\n        o.height(Math.floor(o.width() / a.width * a.height));\n        var n = Ee(\"<img/>\");\n        if (i.thumb) n.attr(\"src\", i.thumb);else {\n          if (D(b, i), !i.url) return D(T, i), !1;\n          n.attr(\"src\", i.url);\n        }\n        if (i.url && n.attr(\"data-url\", i.url), i.tag) if (d.find(\".fr-modal-more.fr-not-available\").removeClass(\"fr-not-available\"), d.find(\".fr-modal-tags\").show(), 0 <= i.tag.indexOf(\",\")) {\n          for (var e = i.tag.split(\",\"), t = 0; t < e.length; t++) {\n            e[t] = e[t].trim(), 0 === c.find('a[title=\"' + e[t] + '\"]').length && c.append('<a role=\"button\" title=\"' + e[t] + '\">' + e[t] + \"</a>\");\n          }\n\n          n.attr(\"data-tag\", e.join());\n        } else 0 === c.find('a[title=\"' + i.tag.trim() + '\"]').length && c.append('<a role=\"button\" title=\"' + i.tag.trim() + '\">' + i.tag.trim() + \"</a>\"), n.attr(\"data-tag\", i.tag.trim());\n\n        for (var r in i.name && n.attr(\"alt\", i.name), i) {\n          i.hasOwnProperty(r) && \"thumb\" != r && \"url\" != r && \"tag\" != r && n.attr(\"data-\" + r, i[r]);\n        }\n\n        o.append(n).append(Ee(s.icon.create(\"imageManagerDelete\")).addClass(\"fr-delete-img\").attr(\"title\", s.language.translate(\"Delete\"))).append(Ee(s.icon.create(\"imageManagerInsert\")).addClass(\"fr-insert-img\").attr(\"title\", s.language.translate(\"Insert\"))), c.find(\".fr-selected-tag\").each(function (e, t) {\n          $(n, t.text) || o.hide();\n        }), n.on(\"load\", function () {\n          o.removeClass(\"fr-empty\"), o.height(\"auto\"), p++, x(L(parseInt(n.parent().attr(\"class\").match(/fr-image-(\\d+)/)[1], 10) + 1)), w(!1), p % s.opts.imageManagerPageSize == 0 && y();\n        }), s.events.trigger(\"imageManager.imageLoaded\", [n]);\n      }, a.onerror = function () {\n        p++, o.remove(), x(L(parseInt(o.attr(\"class\").match(/fr-image-(\\d+)/)[1], 10) + 1)), D(e, i), p % s.opts.imageManagerPageSize == 0 && y();\n      }, a.src = i.thumb || i.url, _().append(o);\n    }\n\n    function _() {\n      var r, i;\n      return a.find(\".fr-list-column\").each(function (e, t) {\n        var n = Ee(t);\n        0 === e ? (i = n.outerHeight(), r = n) : n.outerHeight() < i && (i = n.outerHeight(), r = n);\n      }), r;\n    }\n\n    function L(e) {\n      e === undefined && (e = 0);\n\n      for (var t = [], n = u - 1; e <= n; n--) {\n        var r = a.find(\".fr-image-\" + n);\n        r.length && (t.push(r), Ee('<div id=\"fr-image-hidden-container\">').append(r), a.find(\".fr-image-\" + n).remove());\n      }\n\n      return t;\n    }\n\n    function x(e) {\n      for (var t = e.length - 1; 0 <= t; t--) {\n        _().append(e[t]);\n      }\n    }\n\n    function w(e) {\n      if (e === undefined && (e = !0), !l.is(\":visible\")) return !0;\n      var t = S();\n\n      if (t != h) {\n        h = t;\n        var n = L();\n        R(), x(n);\n      }\n\n      s.modals.resize(g), e && y();\n    }\n\n    function N(e) {\n      var t = {},\n          n = e.data();\n\n      for (var r in n) {\n        n.hasOwnProperty(r) && \"url\" != r && \"tag\" != r && (t[r] = n[r]);\n      }\n\n      return t;\n    }\n\n    function O(e) {\n      var t = Ee(e.currentTarget).siblings(\"img\"),\n          n = l.data(\"instance\") || s,\n          r = l.data(\"current-image\");\n      if (s.modals.hide(g), n.image.showProgressBar(), r) r.data(\"fr-old-src\", r.attr(\"src\")), r.trigger(\"click\");else {\n        n.events.focus(!0), n.selection.restore();\n        var i = n.position.getBoundingRect(),\n            a = i.left + i.width / 2 + Ee(s.doc).scrollLeft(),\n            o = i.top + i.height + Ee(s.doc).scrollTop();\n        n.popups.setContainer(\"image.insert\", s.$sc), n.popups.show(\"image.insert\", a, o);\n      }\n      n.image.insert(t.data(\"url\"), !1, N(t), r);\n    }\n\n    function I(e) {\n      var n = Ee(e.currentTarget).siblings(\"img\"),\n          t = s.language.translate(\"Are you sure? Image will be deleted.\");\n      confirm(t) && (s.opts.imageManagerDeleteURL ? !1 !== s.events.trigger(\"imageManager.beforeDeleteImage\", [n]) && (n.parent().addClass(\"fr-image-deleting\"), Ee.ajax({\n        method: s.opts.imageManagerDeleteMethod,\n        url: s.opts.imageManagerDeleteURL,\n        data: Ee.extend(Ee.extend({\n          src: n.attr(\"src\")\n        }, N(n)), s.opts.imageManagerDeleteParams),\n        crossDomain: s.opts.requestWithCORS,\n        xhrFields: {\n          withCredentials: s.opts.requestWithCredentials\n        },\n        headers: s.opts.requestHeaders\n      }).done(function (e) {\n        s.events.trigger(\"imageManager.imageDeleted\", [e]);\n        var t = L(parseInt(n.parent().attr(\"class\").match(/fr-image-(\\d+)/)[1], 10) + 1);\n        n.parent().remove(), x(t), l.find(\"#fr-modal-tags > a\").each(function () {\n          0 === l.find('#fr-image-list [data-tag*=\"' + Ee(this).text() + '\"]').length && Ee(this).removeClass(\"fr-selected-tag\").hide();\n        }), F(), w(!0);\n      }).fail(function (e) {\n        D(A, e.response || e.responseText);\n      })) : D(C));\n    }\n\n    function D(e, t) {\n      10 <= e && e < 20 ? i.hide() : 20 <= e && e < 30 && Ee(\".fr-image-deleting\").removeClass(\"fr-image-deleting\"), s.events.trigger(\"imageManager.error\", [{\n        code: e,\n        message: n[e]\n      }, t]);\n    }\n\n    function k() {\n      var e = d.find(\".fr-modal-head-line\").outerHeight(),\n          t = c.outerHeight();\n      d.toggleClass(\"fr-show-tags\"), d.hasClass(\"fr-show-tags\") ? (d.css(\"height\", e + t), c.find(\"a\").css(\"opacity\", 1)) : (d.css(\"height\", e), c.find(\"a\").css(\"opacity\", 0));\n    }\n\n    function F() {\n      var e = c.find(\".fr-selected-tag\");\n      0 < e.length ? (a.find(\"img\").parent().show(), e.each(function (e, r) {\n        a.find(\"img\").each(function (e, t) {\n          var n = Ee(t);\n          $(n, r.text) || n.parent().hide();\n        });\n      })) : a.find(\"img\").parent().show(), x(L()), y();\n    }\n\n    function M(e) {\n      e.preventDefault();\n      var t = Ee(e.currentTarget);\n      t.toggleClass(\"fr-selected-tag\"), s.opts.imageManagerToggleTags && t.siblings(\"a\").removeClass(\"fr-selected-tag\"), F();\n    }\n\n    function $(e, t) {\n      for (var n = (e.attr(\"data-tag\") || \"\").split(\",\"), r = 0; r < n.length; r++) {\n        if (n[r] == t) return !0;\n      }\n\n      return !1;\n    }\n\n    return n[e] = \"Image cannot be loaded from the passed link.\", n[m] = \"Error during load images request.\", n[v] = \"Missing imageManagerLoadURL option.\", n[E] = \"Parsing load response failed.\", n[b] = \"Missing image thumb.\", n[T] = \"Missing image URL.\", n[A] = \"Error during delete image request.\", n[C] = \"Missing imageManagerDeleteURL option.\", {\n      require: [\"image\"],\n      _init: function _init() {\n        if (!s.$wp && \"IMG\" != s.el.tagName) return !1;\n      },\n      show: function show() {\n        if (!l) {\n          var e,\n              t = '<div class=\"fr-modal-head-line\"><i class=\"fa fa-bars fr-modal-more fr-not-available\" id=\"fr-modal-more-' + s.sid + '\" title=\"' + s.language.translate(\"Tags\") + '\"></i><h4 data-text=\"true\">' + s.language.translate(\"Manage Images\") + \"</h4></div>\";\n          t += '<div class=\"fr-modal-tags\" id=\"fr-modal-tags\"></div>', e = s.opts.imageManagerPreloader ? '<img class=\"fr-preloader\" id=\"fr-preloader\" alt=\"' + s.language.translate(\"Loading\") + '..\" src=\"' + s.opts.imageManagerPreloader + '\" style=\"display: none;\">' : '<span class=\"fr-preloader\" id=\"fr-preloader\" style=\"display: none;\">' + s.language.translate(\"Loading\") + \"</span>\", e += '<div class=\"fr-image-list\" id=\"fr-image-list\"></div>';\n          var n = s.modals.create(g, t, e);\n          l = n.$modal, d = n.$head, r = n.$body;\n        }\n\n        l.data(\"current-image\", s.image.get()), s.modals.show(g), i || (i = l.find(\"#fr-preloader\"), a = l.find(\"#fr-image-list\"), c = l.find(\"#fr-modal-tags\"), h = S(), R(), d.css(\"height\", d.find(\".fr-modal-head-line\").outerHeight()), s.events.$on(Ee(s.o_win), \"resize\", function () {\n          w(!!o);\n        }), s.helpers.isMobile() && (s.events.bindClick(a, \"div.fr-image-container\", function (e) {\n          l.find(\".fr-mobile-selected\").removeClass(\"fr-mobile-selected\"), Ee(e.currentTarget).addClass(\"fr-mobile-selected\");\n        }), l.on(s._mousedown, function () {\n          l.find(\".fr-mobile-selected\").removeClass(\"fr-mobile-selected\");\n        })), s.events.bindClick(a, \".fr-insert-img\", O), s.events.bindClick(a, \".fr-delete-img\", I), l.on(s._mousedown + \" \" + s._mouseup, function (e) {\n          e.stopPropagation();\n        }), l.on(s._mousedown, \"*\", function () {\n          s.events.disableBlur();\n        }), r.on(\"scroll\", y), s.events.bindClick(l, \"#fr-modal-more-\" + s.sid, k), s.events.bindClick(c, \"a\", M)), i.show(), a.find(\".fr-list-column\").empty(), s.opts.imageManagerLoadURL ? Ee.ajax({\n          url: s.opts.imageManagerLoadURL,\n          method: s.opts.imageManagerLoadMethod,\n          data: s.opts.imageManagerLoadParams,\n          dataType: \"json\",\n          crossDomain: s.opts.requestWithCORS,\n          xhrFields: {\n            withCredentials: s.opts.requestWithCredentials\n          },\n          headers: s.opts.requestHeaders\n        }).done(function (e, t, n) {\n          s.events.trigger(\"imageManager.imagesLoaded\", [e]), function (e, t) {\n            try {\n              a.find(\".fr-list-column\").empty(), u = p = f = 0, o = e, y();\n            } catch (n) {\n              D(E, t);\n            }\n          }(e, n.response), i.hide();\n        }).fail(function () {\n          var e = this.xhr();\n          D(m, e.response || e.responseText);\n        }) : D(v);\n      },\n      hide: function hide() {\n        s.modals.hide(g);\n      }\n    };\n  }, !Ee.FE.PLUGINS.image) throw new Error(\"Image manager plugin requires image plugin.\");\n  Ee.FE.DEFAULTS.imageInsertButtons.push(\"imageManager\"), Ee.FE.RegisterCommand(\"imageManager\", {\n    title: \"Browse\",\n    undo: !1,\n    focus: !1,\n    modal: !0,\n    callback: function callback() {\n      this.imageManager.show();\n    },\n    plugin: \"imageManager\"\n  }), Ee.FE.DefineIcon(\"imageManager\", {\n    NAME: \"folder\"\n  }), Ee.FE.DefineIcon(\"imageManagerInsert\", {\n    NAME: \"plus\"\n  }), Ee.FE.DefineIcon(\"imageManagerDelete\", {\n    NAME: \"trash\"\n  }), Ee.extend(Ee.FE.DEFAULTS, {\n    inlineClasses: {\n      \"fr-class-code\": \"Code\",\n      \"fr-class-highlighted\": \"Highlighted\",\n      \"fr-class-transparency\": \"Transparent\"\n    }\n  }), Ee.FE.PLUGINS.inlineClass = function (n) {\n    return {\n      apply: function apply(e) {\n        n.format.toggle(\"span\", {\n          \"class\": e\n        });\n      },\n      refreshOnShow: function refreshOnShow(e, t) {\n        t.find(\".fr-command\").each(function () {\n          var e = Ee(this).data(\"param1\"),\n              t = n.format.is(\"span\", {\n            \"class\": e\n          });\n          Ee(this).toggleClass(\"fr-active\", t).attr(\"aria-selected\", t);\n        });\n      }\n    };\n  }, Ee.FE.RegisterCommand(\"inlineClass\", {\n    type: \"dropdown\",\n    title: \"Inline Class\",\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = this.opts.inlineClasses;\n\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e += '<li role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"inlineClass\" data-param1=\"' + n + '\" title=\"' + t[n] + '\">' + t[n] + \"</a></li>\");\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      this.inlineClass.apply(t);\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      this.inlineClass.refreshOnShow(e, t);\n    },\n    plugin: \"inlineClass\"\n  }), Ee.FE.DefineIcon(\"inlineClass\", {\n    NAME: \"tag\"\n  }), Ee.extend(Ee.FE.DEFAULTS, {\n    inlineStyles: {\n      \"Big Red\": \"font-size: 20px; color: red;\",\n      \"Small Blue\": \"font-size: 14px; color: blue;\"\n    }\n  }), Ee.FE.PLUGINS.inlineStyle = function (i) {\n    return {\n      apply: function apply(e) {\n        if (\"\" !== i.selection.text()) for (var t = e.split(\";\"), n = 0; n < t.length; n++) {\n          var r = t[n].split(\":\");\n          t[n].length && 2 == r.length && i.format.applyStyle(r[0].trim(), r[1].trim());\n        } else i.html.insert('<span style=\"' + e + '\">' + Ee.FE.INVISIBLE_SPACE + Ee.FE.MARKERS + \"</span>\");\n      }\n    };\n  }, Ee.FE.RegisterCommand(\"inlineStyle\", {\n    type: \"dropdown\",\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = this.opts.inlineStyles;\n\n      for (var n in t) {\n        if (t.hasOwnProperty(n)) e += '<li role=\"presentation\"><span style=\"' + (t[n] + (-1 === t[n].indexOf(\"display:block;\") ? \" display:block;\" : \"\")) + '\" role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"inlineStyle\" data-param1=\"' + t[n] + '\" title=\"' + this.language.translate(n) + '\">' + this.language.translate(n) + \"</a></span></li>\";\n      }\n\n      return e += \"</ul>\";\n    },\n    title: \"Inline Style\",\n    callback: function callback(e, t) {\n      this.inlineStyle.apply(t);\n    },\n    plugin: \"inlineStyle\"\n  }), Ee.FE.DefineIcon(\"inlineStyle\", {\n    NAME: \"paint-brush\"\n  }), Ee.extend(Ee.FE.DEFAULTS, {\n    lineBreakerTags: [\"table\", \"hr\", \"form\", \"dl\", \"span.fr-video\", \".fr-embedly\"],\n    lineBreakerOffset: 15,\n    lineBreakerHorizontalOffset: 10\n  }), Ee.FE.PLUGINS.lineBreaker = function (p) {\n    var u, t, i;\n\n    function s(e, t) {\n      var n, r, i, a, o, s, l, d;\n      if (null == e) o = (a = t.parent()).offset().top, n = (l = t.offset().top) - Math.min((l - o) / 2, p.opts.lineBreakerOffset), i = a.outerWidth(), r = a.offset().left;else if (null == t) (s = (a = e.parent()).offset().top + a.outerHeight()) < (d = e.offset().top + e.outerHeight()) && (s = (a = Ee(a).parent()).offset().top + a.outerHeight()), n = d + Math.min(Math.abs(s - d) / 2, p.opts.lineBreakerOffset), i = a.outerWidth(), r = a.offset().left;else {\n        a = e.parent();\n        var c = e.offset().top + e.height(),\n            f = t.offset().top;\n        if (f < c) return !1;\n        n = (c + f) / 2, i = a.outerWidth(), r = a.offset().left;\n      }\n      p.opts.iframe && (r += p.$iframe.offset().left - p.helpers.scrollLeft(), n += p.$iframe.offset().top - p.helpers.scrollTop()), p.$box.append(u), u.css(\"top\", n - p.win.pageYOffset), u.css(\"left\", r - p.win.pageXOffset), u.css(\"width\", i), u.data(\"tag1\", e), u.data(\"tag2\", t), u.addClass(\"fr-visible\").data(\"instance\", p);\n    }\n\n    function l(e) {\n      if (e) {\n        var t = Ee(e);\n        if (0 === p.$el.find(t).length) return null;\n        if (e.nodeType != Node.TEXT_NODE && t.is(p.opts.lineBreakerTags.join(\",\"))) return t;\n        if (0 < t.parents(p.opts.lineBreakerTags.join(\",\")).length) return e = t.parents(p.opts.lineBreakerTags.join(\",\")).get(0), 0 !== p.$el.find(e).length && Ee(e).is(p.opts.lineBreakerTags.join(\",\")) ? Ee(e) : null;\n      }\n\n      return null;\n    }\n\n    function a(e, t) {\n      var n = p.doc.elementFromPoint(e, t);\n      return n && !Ee(n).closest(\".fr-line-breaker\").length && !p.node.isElement(n) && n != p.$wp.get(0) && function (e) {\n        if (\"undefined\" != typeof e.inFroalaWrapper) return e.inFroalaWrapper;\n\n        for (var t = e; e.parentNode && e.parentNode !== p.$wp.get(0);) {\n          e = e.parentNode;\n        }\n\n        return t.inFroalaWrapper = e.parentNode == p.$wp.get(0), t.inFroalaWrapper;\n      }(n) ? n : null;\n    }\n\n    function o(e, t, n) {\n      for (var r = n, i = null; r <= p.opts.lineBreakerOffset && !i;) {\n        (i = a(e, t - r)) || (i = a(e, t + r)), r += n;\n      }\n\n      return i;\n    }\n\n    function d(e, t, n) {\n      for (var r = null, i = 100; !r && e > p.$box.offset().left && e < p.$box.offset().left + p.$box.outerWidth() && 0 < i;) {\n        (r = a(e, t)) || (r = o(e, t, 5)), \"left\" == n ? e -= p.opts.lineBreakerHorizontalOffset : e += p.opts.lineBreakerHorizontalOffset, i -= p.opts.lineBreakerHorizontalOffset;\n      }\n\n      return r;\n    }\n\n    function n(e) {\n      var t = i = null,\n          n = null,\n          r = p.doc.elementFromPoint(e.pageX - p.win.pageXOffset, e.pageY - p.win.pageYOffset);\n      r && (\"HTML\" == r.tagName || \"BODY\" == r.tagName || p.node.isElement(r) || 0 <= (r.getAttribute(\"class\") || \"\").indexOf(\"fr-line-breaker\")) ? ((n = o(e.pageX - p.win.pageXOffset, e.pageY - p.win.pageYOffset, 1)) || (n = d(e.pageX - p.win.pageXOffset - p.opts.lineBreakerHorizontalOffset, e.pageY - p.win.pageYOffset, \"left\")), n || (n = d(e.pageX - p.win.pageXOffset + p.opts.lineBreakerHorizontalOffset, e.pageY - p.win.pageYOffset, \"right\")), t = l(n)) : t = l(r), t ? function (e, t) {\n        var n,\n            r,\n            i = e.offset().top,\n            a = e.offset().top + e.outerHeight();\n        if (Math.abs(a - t) <= p.opts.lineBreakerOffset || Math.abs(t - i) <= p.opts.lineBreakerOffset) if (Math.abs(a - t) < Math.abs(t - i)) {\n          for (var o = (r = e.get(0)).nextSibling; o && o.nodeType == Node.TEXT_NODE && 0 === o.textContent.length;) {\n            o = o.nextSibling;\n          }\n\n          if (!o) return s(e, null);\n          if (n = l(o)) return s(e, n);\n        } else {\n          if (!(r = e.get(0)).previousSibling) return s(null, e);\n          if (n = l(r.previousSibling)) return s(n, e);\n        }\n        u.removeClass(\"fr-visible\").removeData(\"instance\");\n      }(t, e.pageY) : p.core.sameInstance(u) && u.removeClass(\"fr-visible\").removeData(\"instance\");\n    }\n\n    function e(e) {\n      return !(u.hasClass(\"fr-visible\") && !p.core.sameInstance(u)) && (p.popups.areVisible() || p.el.querySelector(\".fr-selected-cell\") ? (u.removeClass(\"fr-visible\"), !0) : void (!1 !== t || p.edit.isDisabled() || (i && clearTimeout(i), i = setTimeout(n, 30, e))));\n    }\n\n    function r() {\n      i && clearTimeout(i), u && u.hasClass(\"fr-visible\") && u.removeClass(\"fr-visible\").removeData(\"instance\");\n    }\n\n    function c() {\n      t = !0, r();\n    }\n\n    function f() {\n      t = !1;\n    }\n\n    function h(e) {\n      e.preventDefault();\n      var t = u.data(\"instance\") || p;\n      u.removeClass(\"fr-visible\").removeData(\"instance\");\n      var n = u.data(\"tag1\"),\n          r = u.data(\"tag2\"),\n          i = p.html.defaultTag();\n      null == n ? i && \"TD\" != r.parent().get(0).tagName && 0 === r.parents(i).length ? r.before(\"<\" + i + \">\" + Ee.FE.MARKERS + \"<br></\" + i + \">\") : r.before(Ee.FE.MARKERS + \"<br>\") : i && \"TD\" != n.parent().get(0).tagName && 0 === n.parents(i).length ? n.after(\"<\" + i + \">\" + Ee.FE.MARKERS + \"<br></\" + i + \">\") : n.after(Ee.FE.MARKERS + \"<br>\"), t.selection.restore();\n    }\n\n    return {\n      _init: function _init() {\n        if (!p.$wp) return !1;\n        p.shared.$line_breaker || (p.shared.$line_breaker = Ee('<div class=\"fr-line-breaker\"><a class=\"fr-floating-btn\" role=\"button\" tabIndex=\"-1\" title=\"' + p.language.translate(\"Break\") + '\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"><rect x=\"21\" y=\"11\" width=\"2\" height=\"8\"/><rect x=\"14\" y=\"17\" width=\"7\" height=\"2\"/><path d=\"M14.000,14.000 L14.000,22.013 L9.000,18.031 L14.000,14.000 Z\"/></svg></a></div>')), u = p.shared.$line_breaker, p.events.on(\"shared.destroy\", function () {\n          u.html(\"\").removeData().remove(), u = null;\n        }, !0), p.events.on(\"destroy\", function () {\n          u.removeData(\"instance\").removeClass(\"fr-visible\").appendTo(\"body:first\"), clearTimeout(i);\n        }, !0), p.events.$on(u, \"mousemove\", function (e) {\n          e.stopPropagation();\n        }, !0), p.events.bindClick(u, \"a\", h), t = !1, p.events.$on(p.$win, \"mousemove\", e), p.events.$on(Ee(p.win), \"scroll\", r), p.events.on(\"popups.show.table.edit\", r), p.events.on(\"commands.after\", r), p.events.$on(Ee(p.win), \"mousedown\", c), p.events.$on(Ee(p.win), \"mouseup\", f);\n      }\n    };\n  }, Ee.extend(Ee.FE.DEFAULTS, {\n    lineHeights: {\n      Default: \"\",\n      Single: \"1\",\n      1.15: \"1.15\",\n      1.5: \"1.5\",\n      Double: \"2\"\n    }\n  }), Ee.FE.PLUGINS.lineHeight = function (i) {\n    return {\n      _init: function _init() {},\n      apply: function apply(e) {\n        i.selection.save(), i.html.wrap(!0, !0, !0, !0), i.selection.restore();\n        var t = i.selection.blocks();\n        i.selection.save();\n\n        for (var n = 0; n < t.length; n++) {\n          Ee(t[n]).css(\"line-height\", e), \"\" === Ee(t[n]).attr(\"style\") && Ee(t[n]).removeAttr(\"style\");\n        }\n\n        i.html.unwrap(), i.selection.restore();\n      },\n      refreshOnShow: function refreshOnShow(e, t) {\n        var n = i.selection.blocks();\n\n        if (n.length) {\n          var r = Ee(n[0]);\n          t.find(\".fr-command\").each(function () {\n            var e = Ee(this).data(\"param1\"),\n                t = 0 <= (r.attr(\"style\") || \"\").indexOf(\"line-height: \" + e + \";\");\n            Ee(this).toggleClass(\"fr-active\", t).attr(\"aria-selected\", t);\n          });\n        }\n      }\n    };\n  }, Ee.FE.RegisterCommand(\"lineHeight\", {\n    type: \"dropdown\",\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = this.opts.lineHeights;\n\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e += '<li role=\"presentation\"><a class=\"fr-command ' + n + '\" tabIndex=\"-1\" role=\"option\" data-cmd=\"lineHeight\" data-param1=\"' + t[n] + '\" title=\"' + this.language.translate(n) + '\">' + this.language.translate(n) + \"</a></li>\");\n      }\n\n      return e += \"</ul>\";\n    },\n    title: \"Line Height\",\n    callback: function callback(e, t) {\n      this.lineHeight.apply(t);\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      this.lineHeight.refreshOnShow(e, t);\n    },\n    plugin: \"lineHeight\"\n  }), Ee.FE.DefineIcon(\"lineHeight\", {\n    NAME: \"arrows-v\",\n    FA5NAME: \"arrows-alt-v\"\n  }), Ee.extend(Ee.FE.POPUP_TEMPLATES, {\n    \"link.edit\": \"[_BUTTONS_]\",\n    \"link.insert\": \"[_BUTTONS_][_INPUT_LAYER_]\"\n  }), Ee.extend(Ee.FE.DEFAULTS, {\n    linkEditButtons: [\"linkOpen\", \"linkStyle\", \"linkEdit\", \"linkRemove\"],\n    linkInsertButtons: [\"linkBack\", \"|\", \"linkList\"],\n    linkAttributes: {},\n    linkAutoPrefix: \"http://\",\n    linkStyles: {\n      \"fr-green\": \"Green\",\n      \"fr-strong\": \"Thick\"\n    },\n    linkMultipleStyles: !0,\n    linkConvertEmailAddress: !0,\n    linkAlwaysBlank: !1,\n    linkAlwaysNoFollow: !1,\n    linkNoOpener: !0,\n    linkNoReferrer: !0,\n    linkList: [{\n      text: \"Froala\",\n      href: \"https://froala.com\",\n      target: \"_blank\"\n    }, {\n      text: \"Google\",\n      href: \"https://google.com\",\n      target: \"_blank\"\n    }, {\n      displayText: \"Facebook\",\n      href: \"https://facebook.com\"\n    }],\n    linkText: !0\n  }), Ee.FE.PLUGINS.link = function (f) {\n    function p() {\n      var e = f.image ? f.image.get() : null;\n\n      if (!e && f.$wp) {\n        var t = f.selection.ranges(0).commonAncestorContainer;\n\n        try {\n          t && (t.contains && t.contains(f.el) || !f.el.contains(t) || f.el == t) && (t = null);\n        } catch (i) {\n          t = null;\n        }\n\n        if (t && \"A\" === t.tagName) return t;\n        var n = f.selection.element(),\n            r = f.selection.endElement();\n        \"A\" == n.tagName || f.node.isElement(n) || (n = Ee(n).parentsUntil(f.$el, \"a:first\").get(0)), \"A\" == r.tagName || f.node.isElement(r) || (r = Ee(r).parentsUntil(f.$el, \"a:first\").get(0));\n\n        try {\n          r && (r.contains && r.contains(f.el) || !f.el.contains(r) || f.el == r) && (r = null);\n        } catch (i) {\n          r = null;\n        }\n\n        try {\n          n && (n.contains && n.contains(f.el) || !f.el.contains(n) || f.el == n) && (n = null);\n        } catch (i) {\n          n = null;\n        }\n\n        return r && r == n && \"A\" == r.tagName ? (f.browser.msie || f.helpers.isMobile()) && (f.selection.info(n).atEnd || f.selection.info(n).atStart) ? null : n : null;\n      }\n\n      return \"A\" == f.el.tagName ? f.el : e && e.get(0).parentNode && \"A\" == e.get(0).parentNode.tagName ? e.get(0).parentNode : void 0;\n    }\n\n    function u() {\n      var e,\n          t,\n          n,\n          r,\n          i = f.image ? f.image.get() : null,\n          a = [];\n      if (i) \"A\" == i.get(0).parentNode.tagName && a.push(i.get(0).parentNode);else if (f.win.getSelection) {\n        var o = f.win.getSelection();\n\n        if (o.getRangeAt && o.rangeCount) {\n          r = f.doc.createRange();\n\n          for (var s = 0; s < o.rangeCount; ++s) {\n            if ((t = (e = o.getRangeAt(s)).commonAncestorContainer) && 1 != t.nodeType && (t = t.parentNode), t && \"a\" == t.nodeName.toLowerCase()) a.push(t);else {\n              n = t.getElementsByTagName(\"a\");\n\n              for (var l = 0; l < n.length; ++l) {\n                r.selectNodeContents(n[l]), r.compareBoundaryPoints(e.END_TO_START, e) < 1 && -1 < r.compareBoundaryPoints(e.START_TO_END, e) && a.push(n[l]);\n              }\n            }\n          }\n        }\n      } else if (f.doc.selection && \"Control\" != f.doc.selection.type) if (\"a\" == (t = (e = f.doc.selection.createRange()).parentElement()).nodeName.toLowerCase()) a.push(t);else {\n        n = t.getElementsByTagName(\"a\"), r = f.doc.body.createTextRange();\n\n        for (var d = 0; d < n.length; ++d) {\n          r.moveToElementText(n[d]), -1 < r.compareEndPoints(\"StartToEnd\", e) && r.compareEndPoints(\"EndToStart\", e) < 1 && a.push(n[d]);\n        }\n      }\n      return a;\n    }\n\n    function h(i) {\n      if (f.core.hasFocus()) {\n        if (o(), i && \"keyup\" === i.type && (i.altKey || i.which == Ee.FE.KEYCODE.ALT)) return !0;\n        setTimeout(function () {\n          if (!i || i && (1 == i.which || \"mouseup\" != i.type)) {\n            var e = p(),\n                t = f.image ? f.image.get() : null;\n\n            if (e && !t) {\n              if (f.image) {\n                var n = f.node.contents(e);\n\n                if (1 == n.length && \"IMG\" == n[0].tagName) {\n                  var r = f.selection.ranges(0);\n                  return 0 === r.startOffset && 0 === r.endOffset ? Ee(e).before(Ee.FE.MARKERS) : Ee(e).after(Ee.FE.MARKERS), f.selection.restore(), !1;\n                }\n              }\n\n              i && i.stopPropagation(), a(e);\n            }\n          }\n        }, f.helpers.isIOS() ? 100 : 0);\n      }\n    }\n\n    function a(e) {\n      var t = f.popups.get(\"link.edit\");\n      t || (t = function () {\n        var e = \"\";\n        1 <= f.opts.linkEditButtons.length && (\"A\" == f.el.tagName && 0 <= f.opts.linkEditButtons.indexOf(\"linkRemove\") && f.opts.linkEditButtons.splice(f.opts.linkEditButtons.indexOf(\"linkRemove\"), 1), e = '<div class=\"fr-buttons\">' + f.button.buildList(f.opts.linkEditButtons) + \"</div>\");\n        var t = {\n          buttons: e\n        },\n            n = f.popups.create(\"link.edit\", t);\n        f.$wp && f.events.$on(f.$wp, \"scroll.link-edit\", function () {\n          p() && f.popups.isVisible(\"link.edit\") && a(p());\n        });\n        return n;\n      }());\n      var n = Ee(e);\n      f.popups.isVisible(\"link.edit\") || f.popups.refresh(\"link.edit\"), f.popups.setContainer(\"link.edit\", f.$sc);\n      var r = n.offset().left + Ee(e).outerWidth() / 2,\n          i = n.offset().top + n.outerHeight();\n      f.popups.show(\"link.edit\", r, i, n.outerHeight());\n    }\n\n    function o() {\n      f.popups.hide(\"link.edit\");\n    }\n\n    function l() {}\n\n    function d() {\n      var e = f.popups.get(\"link.insert\"),\n          t = p();\n\n      if (t) {\n        var n,\n            r,\n            i = Ee(t),\n            a = e.find('input.fr-link-attr[type=\"text\"]'),\n            o = e.find('input.fr-link-attr[type=\"checkbox\"]');\n\n        for (n = 0; n < a.length; n++) {\n          (r = Ee(a[n])).val(i.attr(r.attr(\"name\") || \"\"));\n        }\n\n        for (o.prop(\"checked\", !1), n = 0; n < o.length; n++) {\n          r = Ee(o[n]), i.attr(r.attr(\"name\")) == r.data(\"checked\") && r.prop(\"checked\", !0);\n        }\n\n        e.find('input.fr-link-attr[type=\"text\"][name=\"text\"]').val(i.text());\n      } else e.find('input.fr-link-attr[type=\"text\"]').val(\"\"), e.find('input.fr-link-attr[type=\"checkbox\"]').prop(\"checked\", !1), e.find('input.fr-link-attr[type=\"text\"][name=\"text\"]').val(f.selection.text());\n\n      e.find(\"input.fr-link-attr\").trigger(\"change\"), (f.image ? f.image.get() : null) ? e.find('.fr-link-attr[name=\"text\"]').parent().hide() : e.find('.fr-link-attr[name=\"text\"]').parent().show();\n    }\n\n    function s(e) {\n      if (e) return f.popups.onRefresh(\"link.insert\", d), f.popups.onHide(\"link.insert\", l), !0;\n      var t = \"\";\n      1 <= f.opts.linkInsertButtons.length && (t = '<div class=\"fr-buttons\">' + f.button.buildList(f.opts.linkInsertButtons) + \"</div>\");\n      var n = \"\",\n          r = 0;\n\n      for (var i in n = '<div class=\"fr-link-insert-layer fr-layer fr-active\" id=\"fr-link-insert-layer-' + f.id + '\">', n += '<div class=\"fr-input-line\"><input id=\"fr-link-insert-layer-url-' + f.id + '\" name=\"href\" type=\"text\" class=\"fr-link-attr\" placeholder=\"' + f.language.translate(\"URL\") + '\" tabIndex=\"' + ++r + '\"></div>', f.opts.linkText && (n += '<div class=\"fr-input-line\"><input id=\"fr-link-insert-layer-text-' + f.id + '\" name=\"text\" type=\"text\" class=\"fr-link-attr\" placeholder=\"' + f.language.translate(\"Text\") + '\" tabIndex=\"' + ++r + '\"></div>'), f.opts.linkAttributes) {\n        if (f.opts.linkAttributes.hasOwnProperty(i)) {\n          var a = f.opts.linkAttributes[i];\n          n += '<div class=\"fr-input-line\"><input name=\"' + i + '\" type=\"text\" class=\"fr-link-attr\" placeholder=\"' + f.language.translate(a) + '\" tabIndex=\"' + ++r + '\"></div>';\n        }\n      }\n\n      f.opts.linkAlwaysBlank || (n += '<div class=\"fr-checkbox-line\"><span class=\"fr-checkbox\"><input name=\"target\" class=\"fr-link-attr\" data-checked=\"_blank\" type=\"checkbox\" id=\"fr-link-target-' + f.id + '\" tabIndex=\"' + ++r + '\"><span><svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"10\" height=\"10\" viewBox=\"0 0 32 32\"><path d=\"M27 4l-15 15-7-7-5 5 12 12 20-20z\" fill=\"#FFF\"></path></svg></span></span><label for=\"fr-link-target-' + f.id + '\">' + f.language.translate(\"Open in new tab\") + \"</label></div>\");\n      var o = {\n        buttons: t,\n        input_layer: n += '<div class=\"fr-action-buttons\"><button class=\"fr-command fr-submit\" role=\"button\" data-cmd=\"linkInsert\" href=\"#\" tabIndex=\"' + ++r + '\" type=\"button\">' + f.language.translate(\"Insert\") + \"</button></div></div>\"\n      },\n          s = f.popups.create(\"link.insert\", o);\n      return f.$wp && f.events.$on(f.$wp, \"scroll.link-insert\", function () {\n        (f.image ? f.image.get() : null) && f.popups.isVisible(\"link.insert\") && m(), f.popups.isVisible(\"link.insert\") && g();\n      }), s;\n    }\n\n    function c(e, t, n) {\n      if (void 0 === n && (n = {}), !1 === f.events.trigger(\"link.beforeInsert\", [e, t, n])) return !1;\n      var r = f.image ? f.image.get() : null;\n      r || \"A\" == f.el.tagName ? \"A\" == f.el.tagName && f.$el.focus() : (f.selection.restore(), f.popups.hide(\"link.insert\"));\n      var i = e;\n      f.opts.linkConvertEmailAddress && f.helpers.isEmail(e) && !/^mailto:.*/i.test(e) && (e = \"mailto:\" + e);\n      if (\"\" === f.opts.linkAutoPrefix || new RegExp(\"^(\" + Ee.FE.LinkProtocols.join(\"|\") + \"):.\", \"i\").test(e) || /^data:image.*/i.test(e) || /^(https?:|ftps?:|file:|)\\/\\//i.test(e) || /^([A-Za-z]:(\\\\){1,2}|[A-Za-z]:((\\\\){1,2}[^\\\\]+)+)(\\\\)?$/i.test(e) || [\"/\", \"{\", \"[\", \"#\", \"(\", \".\"].indexOf((e || \"\")[0]) < 0 && (e = f.opts.linkAutoPrefix + f.helpers.sanitizeURL(e)), e = f.helpers.sanitizeURL(e), f.opts.linkAlwaysBlank && (n.target = \"_blank\"), f.opts.linkAlwaysNoFollow && (n.rel = \"nofollow\"), f.helpers.isEmail(i) && (n.target = null, n.rel = null), \"_blank\" == n.target ? (f.opts.linkNoOpener && (n.rel ? n.rel += \" noopener\" : n.rel = \"noopener\"), f.opts.linkNoReferrer && (n.rel ? n.rel += \" noreferrer\" : n.rel = \"noreferrer\")) : null == n.target && (n.rel ? n.rel = n.rel.replace(/noopener/, \"\").replace(/noreferrer/, \"\") : n.rel = null), t = t || \"\", e === f.opts.linkAutoPrefix) return f.popups.get(\"link.insert\").find('input[name=\"href\"]').addClass(\"fr-error\"), f.events.trigger(\"link.bad\", [i]), !1;\n      var a,\n          o = p();\n\n      if (o) {\n        if ((a = Ee(o)).attr(\"href\", e), 0 < t.length && a.text() != t && !r) {\n          for (var s = a.get(0); 1 === s.childNodes.length && s.childNodes[0].nodeType == Node.ELEMENT_NODE;) {\n            s = s.childNodes[0];\n          }\n\n          Ee(s).text(t);\n        }\n\n        r || a.prepend(Ee.FE.START_MARKER).append(Ee.FE.END_MARKER), a.attr(n), r || f.selection.restore();\n      } else {\n        r ? r.wrap('<a href=\"' + e + '\"></a>') : (f.format.remove(\"a\"), f.selection.isCollapsed() ? (t = 0 === t.length ? i : t, f.html.insert('<a href=\"' + e + '\">' + Ee.FE.START_MARKER + t.replace(/&/g, \"&amp;\").replace(/</, \"&lt;\", \">\", \"&gt;\") + Ee.FE.END_MARKER + \"</a>\"), f.selection.restore()) : 0 < t.length && t != f.selection.text().replace(/\\n/g, \"\") ? (f.selection.remove(), f.html.insert('<a href=\"' + e + '\">' + Ee.FE.START_MARKER + t.replace(/&/g, \"&amp;\") + Ee.FE.END_MARKER + \"</a>\"), f.selection.restore()) : (!function () {\n          if (!f.selection.isCollapsed()) {\n            f.selection.save();\n\n            for (var e = f.$el.find(\".fr-marker\").addClass(\"fr-unprocessed\").toArray(); e.length;) {\n              var t = Ee(e.pop());\n              t.removeClass(\"fr-unprocessed\");\n              var n = f.node.deepestParent(t.get(0));\n\n              if (n) {\n                for (var r = t.get(0), i = \"\", a = \"\"; r = r.parentNode, f.node.isBlock(r) || (i += f.node.closeTagString(r), a = f.node.openTagString(r) + a), r != n;) {\n                  ;\n                }\n\n                var o = f.node.openTagString(t.get(0)) + t.html() + f.node.closeTagString(t.get(0));\n                t.replaceWith('<span id=\"fr-break\"></span>');\n                var s = n.outerHTML;\n                s = (s = s.replace(/<span id=\"fr-break\"><\\/span>/g, i + o + a)).replace(a + i, \"\"), n.outerHTML = s;\n              }\n\n              e = f.$el.find(\".fr-marker.fr-unprocessed\").toArray();\n            }\n\n            f.html.cleanEmptyTags(), f.selection.restore();\n          }\n        }(), f.format.apply(\"a\", {\n          href: e\n        })));\n\n        for (var l = u(), d = 0; d < l.length; d++) {\n          (a = Ee(l[d])).attr(n), a.removeAttr(\"_moz_dirty\");\n        }\n\n        1 == l.length && f.$wp && !r && (Ee(l[0]).prepend(Ee.FE.START_MARKER).append(Ee.FE.END_MARKER), f.selection.restore());\n      }\n\n      if (r) {\n        var c = f.popups.get(\"link.insert\");\n        c && c.find(\"input:focus\").blur(), f.image.edit(r);\n      } else h();\n    }\n\n    function g() {\n      o();\n      var e = p();\n\n      if (e) {\n        var t = f.popups.get(\"link.insert\");\n        t || (t = s()), f.popups.isVisible(\"link.insert\") || (f.popups.refresh(\"link.insert\"), f.selection.save(), f.helpers.isMobile() && (f.events.disableBlur(), f.$el.blur(), f.events.enableBlur())), f.popups.setContainer(\"link.insert\", f.$sc);\n        var n = (f.image ? f.image.get() : null) || Ee(e),\n            r = n.offset().left + n.outerWidth() / 2,\n            i = n.offset().top + n.outerHeight();\n        f.popups.show(\"link.insert\", r, i, n.outerHeight());\n      }\n    }\n\n    function m() {\n      var e = f.image ? f.image.getEl() : null;\n\n      if (e) {\n        var t = f.popups.get(\"link.insert\");\n        f.image.hasCaption() && (e = e.find(\".fr-img-wrap\")), t || (t = s()), d(), f.popups.setContainer(\"link.insert\", f.$sc);\n        var n = e.offset().left + e.outerWidth() / 2,\n            r = e.offset().top + e.outerHeight();\n        f.popups.show(\"link.insert\", n, r, e.outerHeight());\n      }\n    }\n\n    return {\n      _init: function _init() {\n        f.events.on(\"keyup\", function (e) {\n          e.which != Ee.FE.KEYCODE.ESC && h(e);\n        }), f.events.on(\"window.mouseup\", h), f.events.$on(f.$el, \"click\", \"a\", function (e) {\n          f.edit.isDisabled() && e.preventDefault();\n        }), f.helpers.isMobile() && f.events.$on(f.$doc, \"selectionchange\", h), s(!0), \"A\" == f.el.tagName && f.$el.addClass(\"fr-view\"), f.events.on(\"toolbar.esc\", function () {\n          if (f.popups.isVisible(\"link.edit\")) return f.events.disableBlur(), f.events.focus(), !1;\n        }, !0);\n      },\n      remove: function remove() {\n        var e = p(),\n            t = f.image ? f.image.get() : null;\n        if (!1 === f.events.trigger(\"link.beforeRemove\", [e])) return !1;\n        t && e ? (t.unwrap(), f.image.edit(t)) : e && (f.selection.save(), Ee(e).replaceWith(Ee(e).html()), f.selection.restore(), o());\n      },\n      showInsertPopup: function showInsertPopup() {\n        var e = f.$tb.find('.fr-command[data-cmd=\"insertLink\"]'),\n            t = f.popups.get(\"link.insert\");\n        if (t || (t = s()), !t.hasClass(\"fr-active\")) if (f.popups.refresh(\"link.insert\"), f.popups.setContainer(\"link.insert\", f.$tb || f.$sc), e.is(\":visible\")) {\n          var n = e.offset().left + e.outerWidth() / 2,\n              r = e.offset().top + (f.opts.toolbarBottom ? 10 : e.outerHeight() - 10);\n          f.popups.show(\"link.insert\", n, r, e.outerHeight());\n        } else f.position.forSelection(t), f.popups.show(\"link.insert\");\n      },\n      usePredefined: function usePredefined(e) {\n        var t,\n            n,\n            r = f.opts.linkList[e],\n            i = f.popups.get(\"link.insert\"),\n            a = i.find('input.fr-link-attr[type=\"text\"]'),\n            o = i.find('input.fr-link-attr[type=\"checkbox\"]');\n\n        for (n = 0; n < a.length; n++) {\n          r[(t = Ee(a[n])).attr(\"name\")] ? t.val(r[t.attr(\"name\")]) : \"text\" != t.attr(\"name\") && t.val(\"\");\n        }\n\n        for (n = 0; n < o.length; n++) {\n          (t = Ee(o[n])).prop(\"checked\", t.data(\"checked\") == r[t.attr(\"name\")]);\n        }\n\n        f.accessibility.focusPopup(i);\n      },\n      insertCallback: function insertCallback() {\n        var e,\n            t,\n            n = f.popups.get(\"link.insert\"),\n            r = n.find('input.fr-link-attr[type=\"text\"]'),\n            i = n.find('input.fr-link-attr[type=\"checkbox\"]'),\n            a = (r.filter('[name=\"href\"]').val() || \"\").trim(),\n            o = r.filter('[name=\"text\"]').val(),\n            s = {};\n\n        for (t = 0; t < r.length; t++) {\n          e = Ee(r[t]), [\"href\", \"text\"].indexOf(e.attr(\"name\")) < 0 && (s[e.attr(\"name\")] = e.val());\n        }\n\n        for (t = 0; t < i.length; t++) {\n          (e = Ee(i[t])).is(\":checked\") ? s[e.attr(\"name\")] = e.data(\"checked\") : s[e.attr(\"name\")] = e.data(\"unchecked\") || null;\n        }\n\n        var l = f.helpers.scrollTop();\n        c(a, o, s), Ee(f.o_win).scrollTop(l);\n      },\n      insert: c,\n      update: g,\n      get: p,\n      allSelected: u,\n      back: function back() {\n        f.image && f.image.get() ? f.image.back() : (f.events.disableBlur(), f.selection.restore(), f.events.enableBlur(), p() && f.$wp ? (f.selection.restore(), o(), h()) : \"A\" == f.el.tagName ? (f.$el.focus(), h()) : (f.popups.hide(\"link.insert\"), f.toolbar.showInline()));\n      },\n      imageLink: m,\n      applyStyle: function applyStyle(e, t, n) {\n        void 0 === n && (n = f.opts.linkMultipleStyles), void 0 === t && (t = f.opts.linkStyles);\n        var r = p();\n        if (!r) return !1;\n\n        if (!n) {\n          var i = Object.keys(t);\n          i.splice(i.indexOf(e), 1), Ee(r).removeClass(i.join(\" \"));\n        }\n\n        Ee(r).toggleClass(e), h();\n      }\n    };\n  }, Ee.FE.DefineIcon(\"insertLink\", {\n    NAME: \"link\"\n  }), Ee.FE.RegisterShortcut(Ee.FE.KEYCODE.K, \"insertLink\", null, \"K\"), Ee.FE.RegisterCommand(\"insertLink\", {\n    title: \"Insert Link\",\n    undo: !1,\n    focus: !0,\n    refreshOnCallback: !1,\n    popup: !0,\n    callback: function callback() {\n      this.popups.isVisible(\"link.insert\") ? (this.$el.find(\".fr-marker\").length && (this.events.disableBlur(), this.selection.restore()), this.popups.hide(\"link.insert\")) : this.link.showInsertPopup();\n    },\n    plugin: \"link\"\n  }), Ee.FE.DefineIcon(\"linkOpen\", {\n    NAME: \"external-link\",\n    FA5NAME: \"external-link-alt\"\n  }), Ee.FE.RegisterCommand(\"linkOpen\", {\n    title: \"Open Link\",\n    undo: !1,\n    refresh: function refresh(e) {\n      this.link.get() ? e.removeClass(\"fr-hidden\") : e.addClass(\"fr-hidden\");\n    },\n    callback: function callback() {\n      var e = this.link.get();\n      e && (-1 !== e.href.indexOf(\"mailto:\") ? this.o_win.open(e.href).close() : this.o_win.open(e.href, \"_blank\", \"noopener\"), this.popups.hide(\"link.edit\"));\n    },\n    plugin: \"link\"\n  }), Ee.FE.DefineIcon(\"linkEdit\", {\n    NAME: \"edit\"\n  }), Ee.FE.RegisterCommand(\"linkEdit\", {\n    title: \"Edit Link\",\n    undo: !1,\n    refreshAfterCallback: !1,\n    popup: !0,\n    callback: function callback() {\n      this.link.update();\n    },\n    refresh: function refresh(e) {\n      this.link.get() ? e.removeClass(\"fr-hidden\") : e.addClass(\"fr-hidden\");\n    },\n    plugin: \"link\"\n  }), Ee.FE.DefineIcon(\"linkRemove\", {\n    NAME: \"unlink\"\n  }), Ee.FE.RegisterCommand(\"linkRemove\", {\n    title: \"Unlink\",\n    callback: function callback() {\n      this.link.remove();\n    },\n    refresh: function refresh(e) {\n      this.link.get() ? e.removeClass(\"fr-hidden\") : e.addClass(\"fr-hidden\");\n    },\n    plugin: \"link\"\n  }), Ee.FE.DefineIcon(\"linkBack\", {\n    NAME: \"arrow-left\"\n  }), Ee.FE.RegisterCommand(\"linkBack\", {\n    title: \"Back\",\n    undo: !1,\n    focus: !1,\n    back: !0,\n    refreshAfterCallback: !1,\n    callback: function callback() {\n      this.link.back();\n    },\n    refresh: function refresh(e) {\n      var t = this.link.get() && this.doc.hasFocus();\n      (this.image ? this.image.get() : null) || t || this.opts.toolbarInline ? (e.removeClass(\"fr-hidden\"), e.next(\".fr-separator\").removeClass(\"fr-hidden\")) : (e.addClass(\"fr-hidden\"), e.next(\".fr-separator\").addClass(\"fr-hidden\"));\n    },\n    plugin: \"link\"\n  }), Ee.FE.DefineIcon(\"linkList\", {\n    NAME: \"search\"\n  }), Ee.FE.RegisterCommand(\"linkList\", {\n    title: \"Choose Link\",\n    type: \"dropdown\",\n    focus: !1,\n    undo: !1,\n    refreshAfterCallback: !1,\n    html: function html() {\n      for (var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">', t = this.opts.linkList, n = 0; n < t.length; n++) {\n        e += '<li role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"linkList\" data-param1=\"' + n + '\">' + (t[n].displayText || t[n].text) + \"</a></li>\";\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      this.link.usePredefined(t);\n    },\n    plugin: \"link\"\n  }), Ee.FE.RegisterCommand(\"linkInsert\", {\n    focus: !1,\n    refreshAfterCallback: !1,\n    callback: function callback() {\n      this.link.insertCallback();\n    },\n    refresh: function refresh(e) {\n      this.link.get() ? e.text(this.language.translate(\"Update\")) : e.text(this.language.translate(\"Insert\"));\n    },\n    plugin: \"link\"\n  }), Ee.FE.DefineIcon(\"imageLink\", {\n    NAME: \"link\"\n  }), Ee.FE.RegisterCommand(\"imageLink\", {\n    title: \"Insert Link\",\n    undo: !1,\n    focus: !1,\n    popup: !0,\n    callback: function callback() {\n      this.link.imageLink();\n    },\n    refresh: function refresh(e) {\n      var t;\n      this.link.get() ? ((t = e.prev()).hasClass(\"fr-separator\") && t.removeClass(\"fr-hidden\"), e.addClass(\"fr-hidden\")) : ((t = e.prev()).hasClass(\"fr-separator\") && t.addClass(\"fr-hidden\"), e.removeClass(\"fr-hidden\"));\n    },\n    plugin: \"link\"\n  }), Ee.FE.DefineIcon(\"linkStyle\", {\n    NAME: \"magic\"\n  }), Ee.FE.RegisterCommand(\"linkStyle\", {\n    title: \"Style\",\n    type: \"dropdown\",\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = this.opts.linkStyles;\n\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e += '<li role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"linkStyle\" data-param1=\"' + n + '\">' + this.language.translate(t[n]) + \"</a></li>\");\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      this.link.applyStyle(t);\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      var n = this.link.get();\n\n      if (n) {\n        var r = Ee(n);\n        t.find(\".fr-command\").each(function () {\n          var e = Ee(this).data(\"param1\"),\n              t = r.hasClass(e);\n          Ee(this).toggleClass(\"fr-active\", t).attr(\"aria-selected\", t);\n        });\n      }\n    },\n    refresh: function refresh(e) {\n      this.link.get() ? e.removeClass(\"fr-hidden\") : e.addClass(\"fr-hidden\");\n    },\n    plugin: \"link\"\n  }), Ee.extend(Ee.FE.DEFAULTS, {\n    listAdvancedTypes: !0\n  }), Ee.FE.PLUGINS.lists = function (f) {\n    function p(e) {\n      return '<span class=\"fr-open-' + e.toLowerCase() + '\"></span>';\n    }\n\n    function u(e) {\n      return '<span class=\"fr-close-' + e.toLowerCase() + '\"></span>';\n    }\n\n    function i(e, t) {\n      !function (e, t) {\n        for (var n = [], r = 0; r < e.length; r++) {\n          var i = e[r].parentNode;\n          \"LI\" == e[r].tagName && i.tagName != t && n.indexOf(i) < 0 && n.push(i);\n        }\n\n        for (r = n.length - 1; 0 <= r; r--) {\n          var a = Ee(n[r]);\n          a.replaceWith(\"<\" + t.toLowerCase() + \" \" + f.node.attributes(a.get(0)) + \">\" + a.html() + \"</\" + t.toLowerCase() + \">\");\n        }\n      }(e, t);\n      var n,\n          r = f.html.defaultTag(),\n          i = null;\n      e.length && (n = \"rtl\" == f.opts.direction || \"rtl\" == Ee(e[0]).css(\"direction\") ? \"margin-right\" : \"margin-left\");\n\n      for (var a = 0; a < e.length; a++) {\n        if (\"TD\" != e[a].tagName && \"TH\" != e[a].tagName && \"LI\" != e[a].tagName) {\n          var o = f.helpers.getPX(Ee(e[a]).css(n)) || 0;\n          (e[a].style.marginLeft = null) === i && (i = o);\n          var s = 0 < i ? \"<\" + t + ' style=\"' + n + \": \" + i + 'px;\">' : \"<\" + t + \">\",\n              l = \"</\" + t + \">\";\n\n          for (o -= i; 0 < o / f.opts.indentMargin;) {\n            s += \"<\" + t + \">\", l += l, o -= f.opts.indentMargin;\n          }\n\n          r && e[a].tagName.toLowerCase() == r ? Ee(e[a]).replaceWith(s + \"<li\" + f.node.attributes(e[a]) + \">\" + Ee(e[a]).html() + \"</li>\" + l) : Ee(e[a]).wrap(s + \"<li></li>\" + l);\n        }\n      }\n\n      f.clean.lists();\n    }\n\n    function a(e) {\n      var t, n;\n\n      for (t = e.length - 1; 0 <= t; t--) {\n        for (n = t - 1; 0 <= n; n--) {\n          if (Ee(e[n]).find(e[t]).length || e[n] == e[t]) {\n            e.splice(t, 1);\n            break;\n          }\n        }\n      }\n\n      var r = [];\n\n      for (t = 0; t < e.length; t++) {\n        var i = Ee(e[t]),\n            a = e[t].parentNode,\n            o = i.attr(\"class\");\n        if (i.before(u(a.tagName)), \"LI\" == a.parentNode.tagName) i.before(u(\"LI\")), i.after(p(\"LI\"));else {\n          var s = \"\";\n          o && (s += ' class=\"' + o + '\"');\n          var l = \"rtl\" == f.opts.direction || \"rtl\" == i.css(\"direction\") ? \"margin-right\" : \"margin-left\";\n          f.helpers.getPX(Ee(a).css(l)) && 0 <= (Ee(a).attr(\"style\") || \"\").indexOf(l + \":\") && (s += ' style=\"' + l + \":\" + f.helpers.getPX(Ee(a).css(l)) + 'px;\"'), f.html.defaultTag() && 0 === i.find(f.html.blockTagsQuery()).length && i.wrapInner(\"<\" + f.html.defaultTag() + s + \"></\" + f.html.defaultTag() + \">\"), f.node.isEmpty(i.get(0), !0) || 0 !== i.find(f.html.blockTagsQuery()).length || i.append(\"<br>\"), i.append(p(\"LI\")), i.prepend(u(\"LI\"));\n        }\n        i.after(p(a.tagName)), \"LI\" == a.parentNode.tagName && (a = a.parentNode.parentNode), r.indexOf(a) < 0 && r.push(a);\n      }\n\n      for (t = 0; t < r.length; t++) {\n        var d = Ee(r[t]),\n            c = d.html();\n        c = (c = c.replace(/<span class=\"fr-close-([a-z]*)\"><\\/span>/g, \"</$1>\")).replace(/<span class=\"fr-open-([a-z]*)\"><\\/span>/g, \"<$1>\"), d.replaceWith(f.node.openTagString(d.get(0)) + c + f.node.closeTagString(d.get(0)));\n      }\n\n      f.$el.find(\"li:empty\").remove(), f.$el.find(\"ul:empty, ol:empty\").remove(), f.clean.lists(), f.html.wrap();\n    }\n\n    function o(e) {\n      f.selection.save();\n\n      for (var t = 0; t < e.length; t++) {\n        var n = e[t].previousSibling;\n\n        if (n) {\n          var r = Ee(e[t]).find(\"> ul, > ol\").last().get(0);\n\n          if (r) {\n            for (var i = Ee(\"<li>\").prependTo(Ee(r)), a = f.node.contents(e[t])[0]; a && !f.node.isList(a);) {\n              var o = a.nextSibling;\n              i.append(a), a = o;\n            }\n\n            Ee(n).append(Ee(r)), Ee(e[t]).remove();\n          } else {\n            var s = Ee(n).find(\"> ul, > ol\").last().get(0);\n            if (s) Ee(s).append(Ee(e[t]));else {\n              var l = Ee(\"<\" + e[t].parentNode.tagName + \">\");\n              Ee(n).append(l), l.append(Ee(e[t]));\n            }\n          }\n        }\n      }\n\n      f.clean.lists(), f.selection.restore();\n    }\n\n    function s(e) {\n      f.selection.save(), a(e), f.selection.restore();\n    }\n\n    function e(e) {\n      if (\"indent\" == e || \"outdent\" == e) {\n        for (var t = !1, n = f.selection.blocks(), r = [], i = 0; i < n.length; i++) {\n          \"LI\" == n[i].tagName ? (t = !0, r.push(n[i])) : \"LI\" == n[i].parentNode.tagName && (t = !0, r.push(n[i].parentNode));\n        }\n\n        t && (\"indent\" == e ? o(r) : s(r));\n      }\n    }\n\n    return {\n      _init: function _init() {\n        f.events.on(\"commands.after\", e), f.events.on(\"keydown\", function (e) {\n          if (e.which == Ee.FE.KEYCODE.TAB) {\n            for (var t = f.selection.blocks(), n = [], r = 0; r < t.length; r++) {\n              \"LI\" == t[r].tagName ? n.push(t[r]) : \"LI\" == t[r].parentNode.tagName && n.push(t[r].parentNode);\n            }\n\n            if (1 < n.length || n.length && (f.selection.info(n[0]).atStart || f.node.isEmpty(n[0]))) return e.preventDefault(), e.stopPropagation(), e.shiftKey ? s(n) : o(n), !1;\n          }\n        }, !0);\n      },\n      format: function format(e, t) {\n        var n, r;\n\n        for (f.selection.save(), f.html.wrap(!0, !0, !0, !0), f.selection.restore(), r = f.selection.blocks(), n = 0; n < r.length; n++) {\n          \"LI\" != r[n].tagName && \"LI\" == r[n].parentNode.tagName && (r[n] = r[n].parentNode);\n        }\n\n        if (f.selection.save(), function (e, t) {\n          for (var n = !0, r = 0; r < e.length; r++) {\n            if (\"LI\" != e[r].tagName) return !1;\n            e[r].parentNode.tagName != t && (n = !1);\n          }\n\n          return n;\n        }(r, e) ? t || a(r) : i(r, e), f.html.unwrap(), f.selection.restore(), t = t || \"default\") {\n          for (r = f.selection.blocks(), n = 0; n < r.length; n++) {\n            \"LI\" != r[n].tagName && \"LI\" == r[n].parentNode.tagName && (r[n] = r[n].parentNode);\n          }\n\n          for (n = 0; n < r.length; n++) {\n            \"LI\" == r[n].tagName && (Ee(r[n].parentNode).css(\"list-style-type\", \"default\" === t ? \"\" : t), 0 === (Ee(r[n].parentNode).attr(\"style\") || \"\").length && Ee(r[n].parentNode).removeAttr(\"style\"));\n          }\n        }\n      },\n      refresh: function refresh(e, t) {\n        var n = Ee(f.selection.element());\n\n        if (n.get(0) != f.el) {\n          var r = n.get(0);\n          (r = \"LI\" != r.tagName && r.firstElementChild && \"LI\" != r.firstElementChild.tagName ? n.parents(\"li\").get(0) : \"LI\" == r.tagName || r.firstElementChild ? r.firstElementChild && \"LI\" == r.firstElementChild.tagName ? n.get(0).firstChild : n.get(0) : n.parents(\"li\").get(0)) && r.parentNode.tagName == t && f.el.contains(r.parentNode) && e.addClass(\"fr-active\");\n        }\n      }\n    };\n  }, Ee.FE.RegisterCommand(\"formatUL\", {\n    title: \"Unordered List\",\n    type: \"button\",\n    hasOptions: function hasOptions() {\n      return this.opts.listAdvancedTypes;\n    },\n    options: {\n      \"default\": \"Default\",\n      circle: \"Circle\",\n      disc: \"Disc\",\n      square: \"Square\"\n    },\n    refresh: function refresh(e) {\n      this.lists.refresh(e, \"UL\");\n    },\n    callback: function callback(e, t) {\n      this.lists.format(\"UL\", t);\n    },\n    plugin: \"lists\"\n  }), Ee.FE.RegisterCommand(\"formatOL\", {\n    title: \"Ordered List\",\n    hasOptions: function hasOptions() {\n      return this.opts.listAdvancedTypes;\n    },\n    options: {\n      \"default\": \"Default\",\n      \"lower-alpha\": \"Lower Alpha\",\n      \"lower-greek\": \"Lower Greek\",\n      \"lower-roman\": \"Lower Roman\",\n      \"upper-alpha\": \"Upper Alpha\",\n      \"upper-roman\": \"Upper Roman\"\n    },\n    refresh: function refresh(e) {\n      this.lists.refresh(e, \"OL\");\n    },\n    callback: function callback(e, t) {\n      this.lists.format(\"OL\", t);\n    },\n    plugin: \"lists\"\n  }), Ee.FE.DefineIcon(\"formatUL\", {\n    NAME: \"list-ul\"\n  }), Ee.FE.DefineIcon(\"formatOL\", {\n    NAME: \"list-ol\"\n  }), Ee.extend(Ee.FE.DEFAULTS, {\n    paragraphFormat: {\n      N: \"Normal\",\n      H1: \"Heading 1\",\n      H2: \"Heading 2\",\n      H3: \"Heading 3\",\n      H4: \"Heading 4\",\n      PRE: \"Code\"\n    },\n    paragraphFormatSelection: !1,\n    paragraphDefaultSelection: \"Paragraph Format\"\n  }), Ee.FE.PLUGINS.paragraphFormat = function (p) {\n    function u(e, t) {\n      var n = p.html.defaultTag();\n      if (t && t.toLowerCase() != n) if (0 < e.find(\"ul, ol\").length) {\n        var r = Ee(\"<\" + t + \">\");\n        e.prepend(r);\n\n        for (var i = p.node.contents(e.get(0))[0]; i && [\"UL\", \"OL\"].indexOf(i.tagName) < 0;) {\n          var a = i.nextSibling;\n          r.append(i), i = a;\n        }\n      } else e.html(\"<\" + t + \">\" + e.html() + \"</\" + t + \">\");\n    }\n\n    return {\n      apply: function apply(e) {\n        \"N\" == e && (e = p.html.defaultTag()), p.selection.save(), p.html.wrap(!0, !0, !p.opts.paragraphFormat.BLOCKQUOTE, !0, !0), p.selection.restore();\n        var t,\n            n,\n            r,\n            i,\n            a,\n            o,\n            s,\n            l,\n            d = p.selection.blocks();\n        p.selection.save(), p.$el.find(\"pre\").attr(\"skip\", !0);\n\n        for (var c = 0; c < d.length; c++) {\n          if (d[c].tagName != e && !p.node.isList(d[c])) {\n            var f = Ee(d[c]);\n            \"LI\" == d[c].tagName ? u(f, e) : \"LI\" == d[c].parentNode.tagName && d[c] ? (o = f, s = e, l = p.html.defaultTag(), s && s.toLowerCase() != l || (s = 'div class=\"fr-temp-div\"'), o.replaceWith(Ee(\"<\" + s + \">\").html(o.html()))) : 0 <= [\"TD\", \"TH\"].indexOf(d[c].parentNode.tagName) ? (r = f, i = e, a = p.html.defaultTag(), i || (i = 'div class=\"fr-temp-div\"' + (p.node.isEmpty(r.get(0), !0) ? ' data-empty=\"true\"' : \"\")), i.toLowerCase() == a ? (p.node.isEmpty(r.get(0), !0) || r.append(\"<br/>\"), r.replaceWith(r.html())) : r.replaceWith(Ee(\"<\" + i + \">\").html(r.html()))) : (t = f, (n = e) || (n = 'div class=\"fr-temp-div\"' + (p.node.isEmpty(t.get(0), !0) ? ' data-empty=\"true\"' : \"\")), t.replaceWith(Ee(\"<\" + n + \" \" + p.node.attributes(t.get(0)) + \">\").html(t.html()).removeAttr(\"data-empty\")));\n          }\n        }\n\n        p.$el.find('pre:not([skip=\"true\"]) + pre:not([skip=\"true\"])').each(function () {\n          Ee(this).prev().append(\"<br>\" + Ee(this).html()), Ee(this).remove();\n        }), p.$el.find(\"pre\").removeAttr(\"skip\"), p.html.unwrap(), p.selection.restore();\n      },\n      refreshOnShow: function refreshOnShow(e, t) {\n        var n = p.selection.blocks();\n\n        if (n.length) {\n          var r = n[0],\n              i = \"N\",\n              a = p.html.defaultTag();\n          r.tagName.toLowerCase() != a && r != p.el && (i = r.tagName), t.find('.fr-command[data-param1=\"' + i + '\"]').addClass(\"fr-active\").attr(\"aria-selected\", !0);\n        } else t.find('.fr-command[data-param1=\"N\"]').addClass(\"fr-active\").attr(\"aria-selected\", !0);\n      },\n      refresh: function refresh(e) {\n        if (p.opts.paragraphFormatSelection) {\n          var t = p.selection.blocks();\n\n          if (t.length) {\n            var n = t[0],\n                r = \"N\",\n                i = p.html.defaultTag();\n            n.tagName.toLowerCase() != i && n != p.el && (r = n.tagName), 0 <= [\"LI\", \"TD\", \"TH\"].indexOf(r) && (r = \"N\"), e.find(\"> span\").text(p.language.translate(p.opts.paragraphFormat[r]));\n          } else e.find(\"> span\").text(p.language.translate(p.opts.paragraphFormat.N));\n        }\n      }\n    };\n  }, Ee.FE.RegisterCommand(\"paragraphFormat\", {\n    type: \"dropdown\",\n    displaySelection: function displaySelection(e) {\n      return e.opts.paragraphFormatSelection;\n    },\n    defaultSelection: function defaultSelection(e) {\n      return e.language.translate(e.opts.paragraphDefaultSelection);\n    },\n    displaySelectionWidth: 125,\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = this.opts.paragraphFormat;\n\n      for (var n in t) {\n        if (t.hasOwnProperty(n)) {\n          var r = this.shortcuts.get(\"paragraphFormat.\" + n);\n          r = r ? '<span class=\"fr-shortcut\">' + r + \"</span>\" : \"\", e += '<li role=\"presentation\"><' + (\"N\" == n ? this.html.defaultTag() || \"DIV\" : n) + ' style=\"padding: 0 !important; margin: 0 !important;\" role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"paragraphFormat\" data-param1=\"' + n + '\" title=\"' + this.language.translate(t[n]) + '\">' + this.language.translate(t[n]) + \"</a></\" + (\"N\" == n ? this.html.defaultTag() || \"DIV\" : n) + \"></li>\";\n        }\n      }\n\n      return e += \"</ul>\";\n    },\n    title: \"Paragraph Format\",\n    callback: function callback(e, t) {\n      this.paragraphFormat.apply(t);\n    },\n    refresh: function refresh(e) {\n      this.paragraphFormat.refresh(e);\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      this.paragraphFormat.refreshOnShow(e, t);\n    },\n    plugin: \"paragraphFormat\"\n  }), Ee.FE.DefineIcon(\"paragraphFormat\", {\n    NAME: \"paragraph\"\n  }), Ee.extend(Ee.FE.DEFAULTS, {\n    paragraphStyles: {\n      \"fr-text-gray\": \"Gray\",\n      \"fr-text-bordered\": \"Bordered\",\n      \"fr-text-spaced\": \"Spaced\",\n      \"fr-text-uppercase\": \"Uppercase\"\n    },\n    paragraphMultipleStyles: !0\n  }), Ee.FE.PLUGINS.paragraphStyle = function (s) {\n    return {\n      _init: function _init() {},\n      apply: function apply(e, t, n) {\n        void 0 === t && (t = s.opts.paragraphStyles), void 0 === n && (n = s.opts.paragraphMultipleStyles);\n        var r = \"\";\n        n || ((r = Object.keys(t)).splice(r.indexOf(e), 1), r = r.join(\" \")), s.selection.save(), s.html.wrap(!0, !0, !0, !0), s.selection.restore();\n        var i = s.selection.blocks();\n        s.selection.save();\n\n        for (var a = Ee(i[0]).hasClass(e), o = 0; o < i.length; o++) {\n          Ee(i[o]).removeClass(r).toggleClass(e, !a), Ee(i[o]).hasClass(\"fr-temp-div\") && Ee(i[o]).removeClass(\"fr-temp-div\"), \"\" === Ee(i[o]).attr(\"class\") && Ee(i[o]).removeAttr(\"class\");\n        }\n\n        s.html.unwrap(), s.selection.restore();\n      },\n      refreshOnShow: function refreshOnShow(e, t) {\n        var n = s.selection.blocks();\n\n        if (n.length) {\n          var r = Ee(n[0]);\n          t.find(\".fr-command\").each(function () {\n            var e = Ee(this).data(\"param1\"),\n                t = r.hasClass(e);\n            Ee(this).toggleClass(\"fr-active\", t).attr(\"aria-selected\", t);\n          });\n        }\n      }\n    };\n  }, Ee.FE.RegisterCommand(\"paragraphStyle\", {\n    type: \"dropdown\",\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = this.opts.paragraphStyles;\n\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e += '<li role=\"presentation\"><a class=\"fr-command ' + n + '\" tabIndex=\"-1\" role=\"option\" data-cmd=\"paragraphStyle\" data-param1=\"' + n + '\" title=\"' + this.language.translate(t[n]) + '\">' + this.language.translate(t[n]) + \"</a></li>\");\n      }\n\n      return e += \"</ul>\";\n    },\n    title: \"Paragraph Style\",\n    callback: function callback(e, t) {\n      this.paragraphStyle.apply(t);\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      this.paragraphStyle.refreshOnShow(e, t);\n    },\n    plugin: \"paragraphStyle\"\n  }), Ee.FE.DefineIcon(\"paragraphStyle\", {\n    NAME: \"magic\"\n  }), Ee.extend(Ee.FE.DEFAULTS, {\n    html2pdf: window.html2pdf\n  }), Ee.FE.PLUGINS.print = function (s) {\n    return {\n      run: function run() {\n        !function (e) {\n          var t = s.$el.html(),\n              n = null;\n          s.shared.print_iframe ? n = s.shared.print_iframe : ((n = document.createElement(\"iframe\")).name = \"fr-print\", n.style.position = \"fixed\", n.style.top = \"0\", n.style.left = \"-9999px\", n.style.height = \"100%\", n.style.width = \"0\", n.style.overflow = \"hidden\", n.style[\"z-index\"] = \"2147483647\", n.style.tabIndex = \"-1\", s.events.on(\"shared.destroy\", function () {\n            n.remove();\n          }), s.shared.print_iframe = n);\n\n          try {\n            document.body.removeChild(n);\n          } catch (o) {}\n\n          document.body.appendChild(n);\n\n          var r = function r() {\n            e(), n.removeEventListener(\"load\", r);\n          };\n\n          n.addEventListener(\"load\", r);\n          var i = n.contentWindow;\n          i.document.open(), i.document.write(\"<!DOCTYPE html><html \" + (s.opts.documentReady ? 'style=\"margin: 0; padding: 0;\"' : \"\") + \"><head><title>\" + document.title + \"</title>\"), Array.prototype.forEach.call(document.querySelectorAll(\"style\"), function (e) {\n            e = e.cloneNode(!0), i.document.write(e.outerHTML);\n          });\n          var a = document.querySelectorAll(\"link[rel=stylesheet]\");\n          Array.prototype.forEach.call(a, function (e) {\n            var t = document.createElement(\"link\");\n            t.rel = e.rel, t.href = e.href, t.media = \"print\", t.type = \"text/css\", t.media = \"all\", i.document.write(t.outerHTML);\n          }), i.document.write('</head><body style=\"text-align: ' + (\"rtl\" == s.opts.direction ? \"right\" : \"left\") + \"; direction: \" + s.opts.direction + \"; \" + (s.opts.documentReady ? \" padding: 2cm; width: 17cm; margin: 0;\" : \"\") + '\"><div class=\"fr-view\">'), i.document.write(t), i.document.write(\"</div></body></html>\"), i.document.close();\n        }(function () {\n          setTimeout(function () {\n            s.events.disableBlur(), window.frames[\"fr-print\"].focus(), window.frames[\"fr-print\"].print(), s.$win.get(0).focus(), s.events.disableBlur(), s.events.focus();\n          }, 0);\n        });\n      },\n      toPDF: function toPDF() {\n        s.opts.html2pdf && (s.$el.css(\"text-align\", \"left\"), s.opts.html2pdf().set({\n          margin: [10, 20],\n          html2canvas: {\n            useCORS: !0\n          }\n        }).from(s.el).save(), setTimeout(function () {\n          s.$el.css(\"text-align\", \"\");\n        }, 100));\n      }\n    };\n  }, Ee.FE.DefineIcon(\"print\", {\n    NAME: \"print\"\n  }), Ee.FE.RegisterCommand(\"print\", {\n    title: \"Print\",\n    undo: !1,\n    focus: !1,\n    plugin: \"print\",\n    callback: function callback() {\n      this.print.run();\n    }\n  }), Ee.FE.DefineIcon(\"getPDF\", {\n    NAME: \"file-pdf-o\",\n    FA5NAME: \"file-pdf\"\n  }), Ee.FE.RegisterCommand(\"getPDF\", {\n    title: \"Download PDF\",\n    type: \"button\",\n    focus: !1,\n    undo: !1,\n    callback: function callback() {\n      this.print.toPDF();\n    }\n  }), Ee.extend(Ee.FE.DEFAULTS, {\n    quickInsertButtons: [\"image\", \"video\", \"embedly\", \"table\", \"ul\", \"ol\", \"hr\"],\n    quickInsertTags: [\"p\", \"div\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"pre\", \"blockquote\"],\n    quickInsertEnabled: !0\n  }), Ee.FE.QUICK_INSERT_BUTTONS = {}, Ee.FE.DefineIcon(\"quickInsert\", {\n    PATH: '<path d=\"M22,16.75 L16.75,16.75 L16.75,22 L15.25,22.000 L15.25,16.75 L10,16.75 L10,15.25 L15.25,15.25 L15.25,10 L16.75,10 L16.75,15.25 L22,15.25 L22,16.75 Z\"/>',\n    template: \"svg\"\n  }), Ee.FE.RegisterQuickInsertButton = function (e, t) {\n    Ee.FE.QUICK_INSERT_BUTTONS[e] = Ee.extend({\n      undo: !0\n    }, t);\n  }, Ee.FE.RegisterQuickInsertButton(\"image\", {\n    icon: \"insertImage\",\n    requiredPlugin: \"image\",\n    title: \"Insert Image\",\n    undo: !1,\n    callback: function callback() {\n      var e = this;\n      e.shared.$qi_image_input || (e.shared.$qi_image_input = Ee('<input accept=\"image/' + e.opts.imageAllowedTypes.join(\", image/\").toLowerCase() + '\" name=\"quickInsertImage' + this.id + '\" style=\"display: none;\" type=\"file\">'), Ee(\"body:first\").append(e.shared.$qi_image_input), e.events.$on(e.shared.$qi_image_input, \"change\", function () {\n        var e = Ee(this).data(\"inst\");\n        this.files && (e.quickInsert.hide(), e.image.upload(this.files)), Ee(this).val(\"\");\n      }, !0)), e.$qi_image_input = e.shared.$qi_image_input, e.helpers.isMobile() && e.selection.save(), e.events.disableBlur(), e.$qi_image_input.data(\"inst\", e).trigger(\"click\");\n    }\n  }), Ee.FE.RegisterQuickInsertButton(\"video\", {\n    icon: \"insertVideo\",\n    requiredPlugin: \"video\",\n    title: \"Insert Video\",\n    undo: !1,\n    callback: function callback() {\n      var e = prompt(this.language.translate(\"Paste the URL of the video you want to insert.\"));\n      e && this.video.insertByURL(e);\n    }\n  }), Ee.FE.RegisterQuickInsertButton(\"embedly\", {\n    icon: \"embedly\",\n    requiredPlugin: \"embedly\",\n    title: \"Embed URL\",\n    undo: !1,\n    callback: function callback() {\n      var e = prompt(this.language.translate(\"Paste the URL of any web content you want to insert.\"));\n      e && this.embedly.add(e);\n    }\n  }), Ee.FE.RegisterQuickInsertButton(\"table\", {\n    icon: \"insertTable\",\n    requiredPlugin: \"table\",\n    title: \"Insert Table\",\n    callback: function callback() {\n      this.table.insert(2, 2);\n    }\n  }), Ee.FE.RegisterQuickInsertButton(\"ol\", {\n    icon: \"formatOL\",\n    requiredPlugin: \"lists\",\n    title: \"Ordered List\",\n    callback: function callback() {\n      this.lists.format(\"OL\");\n    }\n  }), Ee.FE.RegisterQuickInsertButton(\"ul\", {\n    icon: \"formatUL\",\n    requiredPlugin: \"lists\",\n    title: \"Unordered List\",\n    callback: function callback() {\n      this.lists.format(\"UL\");\n    }\n  }), Ee.FE.RegisterQuickInsertButton(\"hr\", {\n    icon: \"insertHR\",\n    title: \"Insert Horizontal Line\",\n    callback: function callback() {\n      this.commands.insertHR();\n    }\n  }), Ee.FE.PLUGINS.quickInsert = function (o) {\n    var s, l;\n\n    function t(e) {\n      var t, n, r;\n      t = e.offset().top - o.$box.offset().top, n = 0 - s.outerWidth(), o.opts.enter != Ee.FE.ENTER_BR ? r = (s.outerHeight() - e.outerHeight()) / 2 : (Ee(\"<span>\" + Ee.FE.INVISIBLE_SPACE + \"</span>\").insertAfter(e), r = (s.outerHeight() - e.next().outerHeight()) / 2, e.next().remove()), o.opts.iframe && (t += o.$iframe.offset().top), s.hasClass(\"fr-on\") && 0 <= t && l.css(\"top\", t - r), 0 <= t && t - r <= o.$box.outerHeight() - e.outerHeight() ? (s.hasClass(\"fr-hidden\") && (s.hasClass(\"fr-on\") && a(), s.removeClass(\"fr-hidden\")), s.css(\"top\", t - r)) : s.hasClass(\"fr-visible\") && (s.addClass(\"fr-hidden\"), d()), s.css(\"left\", n);\n    }\n\n    function n(e) {\n      s || function () {\n        o.shared.$quick_insert || (o.shared.$quick_insert = Ee('<div class=\"fr-quick-insert\"><a class=\"fr-floating-btn\" role=\"button\" tabIndex=\"-1\" title=\"' + o.language.translate(\"Quick Insert\") + '\">' + o.icon.create(\"quickInsert\") + \"</a></div>\"));\n        s = o.shared.$quick_insert, o.tooltip.bind(o.$box, \".fr-quick-insert > a.fr-floating-btn\"), o.events.on(\"destroy\", function () {\n          s.removeClass(\"fr-on\").appendTo(Ee(\"body:first\")).css(\"left\", -9999).css(\"top\", -9999), l && (d(), l.appendTo(Ee(\"body:first\")));\n        }, !0), o.events.on(\"shared.destroy\", function () {\n          s.html(\"\").removeData().remove(), s = null, l && (l.html(\"\").removeData().remove(), l = null);\n        }, !0), o.events.on(\"commands.before\", i), o.events.on(\"commands.after\", function () {\n          o.popups.areVisible() || r();\n        }), o.events.bindClick(o.$box, \".fr-quick-insert > a\", a), o.events.bindClick(o.$box, \".fr-qi-helper > a.fr-btn\", function (e) {\n          var t = Ee(e.currentTarget).data(\"cmd\");\n          if (!1 === o.events.trigger(\"quickInsert.commands.before\", [t])) return !1;\n          Ee.FE.QUICK_INSERT_BUTTONS[t].callback.apply(o, [e.currentTarget]), Ee.FE.QUICK_INSERT_BUTTONS[t].undo && o.undo.saveStep(), o.events.trigger(\"quickInsert.commands.after\", [t]), o.quickInsert.hide();\n        }), o.events.$on(o.$wp, \"scroll\", function () {\n          s.hasClass(\"fr-visible\") && t(s.data(\"tag\"));\n        });\n      }(), s.hasClass(\"fr-on\") && d(), o.$box.append(s), t(e), s.data(\"tag\", e), s.addClass(\"fr-visible\");\n    }\n\n    function r() {\n      if (o.core.hasFocus()) {\n        var e = o.selection.element();\n\n        if (o.opts.enter == Ee.FE.ENTER_BR || o.node.isBlock(e) || (e = o.node.blockParent(e)), o.opts.enter == Ee.FE.ENTER_BR && !o.node.isBlock(e)) {\n          var t = o.node.deepestParent(e);\n          t && (e = t);\n        }\n\n        e && (o.opts.enter != Ee.FE.ENTER_BR && o.node.isEmpty(e) && 0 <= o.opts.quickInsertTags.indexOf(e.tagName.toLowerCase()) || o.opts.enter == Ee.FE.ENTER_BR && (\"BR\" == e.tagName && (!e.previousSibling || \"BR\" == e.previousSibling.tagName || o.node.isBlock(e.previousSibling)) || o.node.isEmpty(e) && (!e.previousSibling || \"BR\" == e.previousSibling.tagName || o.node.isBlock(e.previousSibling)) && (!e.nextSibling || \"BR\" == e.nextSibling.tagName || o.node.isBlock(e.nextSibling)))) ? s && s.data(\"tag\").is(Ee(e)) && s.hasClass(\"fr-on\") ? d() : o.selection.isCollapsed() && n(Ee(e)) : i();\n      }\n    }\n\n    function i() {\n      s && (s.hasClass(\"fr-on\") && d(), s.removeClass(\"fr-visible fr-on\"), s.css(\"left\", -9999).css(\"top\", -9999));\n    }\n\n    function a(e) {\n      if (e && e.preventDefault(), s.hasClass(\"fr-on\") && !s.hasClass(\"fr-hidden\")) d();else {\n        if (!o.shared.$qi_helper) {\n          for (var t = o.opts.quickInsertButtons, n = '<div class=\"fr-qi-helper\">', r = 0, i = 0; i < t.length; i++) {\n            var a = Ee.FE.QUICK_INSERT_BUTTONS[t[i]];\n            a && (!a.requiredPlugin || Ee.FE.PLUGINS[a.requiredPlugin] && 0 <= o.opts.pluginsEnabled.indexOf(a.requiredPlugin)) && (n += '<a class=\"fr-btn fr-floating-btn\" role=\"button\" title=\"' + o.language.translate(a.title) + '\" tabIndex=\"-1\" data-cmd=\"' + t[i] + '\" style=\"transition-delay: ' + .025 * r++ + 's;\">' + o.icon.create(a.icon) + \"</a>\");\n          }\n\n          n += \"</div>\", o.shared.$qi_helper = Ee(n), o.tooltip.bind(o.shared.$qi_helper, \"> a.fr-btn\"), o.events.$on(o.shared.$qi_helper, \"mousedown\", function (e) {\n            e.preventDefault();\n          }, !0);\n        }\n\n        (l = o.shared.$qi_helper).appendTo(o.$box), setTimeout(function () {\n          l.css(\"top\", parseFloat(s.css(\"top\"))), l.css(\"left\", parseFloat(s.css(\"left\")) + s.outerWidth()), l.find(\"a\").addClass(\"fr-size-1\"), s.addClass(\"fr-on\");\n        }, 10);\n      }\n    }\n\n    function d() {\n      var e = o.$box.find(\".fr-qi-helper\");\n      e.length && (e.find(\"a\").removeClass(\"fr-size-1\"), e.css(\"left\", -9999), s.hasClass(\"fr-hidden\") || s.removeClass(\"fr-on\"));\n    }\n\n    return {\n      _init: function _init() {\n        if (!o.$wp || !o.opts.quickInsertEnabled) return !1;\n        o.popups.onShow(\"image.edit\", i), o.events.on(\"mouseup\", r), o.helpers.isMobile() && o.events.$on(Ee(o.o_doc), \"selectionchange\", r), o.events.on(\"blur\", i), o.events.on(\"keyup\", r), o.events.on(\"keydown\", function () {\n          setTimeout(function () {\n            r();\n          }, 0);\n        });\n      },\n      hide: i\n    };\n  }, Ee.FE.PLUGINS.quote = function (r) {\n    function i(e) {\n      for (; e.parentNode && e.parentNode != r.el;) {\n        e = e.parentNode;\n      }\n\n      return e;\n    }\n\n    return {\n      apply: function apply(e) {\n        r.selection.save(), r.html.wrap(!0, !0, !0, !0), r.selection.restore(), \"increase\" == e ? function () {\n          var e,\n              t = r.selection.blocks();\n\n          for (e = 0; e < t.length; e++) {\n            t[e] = i(t[e]);\n          }\n\n          r.selection.save();\n          var n = Ee(\"<blockquote>\");\n\n          for (n.insertBefore(t[0]), e = 0; e < t.length; e++) {\n            n.append(t[e]);\n          }\n\n          r.html.unwrap(), r.selection.restore();\n        }() : \"decrease\" == e && function () {\n          var e,\n              t = r.selection.blocks();\n\n          for (e = 0; e < t.length; e++) {\n            \"BLOCKQUOTE\" != t[e].tagName && (t[e] = Ee(t[e]).parentsUntil(r.$el, \"BLOCKQUOTE\").get(0));\n          }\n\n          for (r.selection.save(), e = 0; e < t.length; e++) {\n            t[e] && Ee(t[e]).replaceWith(t[e].innerHTML);\n          }\n\n          r.html.unwrap(), r.selection.restore();\n        }();\n      }\n    };\n  }, Ee.FE.RegisterShortcut(Ee.FE.KEYCODE.SINGLE_QUOTE, \"quote\", \"increase\", \"'\"), Ee.FE.RegisterShortcut(Ee.FE.KEYCODE.SINGLE_QUOTE, \"quote\", \"decrease\", \"'\", !0), Ee.FE.RegisterCommand(\"quote\", {\n    title: \"Quote\",\n    type: \"dropdown\",\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = {\n        increase: \"Increase\",\n        decrease: \"Decrease\"\n      };\n\n      for (var n in t) {\n        if (t.hasOwnProperty(n)) {\n          var r = this.shortcuts.get(\"quote.\" + n);\n          e += '<li role=\"presentation\"><a class=\"fr-command fr-active ' + n + '\" tabIndex=\"-1\" role=\"option\" data-cmd=\"quote\" data-param1=\"' + n + '\" title=\"' + t[n] + '\">' + this.language.translate(t[n]) + (r ? '<span class=\"fr-shortcut\">' + r + \"</span>\" : \"\") + \"</a></li>\";\n        }\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      this.quote.apply(t);\n    },\n    plugin: \"quote\"\n  }), Ee.FE.DefineIcon(\"quote\", {\n    NAME: \"quote-left\"\n  }), Ee.extend(Ee.FE.DEFAULTS, {\n    saveInterval: 1e4,\n    saveURL: null,\n    saveParams: {},\n    saveParam: \"body\",\n    saveMethod: \"POST\"\n  }), Ee.FE.PLUGINS.save = function (s) {\n    var e = null,\n        l = null,\n        t = !1,\n        d = 1,\n        c = 2,\n        n = {};\n\n    function f(e, t) {\n      s.events.trigger(\"save.error\", [{\n        code: e,\n        message: n[e]\n      }, t]);\n    }\n\n    function r(e) {\n      void 0 === e && (e = s.html.get());\n      var t = e,\n          n = s.events.trigger(\"save.before\", [e]);\n      if (!1 === n) return !1;\n\n      if (\"string\" == typeof n && (e = n), s.opts.saveURL) {\n        var r = {};\n\n        for (var i in s.opts.saveParams) {\n          if (s.opts.saveParams.hasOwnProperty(i)) {\n            var a = s.opts.saveParams[i];\n            r[i] = \"function\" == typeof a ? a.call(this) : a;\n          }\n        }\n\n        var o = {};\n        o[s.opts.saveParam] = e, Ee.ajax({\n          type: s.opts.saveMethod,\n          url: s.opts.saveURL,\n          data: Ee.extend(o, r),\n          crossDomain: s.opts.requestWithCORS,\n          xhrFields: {\n            withCredentials: s.opts.requestWithCredentials\n          },\n          headers: s.opts.requestHeaders\n        }).done(function (e) {\n          l = t, s.events.trigger(\"save.after\", [e]);\n        }).fail(function (e) {\n          f(c, e.response || e.responseText);\n        });\n      } else f(d);\n    }\n\n    function i() {\n      clearTimeout(e), e = setTimeout(function () {\n        var e = s.html.get();\n        (l != e || t) && (t = !1, r(l = e));\n      }, s.opts.saveInterval);\n    }\n\n    return n[d] = \"Missing saveURL option.\", n[c] = \"Something went wrong during save.\", {\n      _init: function _init() {\n        s.opts.saveInterval && (l = s.html.get(), s.events.on(\"contentChanged\", i), s.events.on(\"keydown destroy\", function () {\n          clearTimeout(e);\n        }));\n      },\n      save: r,\n      reset: function reset() {\n        i(), t = !1;\n      },\n      force: function force() {\n        t = !0;\n      }\n    };\n  }, Ee.FE.DefineIcon(\"save\", {\n    NAME: \"floppy-o\",\n    FA5NAME: \"save\"\n  }), Ee.FE.RegisterCommand(\"save\", {\n    title: \"Save\",\n    undo: !1,\n    focus: !1,\n    refreshAfterCallback: !1,\n    callback: function callback() {\n      this.save.save();\n    },\n    plugin: \"save\"\n  }), Ee.extend(Ee.FE.DEFAULTS, {\n    specialCharactersSets: [{\n      title: \"Latin\",\n      list: [{\n        \"char\": \"&iexcl;\",\n        desc: \"INVERTED EXCLAMATION MARK\"\n      }, {\n        \"char\": \"&cent;\",\n        desc: \"CENT SIGN\"\n      }, {\n        \"char\": \"&pound;\",\n        desc: \"POUND SIGN\"\n      }, {\n        \"char\": \"&curren;\",\n        desc: \"CURRENCY SIGN\"\n      }, {\n        \"char\": \"&yen;\",\n        desc: \"YEN SIGN\"\n      }, {\n        \"char\": \"&brvbar;\",\n        desc: \"BROKEN BAR\"\n      }, {\n        \"char\": \"&sect;\",\n        desc: \"SECTION SIGN\"\n      }, {\n        \"char\": \"&uml;\",\n        desc: \"DIAERESIS\"\n      }, {\n        \"char\": \"&copy;\",\n        desc: \"COPYRIGHT SIGN\"\n      }, {\n        \"char\": \"&trade;\",\n        desc: \"TRADEMARK SIGN\"\n      }, {\n        \"char\": \"&ordf;\",\n        desc: \"FEMININE ORDINAL INDICATOR\"\n      }, {\n        \"char\": \"&laquo;\",\n        desc: \"LEFT-POINTING DOUBLE ANGLE QUOTATION MARK\"\n      }, {\n        \"char\": \"&not;\",\n        desc: \"NOT SIGN\"\n      }, {\n        \"char\": \"&reg;\",\n        desc: \"REGISTERED SIGN\"\n      }, {\n        \"char\": \"&macr;\",\n        desc: \"MACRON\"\n      }, {\n        \"char\": \"&deg;\",\n        desc: \"DEGREE SIGN\"\n      }, {\n        \"char\": \"&plusmn;\",\n        desc: \"PLUS-MINUS SIGN\"\n      }, {\n        \"char\": \"&sup2;\",\n        desc: \"SUPERSCRIPT TWO\"\n      }, {\n        \"char\": \"&sup3;\",\n        desc: \"SUPERSCRIPT THREE\"\n      }, {\n        \"char\": \"&acute;\",\n        desc: \"ACUTE ACCENT\"\n      }, {\n        \"char\": \"&micro;\",\n        desc: \"MICRO SIGN\"\n      }, {\n        \"char\": \"&para;\",\n        desc: \"PILCROW SIGN\"\n      }, {\n        \"char\": \"&middot;\",\n        desc: \"MIDDLE DOT\"\n      }, {\n        \"char\": \"&cedil;\",\n        desc: \"CEDILLA\"\n      }, {\n        \"char\": \"&sup1;\",\n        desc: \"SUPERSCRIPT ONE\"\n      }, {\n        \"char\": \"&ordm;\",\n        desc: \"MASCULINE ORDINAL INDICATOR\"\n      }, {\n        \"char\": \"&raquo;\",\n        desc: \"RIGHT-POINTING DOUBLE ANGLE QUOTATION MARK\"\n      }, {\n        \"char\": \"&frac14;\",\n        desc: \"VULGAR FRACTION ONE QUARTER\"\n      }, {\n        \"char\": \"&frac12;\",\n        desc: \"VULGAR FRACTION ONE HALF\"\n      }, {\n        \"char\": \"&frac34;\",\n        desc: \"VULGAR FRACTION THREE QUARTERS\"\n      }, {\n        \"char\": \"&iquest;\",\n        desc: \"INVERTED QUESTION MARK\"\n      }, {\n        \"char\": \"&Agrave;\",\n        desc: \"LATIN CAPITAL LETTER A WITH GRAVE\"\n      }, {\n        \"char\": \"&Aacute;\",\n        desc: \"LATIN CAPITAL LETTER A WITH ACUTE\"\n      }, {\n        \"char\": \"&Acirc;\",\n        desc: \"LATIN CAPITAL LETTER A WITH CIRCUMFLEX\"\n      }, {\n        \"char\": \"&Atilde;\",\n        desc: \"LATIN CAPITAL LETTER A WITH TILDE\"\n      }, {\n        \"char\": \"&Auml;\",\n        desc: \"LATIN CAPITAL LETTER A WITH DIAERESIS \"\n      }, {\n        \"char\": \"&Aring;\",\n        desc: \"LATIN CAPITAL LETTER A WITH RING ABOVE\"\n      }, {\n        \"char\": \"&AElig;\",\n        desc: \"LATIN CAPITAL LETTER AE\"\n      }, {\n        \"char\": \"&Ccedil;\",\n        desc: \"LATIN CAPITAL LETTER C WITH CEDILLA\"\n      }, {\n        \"char\": \"&Egrave;\",\n        desc: \"LATIN CAPITAL LETTER E WITH GRAVE\"\n      }, {\n        \"char\": \"&Eacute;\",\n        desc: \"LATIN CAPITAL LETTER E WITH ACUTE\"\n      }, {\n        \"char\": \"&Ecirc;\",\n        desc: \"LATIN CAPITAL LETTER E WITH CIRCUMFLEX\"\n      }, {\n        \"char\": \"&Euml;\",\n        desc: \"LATIN CAPITAL LETTER E WITH DIAERESIS\"\n      }, {\n        \"char\": \"&Igrave;\",\n        desc: \"LATIN CAPITAL LETTER I WITH GRAVE\"\n      }, {\n        \"char\": \"&Iacute;\",\n        desc: \"LATIN CAPITAL LETTER I WITH ACUTE\"\n      }, {\n        \"char\": \"&Icirc;\",\n        desc: \"LATIN CAPITAL LETTER I WITH CIRCUMFLEX\"\n      }, {\n        \"char\": \"&Iuml;\",\n        desc: \"LATIN CAPITAL LETTER I WITH DIAERESIS\"\n      }, {\n        \"char\": \"&ETH;\",\n        desc: \"LATIN CAPITAL LETTER ETH\"\n      }, {\n        \"char\": \"&Ntilde;\",\n        desc: \"LATIN CAPITAL LETTER N WITH TILDE\"\n      }, {\n        \"char\": \"&Ograve;\",\n        desc: \"LATIN CAPITAL LETTER O WITH GRAVE\"\n      }, {\n        \"char\": \"&Oacute;\",\n        desc: \"LATIN CAPITAL LETTER O WITH ACUTE\"\n      }, {\n        \"char\": \"&Ocirc;\",\n        desc: \"LATIN CAPITAL LETTER O WITH CIRCUMFLEX\"\n      }, {\n        \"char\": \"&Otilde;\",\n        desc: \"LATIN CAPITAL LETTER O WITH TILDE\"\n      }, {\n        \"char\": \"&Ouml;\",\n        desc: \"LATIN CAPITAL LETTER O WITH DIAERESIS\"\n      }, {\n        \"char\": \"&times;\",\n        desc: \"MULTIPLICATION SIGN\"\n      }, {\n        \"char\": \"&Oslash;\",\n        desc: \"LATIN CAPITAL LETTER O WITH STROKE\"\n      }, {\n        \"char\": \"&Ugrave;\",\n        desc: \"LATIN CAPITAL LETTER U WITH GRAVE\"\n      }, {\n        \"char\": \"&Uacute;\",\n        desc: \"LATIN CAPITAL LETTER U WITH ACUTE\"\n      }, {\n        \"char\": \"&Ucirc;\",\n        desc: \"LATIN CAPITAL LETTER U WITH CIRCUMFLEX\"\n      }, {\n        \"char\": \"&Uuml;\",\n        desc: \"LATIN CAPITAL LETTER U WITH DIAERESIS\"\n      }, {\n        \"char\": \"&Yacute;\",\n        desc: \"LATIN CAPITAL LETTER Y WITH ACUTE\"\n      }, {\n        \"char\": \"&THORN;\",\n        desc: \"LATIN CAPITAL LETTER THORN\"\n      }, {\n        \"char\": \"&szlig;\",\n        desc: \"LATIN SMALL LETTER SHARP S\"\n      }, {\n        \"char\": \"&agrave;\",\n        desc: \"LATIN SMALL LETTER A WITH GRAVE\"\n      }, {\n        \"char\": \"&aacute;\",\n        desc: \"LATIN SMALL LETTER A WITH ACUTE \"\n      }, {\n        \"char\": \"&acirc;\",\n        desc: \"LATIN SMALL LETTER A WITH CIRCUMFLEX\"\n      }, {\n        \"char\": \"&atilde;\",\n        desc: \"LATIN SMALL LETTER A WITH TILDE\"\n      }, {\n        \"char\": \"&auml;\",\n        desc: \"LATIN SMALL LETTER A WITH DIAERESIS\"\n      }, {\n        \"char\": \"&aring;\",\n        desc: \"LATIN SMALL LETTER A WITH RING ABOVE\"\n      }, {\n        \"char\": \"&aelig;\",\n        desc: \"LATIN SMALL LETTER AE\"\n      }, {\n        \"char\": \"&ccedil;\",\n        desc: \"LATIN SMALL LETTER C WITH CEDILLA\"\n      }, {\n        \"char\": \"&egrave;\",\n        desc: \"LATIN SMALL LETTER E WITH GRAVE\"\n      }, {\n        \"char\": \"&eacute;\",\n        desc: \"LATIN SMALL LETTER E WITH ACUTE\"\n      }, {\n        \"char\": \"&ecirc;\",\n        desc: \"LATIN SMALL LETTER E WITH CIRCUMFLEX\"\n      }, {\n        \"char\": \"&euml;\",\n        desc: \"LATIN SMALL LETTER E WITH DIAERESIS\"\n      }, {\n        \"char\": \"&igrave;\",\n        desc: \"LATIN SMALL LETTER I WITH GRAVE\"\n      }, {\n        \"char\": \"&iacute;\",\n        desc: \"LATIN SMALL LETTER I WITH ACUTE\"\n      }, {\n        \"char\": \"&icirc;\",\n        desc: \"LATIN SMALL LETTER I WITH CIRCUMFLEX\"\n      }, {\n        \"char\": \"&iuml;\",\n        desc: \"LATIN SMALL LETTER I WITH DIAERESIS\"\n      }, {\n        \"char\": \"&eth;\",\n        desc: \"LATIN SMALL LETTER ETH\"\n      }, {\n        \"char\": \"&ntilde;\",\n        desc: \"LATIN SMALL LETTER N WITH TILDE\"\n      }, {\n        \"char\": \"&ograve;\",\n        desc: \"LATIN SMALL LETTER O WITH GRAVE\"\n      }, {\n        \"char\": \"&oacute;\",\n        desc: \"LATIN SMALL LETTER O WITH ACUTE\"\n      }, {\n        \"char\": \"&ocirc;\",\n        desc: \"LATIN SMALL LETTER O WITH CIRCUMFLEX\"\n      }, {\n        \"char\": \"&otilde;\",\n        desc: \"LATIN SMALL LETTER O WITH TILDE\"\n      }, {\n        \"char\": \"&ouml;\",\n        desc: \"LATIN SMALL LETTER O WITH DIAERESIS\"\n      }, {\n        \"char\": \"&divide;\",\n        desc: \"DIVISION SIGN\"\n      }, {\n        \"char\": \"&oslash;\",\n        desc: \"LATIN SMALL LETTER O WITH STROKE\"\n      }, {\n        \"char\": \"&ugrave;\",\n        desc: \"LATIN SMALL LETTER U WITH GRAVE\"\n      }, {\n        \"char\": \"&uacute;\",\n        desc: \"LATIN SMALL LETTER U WITH ACUTE\"\n      }, {\n        \"char\": \"&ucirc;\",\n        desc: \"LATIN SMALL LETTER U WITH CIRCUMFLEX\"\n      }, {\n        \"char\": \"&uuml;\",\n        desc: \"LATIN SMALL LETTER U WITH DIAERESIS\"\n      }, {\n        \"char\": \"&yacute;\",\n        desc: \"LATIN SMALL LETTER Y WITH ACUTE\"\n      }, {\n        \"char\": \"&thorn;\",\n        desc: \"LATIN SMALL LETTER THORN\"\n      }, {\n        \"char\": \"&yuml;\",\n        desc: \"LATIN SMALL LETTER Y WITH DIAERESIS\"\n      }]\n    }, {\n      title: \"Greek\",\n      list: [{\n        \"char\": \"&Alpha;\",\n        desc: \"GREEK CAPITAL LETTER ALPHA\"\n      }, {\n        \"char\": \"&Beta;\",\n        desc: \"GREEK CAPITAL LETTER BETA\"\n      }, {\n        \"char\": \"&Gamma;\",\n        desc: \"GREEK CAPITAL LETTER GAMMA\"\n      }, {\n        \"char\": \"&Delta;\",\n        desc: \"GREEK CAPITAL LETTER DELTA\"\n      }, {\n        \"char\": \"&Epsilon;\",\n        desc: \"GREEK CAPITAL LETTER EPSILON\"\n      }, {\n        \"char\": \"&Zeta;\",\n        desc: \"GREEK CAPITAL LETTER ZETA\"\n      }, {\n        \"char\": \"&Eta;\",\n        desc: \"GREEK CAPITAL LETTER ETA\"\n      }, {\n        \"char\": \"&Theta;\",\n        desc: \"GREEK CAPITAL LETTER THETA\"\n      }, {\n        \"char\": \"&Iota;\",\n        desc: \"GREEK CAPITAL LETTER IOTA\"\n      }, {\n        \"char\": \"&Kappa;\",\n        desc: \"GREEK CAPITAL LETTER KAPPA\"\n      }, {\n        \"char\": \"&Lambda;\",\n        desc: \"GREEK CAPITAL LETTER LAMBDA\"\n      }, {\n        \"char\": \"&Mu;\",\n        desc: \"GREEK CAPITAL LETTER MU\"\n      }, {\n        \"char\": \"&Nu;\",\n        desc: \"GREEK CAPITAL LETTER NU\"\n      }, {\n        \"char\": \"&Xi;\",\n        desc: \"GREEK CAPITAL LETTER XI\"\n      }, {\n        \"char\": \"&Omicron;\",\n        desc: \"GREEK CAPITAL LETTER OMICRON\"\n      }, {\n        \"char\": \"&Pi;\",\n        desc: \"GREEK CAPITAL LETTER PI\"\n      }, {\n        \"char\": \"&Rho;\",\n        desc: \"GREEK CAPITAL LETTER RHO\"\n      }, {\n        \"char\": \"&Sigma;\",\n        desc: \"GREEK CAPITAL LETTER SIGMA\"\n      }, {\n        \"char\": \"&Tau;\",\n        desc: \"GREEK CAPITAL LETTER TAU\"\n      }, {\n        \"char\": \"&Upsilon;\",\n        desc: \"GREEK CAPITAL LETTER UPSILON\"\n      }, {\n        \"char\": \"&Phi;\",\n        desc: \"GREEK CAPITAL LETTER PHI\"\n      }, {\n        \"char\": \"&Chi;\",\n        desc: \"GREEK CAPITAL LETTER CHI\"\n      }, {\n        \"char\": \"&Psi;\",\n        desc: \"GREEK CAPITAL LETTER PSI\"\n      }, {\n        \"char\": \"&Omega;\",\n        desc: \"GREEK CAPITAL LETTER OMEGA\"\n      }, {\n        \"char\": \"&alpha;\",\n        desc: \"GREEK SMALL LETTER ALPHA\"\n      }, {\n        \"char\": \"&beta;\",\n        desc: \"GREEK SMALL LETTER BETA\"\n      }, {\n        \"char\": \"&gamma;\",\n        desc: \"GREEK SMALL LETTER GAMMA\"\n      }, {\n        \"char\": \"&delta;\",\n        desc: \"GREEK SMALL LETTER DELTA\"\n      }, {\n        \"char\": \"&epsilon;\",\n        desc: \"GREEK SMALL LETTER EPSILON\"\n      }, {\n        \"char\": \"&zeta;\",\n        desc: \"GREEK SMALL LETTER ZETA\"\n      }, {\n        \"char\": \"&eta;\",\n        desc: \"GREEK SMALL LETTER ETA\"\n      }, {\n        \"char\": \"&theta;\",\n        desc: \"GREEK SMALL LETTER THETA\"\n      }, {\n        \"char\": \"&iota;\",\n        desc: \"GREEK SMALL LETTER IOTA\"\n      }, {\n        \"char\": \"&kappa;\",\n        desc: \"GREEK SMALL LETTER KAPPA\"\n      }, {\n        \"char\": \"&lambda;\",\n        desc: \"GREEK SMALL LETTER LAMBDA\"\n      }, {\n        \"char\": \"&mu;\",\n        desc: \"GREEK SMALL LETTER MU\"\n      }, {\n        \"char\": \"&nu;\",\n        desc: \"GREEK SMALL LETTER NU\"\n      }, {\n        \"char\": \"&xi;\",\n        desc: \"GREEK SMALL LETTER XI\"\n      }, {\n        \"char\": \"&omicron;\",\n        desc: \"GREEK SMALL LETTER OMICRON\"\n      }, {\n        \"char\": \"&pi;\",\n        desc: \"GREEK SMALL LETTER PI\"\n      }, {\n        \"char\": \"&rho;\",\n        desc: \"GREEK SMALL LETTER RHO\"\n      }, {\n        \"char\": \"&sigmaf;\",\n        desc: \"GREEK SMALL LETTER FINAL SIGMA\"\n      }, {\n        \"char\": \"&sigma;\",\n        desc: \"GREEK SMALL LETTER SIGMA\"\n      }, {\n        \"char\": \"&tau;\",\n        desc: \"GREEK SMALL LETTER TAU\"\n      }, {\n        \"char\": \"&upsilon;\",\n        desc: \"GREEK SMALL LETTER UPSILON\"\n      }, {\n        \"char\": \"&phi;\",\n        desc: \"GREEK SMALL LETTER PHI\"\n      }, {\n        \"char\": \"&chi;\",\n        desc: \"GREEK SMALL LETTER CHI\"\n      }, {\n        \"char\": \"&psi;\",\n        desc: \"GREEK SMALL LETTER PSI\"\n      }, {\n        \"char\": \"&omega;\",\n        desc: \"GREEK SMALL LETTER OMEGA\"\n      }, {\n        \"char\": \"&thetasym;\",\n        desc: \"GREEK THETA SYMBOL\"\n      }, {\n        \"char\": \"&upsih;\",\n        desc: \"GREEK UPSILON WITH HOOK SYMBOL\"\n      }, {\n        \"char\": \"&straightphi;\",\n        desc: \"GREEK PHI SYMBOL\"\n      }, {\n        \"char\": \"&piv;\",\n        desc: \"GREEK PI SYMBOL\"\n      }, {\n        \"char\": \"&Gammad;\",\n        desc: \"GREEK LETTER DIGAMMA\"\n      }, {\n        \"char\": \"&gammad;\",\n        desc: \"GREEK SMALL LETTER DIGAMMA\"\n      }, {\n        \"char\": \"&varkappa;\",\n        desc: \"GREEK KAPPA SYMBOL\"\n      }, {\n        \"char\": \"&varrho;\",\n        desc: \"GREEK RHO SYMBOL\"\n      }, {\n        \"char\": \"&straightepsilon;\",\n        desc: \"GREEK LUNATE EPSILON SYMBOL\"\n      }, {\n        \"char\": \"&backepsilon;\",\n        desc: \"GREEK REVERSED LUNATE EPSILON SYMBOL\"\n      }]\n    }, {\n      title: \"Cyrillic\",\n      list: [{\n        \"char\": \"&#x400\",\n        desc: \"CYRILLIC CAPITAL LETTER IE WITH GRAVE\"\n      }, {\n        \"char\": \"&#x401\",\n        desc: \"CYRILLIC CAPITAL LETTER IO\"\n      }, {\n        \"char\": \"&#x402\",\n        desc: \"CYRILLIC CAPITAL LETTER DJE\"\n      }, {\n        \"char\": \"&#x403\",\n        desc: \"CYRILLIC CAPITAL LETTER GJE\"\n      }, {\n        \"char\": \"&#x404\",\n        desc: \"CYRILLIC CAPITAL LETTER UKRAINIAN IE\"\n      }, {\n        \"char\": \"&#x405\",\n        desc: \"CYRILLIC CAPITAL LETTER DZE\"\n      }, {\n        \"char\": \"&#x406\",\n        desc: \"CYRILLIC CAPITAL LETTER BYELORUSSIAN-UKRAINIAN I\"\n      }, {\n        \"char\": \"&#x407\",\n        desc: \"CYRILLIC CAPITAL LETTER YI\"\n      }, {\n        \"char\": \"&#x408\",\n        desc: \"CYRILLIC CAPITAL LETTER JE\"\n      }, {\n        \"char\": \"&#x409\",\n        desc: \"CYRILLIC CAPITAL LETTER LJE\"\n      }, {\n        \"char\": \"&#x40A\",\n        desc: \"CYRILLIC CAPITAL LETTER NJE\"\n      }, {\n        \"char\": \"&#x40B\",\n        desc: \"CYRILLIC CAPITAL LETTER TSHE\"\n      }, {\n        \"char\": \"&#x40C\",\n        desc: \"CYRILLIC CAPITAL LETTER KJE\"\n      }, {\n        \"char\": \"&#x40D\",\n        desc: \"CYRILLIC CAPITAL LETTER I WITH GRAVE\"\n      }, {\n        \"char\": \"&#x40E\",\n        desc: \"CYRILLIC CAPITAL LETTER SHORT U\"\n      }, {\n        \"char\": \"&#x40F\",\n        desc: \"CYRILLIC CAPITAL LETTER DZHE\"\n      }, {\n        \"char\": \"&#x410\",\n        desc: \"CYRILLIC CAPITAL LETTER A\"\n      }, {\n        \"char\": \"&#x411\",\n        desc: \"CYRILLIC CAPITAL LETTER BE\"\n      }, {\n        \"char\": \"&#x412\",\n        desc: \"CYRILLIC CAPITAL LETTER VE\"\n      }, {\n        \"char\": \"&#x413\",\n        desc: \"CYRILLIC CAPITAL LETTER GHE\"\n      }, {\n        \"char\": \"&#x414\",\n        desc: \"CYRILLIC CAPITAL LETTER DE\"\n      }, {\n        \"char\": \"&#x415\",\n        desc: \"CYRILLIC CAPITAL LETTER IE\"\n      }, {\n        \"char\": \"&#x416\",\n        desc: \"CYRILLIC CAPITAL LETTER ZHE\"\n      }, {\n        \"char\": \"&#x417\",\n        desc: \"CYRILLIC CAPITAL LETTER ZE\"\n      }, {\n        \"char\": \"&#x418\",\n        desc: \"CYRILLIC CAPITAL LETTER I\"\n      }, {\n        \"char\": \"&#x419\",\n        desc: \"CYRILLIC CAPITAL LETTER SHORT I\"\n      }, {\n        \"char\": \"&#x41A\",\n        desc: \"CYRILLIC CAPITAL LETTER KA\"\n      }, {\n        \"char\": \"&#x41B\",\n        desc: \"CYRILLIC CAPITAL LETTER EL\"\n      }, {\n        \"char\": \"&#x41C\",\n        desc: \"CYRILLIC CAPITAL LETTER EM\"\n      }, {\n        \"char\": \"&#x41D\",\n        desc: \"CYRILLIC CAPITAL LETTER EN\"\n      }, {\n        \"char\": \"&#x41E\",\n        desc: \"CYRILLIC CAPITAL LETTER O\"\n      }, {\n        \"char\": \"&#x41F\",\n        desc: \"CYRILLIC CAPITAL LETTER PE\"\n      }, {\n        \"char\": \"&#x420\",\n        desc: \"CYRILLIC CAPITAL LETTER ER\"\n      }, {\n        \"char\": \"&#x421\",\n        desc: \"CYRILLIC CAPITAL LETTER ES\"\n      }, {\n        \"char\": \"&#x422\",\n        desc: \"CYRILLIC CAPITAL LETTER TE\"\n      }, {\n        \"char\": \"&#x423\",\n        desc: \"CYRILLIC CAPITAL LETTER U\"\n      }, {\n        \"char\": \"&#x424\",\n        desc: \"CYRILLIC CAPITAL LETTER EF\"\n      }, {\n        \"char\": \"&#x425\",\n        desc: \"CYRILLIC CAPITAL LETTER HA\"\n      }, {\n        \"char\": \"&#x426\",\n        desc: \"CYRILLIC CAPITAL LETTER TSE\"\n      }, {\n        \"char\": \"&#x427\",\n        desc: \"CYRILLIC CAPITAL LETTER CHE\"\n      }, {\n        \"char\": \"&#x428\",\n        desc: \"CYRILLIC CAPITAL LETTER SHA\"\n      }, {\n        \"char\": \"&#x429\",\n        desc: \"CYRILLIC CAPITAL LETTER SHCHA\"\n      }, {\n        \"char\": \"&#x42A\",\n        desc: \"CYRILLIC CAPITAL LETTER HARD SIGN\"\n      }, {\n        \"char\": \"&#x42B\",\n        desc: \"CYRILLIC CAPITAL LETTER YERU\"\n      }, {\n        \"char\": \"&#x42C\",\n        desc: \"CYRILLIC CAPITAL LETTER SOFT SIGN\"\n      }, {\n        \"char\": \"&#x42D\",\n        desc: \"CYRILLIC CAPITAL LETTER E\"\n      }, {\n        \"char\": \"&#x42E\",\n        desc: \"CYRILLIC CAPITAL LETTER YU\"\n      }, {\n        \"char\": \"&#x42F\",\n        desc: \"CYRILLIC CAPITAL LETTER YA\"\n      }, {\n        \"char\": \"&#x430\",\n        desc: \"CYRILLIC SMALL LETTER A\"\n      }, {\n        \"char\": \"&#x431\",\n        desc: \"CYRILLIC SMALL LETTER BE\"\n      }, {\n        \"char\": \"&#x432\",\n        desc: \"CYRILLIC SMALL LETTER VE\"\n      }, {\n        \"char\": \"&#x433\",\n        desc: \"CYRILLIC SMALL LETTER GHE\"\n      }, {\n        \"char\": \"&#x434\",\n        desc: \"CYRILLIC SMALL LETTER DE\"\n      }, {\n        \"char\": \"&#x435\",\n        desc: \"CYRILLIC SMALL LETTER IE\"\n      }, {\n        \"char\": \"&#x436\",\n        desc: \"CYRILLIC SMALL LETTER ZHE\"\n      }, {\n        \"char\": \"&#x437\",\n        desc: \"CYRILLIC SMALL LETTER ZE\"\n      }, {\n        \"char\": \"&#x438\",\n        desc: \"CYRILLIC SMALL LETTER I\"\n      }, {\n        \"char\": \"&#x439\",\n        desc: \"CYRILLIC SMALL LETTER SHORT I\"\n      }, {\n        \"char\": \"&#x43A\",\n        desc: \"CYRILLIC SMALL LETTER KA\"\n      }, {\n        \"char\": \"&#x43B\",\n        desc: \"CYRILLIC SMALL LETTER EL\"\n      }, {\n        \"char\": \"&#x43C\",\n        desc: \"CYRILLIC SMALL LETTER EM\"\n      }, {\n        \"char\": \"&#x43D\",\n        desc: \"CYRILLIC SMALL LETTER EN\"\n      }, {\n        \"char\": \"&#x43E\",\n        desc: \"CYRILLIC SMALL LETTER O\"\n      }, {\n        \"char\": \"&#x43F\",\n        desc: \"CYRILLIC SMALL LETTER PE\"\n      }, {\n        \"char\": \"&#x440\",\n        desc: \"CYRILLIC SMALL LETTER ER\"\n      }, {\n        \"char\": \"&#x441\",\n        desc: \"CYRILLIC SMALL LETTER ES\"\n      }, {\n        \"char\": \"&#x442\",\n        desc: \"CYRILLIC SMALL LETTER TE\"\n      }, {\n        \"char\": \"&#x443\",\n        desc: \"CYRILLIC SMALL LETTER U\"\n      }, {\n        \"char\": \"&#x444\",\n        desc: \"CYRILLIC SMALL LETTER EF\"\n      }, {\n        \"char\": \"&#x445\",\n        desc: \"CYRILLIC SMALL LETTER HA\"\n      }, {\n        \"char\": \"&#x446\",\n        desc: \"CYRILLIC SMALL LETTER TSE\"\n      }, {\n        \"char\": \"&#x447\",\n        desc: \"CYRILLIC SMALL LETTER CHE\"\n      }, {\n        \"char\": \"&#x448\",\n        desc: \"CYRILLIC SMALL LETTER SHA\"\n      }, {\n        \"char\": \"&#x449\",\n        desc: \"CYRILLIC SMALL LETTER SHCHA\"\n      }, {\n        \"char\": \"&#x44A\",\n        desc: \"CYRILLIC SMALL LETTER HARD SIGN\"\n      }, {\n        \"char\": \"&#x44B\",\n        desc: \"CYRILLIC SMALL LETTER YERU\"\n      }, {\n        \"char\": \"&#x44C\",\n        desc: \"CYRILLIC SMALL LETTER SOFT SIGN\"\n      }, {\n        \"char\": \"&#x44D\",\n        desc: \"CYRILLIC SMALL LETTER E\"\n      }, {\n        \"char\": \"&#x44E\",\n        desc: \"CYRILLIC SMALL LETTER YU\"\n      }, {\n        \"char\": \"&#x44F\",\n        desc: \"CYRILLIC SMALL LETTER YA\"\n      }, {\n        \"char\": \"&#x450\",\n        desc: \"CYRILLIC SMALL LETTER IE WITH GRAVE\"\n      }, {\n        \"char\": \"&#x451\",\n        desc: \"CYRILLIC SMALL LETTER IO\"\n      }, {\n        \"char\": \"&#x452\",\n        desc: \"CYRILLIC SMALL LETTER DJE\"\n      }, {\n        \"char\": \"&#x453\",\n        desc: \"CYRILLIC SMALL LETTER GJE\"\n      }, {\n        \"char\": \"&#x454\",\n        desc: \"CYRILLIC SMALL LETTER UKRAINIAN IE\"\n      }, {\n        \"char\": \"&#x455\",\n        desc: \"CYRILLIC SMALL LETTER DZE\"\n      }, {\n        \"char\": \"&#x456\",\n        desc: \"CYRILLIC SMALL LETTER BYELORUSSIAN-UKRAINIAN I\"\n      }, {\n        \"char\": \"&#x457\",\n        desc: \"CYRILLIC SMALL LETTER YI\"\n      }, {\n        \"char\": \"&#x458\",\n        desc: \"CYRILLIC SMALL LETTER JE\"\n      }, {\n        \"char\": \"&#x459\",\n        desc: \"CYRILLIC SMALL LETTER LJE\"\n      }, {\n        \"char\": \"&#x45A\",\n        desc: \"CYRILLIC SMALL LETTER NJE\"\n      }, {\n        \"char\": \"&#x45B\",\n        desc: \"CYRILLIC SMALL LETTER TSHE\"\n      }, {\n        \"char\": \"&#x45C\",\n        desc: \"CYRILLIC SMALL LETTER KJE\"\n      }, {\n        \"char\": \"&#x45D\",\n        desc: \"CYRILLIC SMALL LETTER I WITH GRAVE\"\n      }, {\n        \"char\": \"&#x45E\",\n        desc: \"CYRILLIC SMALL LETTER SHORT U\"\n      }, {\n        \"char\": \"&#x45F\",\n        desc: \"CYRILLIC SMALL LETTER DZHE\"\n      }]\n    }, {\n      title: \"Punctuation\",\n      list: [{\n        \"char\": \"&ndash;\",\n        desc: \"EN DASH\"\n      }, {\n        \"char\": \"&mdash;\",\n        desc: \"EM DASH\"\n      }, {\n        \"char\": \"&lsquo;\",\n        desc: \"LEFT SINGLE QUOTATION MARK\"\n      }, {\n        \"char\": \"&rsquo;\",\n        desc: \"RIGHT SINGLE QUOTATION MARK\"\n      }, {\n        \"char\": \"&sbquo;\",\n        desc: \"SINGLE LOW-9 QUOTATION MARK\"\n      }, {\n        \"char\": \"&ldquo;\",\n        desc: \"LEFT DOUBLE QUOTATION MARK\"\n      }, {\n        \"char\": \"&rdquo;\",\n        desc: \"RIGHT DOUBLE QUOTATION MARK\"\n      }, {\n        \"char\": \"&bdquo;\",\n        desc: \"DOUBLE LOW-9 QUOTATION MARK\"\n      }, {\n        \"char\": \"&dagger;\",\n        desc: \"DAGGER\"\n      }, {\n        \"char\": \"&Dagger;\",\n        desc: \"DOUBLE DAGGER\"\n      }, {\n        \"char\": \"&bull;\",\n        desc: \"BULLET\"\n      }, {\n        \"char\": \"&hellip;\",\n        desc: \"HORIZONTAL ELLIPSIS\"\n      }, {\n        \"char\": \"&permil;\",\n        desc: \"PER MILLE SIGN\"\n      }, {\n        \"char\": \"&prime;\",\n        desc: \"PRIME\"\n      }, {\n        \"char\": \"&Prime;\",\n        desc: \"DOUBLE PRIME\"\n      }, {\n        \"char\": \"&lsaquo;\",\n        desc: \"SINGLE LEFT-POINTING ANGLE QUOTATION MARK\"\n      }, {\n        \"char\": \"&rsaquo;\",\n        desc: \"SINGLE RIGHT-POINTING ANGLE QUOTATION MARK\"\n      }, {\n        \"char\": \"&oline;\",\n        desc: \"OVERLINE\"\n      }, {\n        \"char\": \"&frasl;\",\n        desc: \"FRACTION SLASH\"\n      }]\n    }, {\n      title: \"Currency\",\n      list: [{\n        \"char\": \"&#x20A0\",\n        desc: \"EURO-CURRENCY SIGN\"\n      }, {\n        \"char\": \"&#x20A1\",\n        desc: \"COLON SIGN\"\n      }, {\n        \"char\": \"&#x20A2\",\n        desc: \"CRUZEIRO SIGN\"\n      }, {\n        \"char\": \"&#x20A3\",\n        desc: \"FRENCH FRANC SIGN\"\n      }, {\n        \"char\": \"&#x20A4\",\n        desc: \"LIRA SIGN\"\n      }, {\n        \"char\": \"&#x20A5\",\n        desc: \"MILL SIGN\"\n      }, {\n        \"char\": \"&#x20A6\",\n        desc: \"NAIRA SIGN\"\n      }, {\n        \"char\": \"&#x20A7\",\n        desc: \"PESETA SIGN\"\n      }, {\n        \"char\": \"&#x20A8\",\n        desc: \"RUPEE SIGN\"\n      }, {\n        \"char\": \"&#x20A9\",\n        desc: \"WON SIGN\"\n      }, {\n        \"char\": \"&#x20AA\",\n        desc: \"NEW SHEQEL SIGN\"\n      }, {\n        \"char\": \"&#x20AB\",\n        desc: \"DONG SIGN\"\n      }, {\n        \"char\": \"&#x20AC\",\n        desc: \"EURO SIGN\"\n      }, {\n        \"char\": \"&#x20AD\",\n        desc: \"KIP SIGN\"\n      }, {\n        \"char\": \"&#x20AE\",\n        desc: \"TUGRIK SIGN\"\n      }, {\n        \"char\": \"&#x20AF\",\n        desc: \"DRACHMA SIGN\"\n      }, {\n        \"char\": \"&#x20B0\",\n        desc: \"GERMAN PENNY SYMBOL\"\n      }, {\n        \"char\": \"&#x20B1\",\n        desc: \"PESO SIGN\"\n      }, {\n        \"char\": \"&#x20B2\",\n        desc: \"GUARANI SIGN\"\n      }, {\n        \"char\": \"&#x20B3\",\n        desc: \"AUSTRAL SIGN\"\n      }, {\n        \"char\": \"&#x20B4\",\n        desc: \"HRYVNIA SIGN\"\n      }, {\n        \"char\": \"&#x20B5\",\n        desc: \"CEDI SIGN\"\n      }, {\n        \"char\": \"&#x20B6\",\n        desc: \"LIVRE TOURNOIS SIGN\"\n      }, {\n        \"char\": \"&#x20B7\",\n        desc: \"SPESMILO SIGN\"\n      }, {\n        \"char\": \"&#x20B8\",\n        desc: \"TENGE SIGN\"\n      }, {\n        \"char\": \"&#x20B9\",\n        desc: \"INDIAN RUPEE SIGN\"\n      }]\n    }, {\n      title: \"Arrows\",\n      list: [{\n        \"char\": \"&#x2190\",\n        desc: \"LEFTWARDS ARROW\"\n      }, {\n        \"char\": \"&#x2191\",\n        desc: \"UPWARDS ARROW\"\n      }, {\n        \"char\": \"&#x2192\",\n        desc: \"RIGHTWARDS ARROW\"\n      }, {\n        \"char\": \"&#x2193\",\n        desc: \"DOWNWARDS ARROW\"\n      }, {\n        \"char\": \"&#x2194\",\n        desc: \"LEFT RIGHT ARROW\"\n      }, {\n        \"char\": \"&#x2195\",\n        desc: \"UP DOWN ARROW\"\n      }, {\n        \"char\": \"&#x2196\",\n        desc: \"NORTH WEST ARROW\"\n      }, {\n        \"char\": \"&#x2197\",\n        desc: \"NORTH EAST ARROW\"\n      }, {\n        \"char\": \"&#x2198\",\n        desc: \"SOUTH EAST ARROW\"\n      }, {\n        \"char\": \"&#x2199\",\n        desc: \"SOUTH WEST ARROW\"\n      }, {\n        \"char\": \"&#x219A\",\n        desc: \"LEFTWARDS ARROW WITH STROKE\"\n      }, {\n        \"char\": \"&#x219B\",\n        desc: \"RIGHTWARDS ARROW WITH STROKE\"\n      }, {\n        \"char\": \"&#x219C\",\n        desc: \"LEFTWARDS WAVE ARROW\"\n      }, {\n        \"char\": \"&#x219D\",\n        desc: \"RIGHTWARDS WAVE ARROW\"\n      }, {\n        \"char\": \"&#x219E\",\n        desc: \"LEFTWARDS TWO HEADED ARROW\"\n      }, {\n        \"char\": \"&#x219F\",\n        desc: \"UPWARDS TWO HEADED ARROW\"\n      }, {\n        \"char\": \"&#x21A0\",\n        desc: \"RIGHTWARDS TWO HEADED ARROW\"\n      }, {\n        \"char\": \"&#x21A1\",\n        desc: \"DOWNWARDS TWO HEADED ARROW\"\n      }, {\n        \"char\": \"&#x21A2\",\n        desc: \"LEFTWARDS ARROW WITH TAIL\"\n      }, {\n        \"char\": \"&#x21A3\",\n        desc: \"RIGHTWARDS ARROW WITH TAIL\"\n      }, {\n        \"char\": \"&#x21A4\",\n        desc: \"LEFTWARDS ARROW FROM BAR\"\n      }, {\n        \"char\": \"&#x21A5\",\n        desc: \"UPWARDS ARROW FROM BAR\"\n      }, {\n        \"char\": \"&#x21A6\",\n        desc: \"RIGHTWARDS ARROW FROM BAR\"\n      }, {\n        \"char\": \"&#x21A7\",\n        desc: \"DOWNWARDS ARROW FROM BAR\"\n      }, {\n        \"char\": \"&#x21A8\",\n        desc: \"UP DOWN ARROW WITH BASE\"\n      }, {\n        \"char\": \"&#x21A9\",\n        desc: \"LEFTWARDS ARROW WITH HOOK\"\n      }, {\n        \"char\": \"&#x21AA\",\n        desc: \"RIGHTWARDS ARROW WITH HOOK\"\n      }, {\n        \"char\": \"&#x21AB\",\n        desc: \"LEFTWARDS ARROW WITH LOOP\"\n      }, {\n        \"char\": \"&#x21AC\",\n        desc: \"RIGHTWARDS ARROW WITH LOOP\"\n      }, {\n        \"char\": \"&#x21AD\",\n        desc: \"LEFT RIGHT WAVE ARROW\"\n      }, {\n        \"char\": \"&#x21AE\",\n        desc: \"LEFT RIGHT ARROW WITH STROKE\"\n      }, {\n        \"char\": \"&#x21AF\",\n        desc: \"DOWNWARDS ZIGZAG ARROW\"\n      }, {\n        \"char\": \"&#x21B0\",\n        desc: \"UPWARDS ARROW WITH TIP LEFTWARDS\"\n      }, {\n        \"char\": \"&#x21B1\",\n        desc: \"UPWARDS ARROW WITH TIP RIGHTWARDS\"\n      }, {\n        \"char\": \"&#x21B2\",\n        desc: \"DOWNWARDS ARROW WITH TIP LEFTWARDS\"\n      }, {\n        \"char\": \"&#x21B3\",\n        desc: \"DOWNWARDS ARROW WITH TIP RIGHTWARDS\"\n      }, {\n        \"char\": \"&#x21B4\",\n        desc: \"RIGHTWARDS ARROW WITH CORNER DOWNWARDS\"\n      }, {\n        \"char\": \"&#x21B5\",\n        desc: \"DOWNWARDS ARROW WITH CORNER LEFTWARDS\"\n      }, {\n        \"char\": \"&#x21B6\",\n        desc: \"ANTICLOCKWISE TOP SEMICIRCLE ARROW\"\n      }, {\n        \"char\": \"&#x21B7\",\n        desc: \"CLOCKWISE TOP SEMICIRCLE ARROW\"\n      }, {\n        \"char\": \"&#x21B8\",\n        desc: \"NORTH WEST ARROW TO LONG BAR\"\n      }, {\n        \"char\": \"&#x21B9\",\n        desc: \"LEFTWARDS ARROW TO BAR OVER RIGHTWARDS ARROW TO BAR\"\n      }, {\n        \"char\": \"&#x21BA\",\n        desc: \"ANTICLOCKWISE OPEN CIRCLE ARROW\"\n      }, {\n        \"char\": \"&#x21BB\",\n        desc: \"CLOCKWISE OPEN CIRCLE ARROW\"\n      }, {\n        \"char\": \"&#x21BC\",\n        desc: \"LEFTWARDS HARPOON WITH BARB UPWARDS\"\n      }, {\n        \"char\": \"&#x21BD\",\n        desc: \"LEFTWARDS HARPOON WITH BARB DOWNWARDS\"\n      }, {\n        \"char\": \"&#x21BE\",\n        desc: \"UPWARDS HARPOON WITH BARB RIGHTWARDS\"\n      }, {\n        \"char\": \"&#x21BF\",\n        desc: \"UPWARDS HARPOON WITH BARB LEFTWARDS\"\n      }, {\n        \"char\": \"&#x21C0\",\n        desc: \"RIGHTWARDS HARPOON WITH BARB UPWARDS\"\n      }, {\n        \"char\": \"&#x21C1\",\n        desc: \"RIGHTWARDS HARPOON WITH BARB DOWNWARDS\"\n      }, {\n        \"char\": \"&#x21C2\",\n        desc: \"DOWNWARDS HARPOON WITH BARB RIGHTWARDS\"\n      }, {\n        \"char\": \"&#x21C3\",\n        desc: \"DOWNWARDS HARPOON WITH BARB LEFTWARDS\"\n      }, {\n        \"char\": \"&#x21C4\",\n        desc: \"RIGHTWARDS ARROW OVER LEFTWARDS ARROW\"\n      }, {\n        \"char\": \"&#x21C5\",\n        desc: \"UPWARDS ARROW LEFTWARDS OF DOWNWARDS ARROW\"\n      }, {\n        \"char\": \"&#x21C6\",\n        desc: \"LEFTWARDS ARROW OVER RIGHTWARDS ARROW\"\n      }, {\n        \"char\": \"&#x21C7\",\n        desc: \"LEFTWARDS PAIRED ARROWS\"\n      }, {\n        \"char\": \"&#x21C8\",\n        desc: \"UPWARDS PAIRED ARROWS\"\n      }, {\n        \"char\": \"&#x21C9\",\n        desc: \"RIGHTWARDS PAIRED ARROWS\"\n      }, {\n        \"char\": \"&#x21CA\",\n        desc: \"DOWNWARDS PAIRED ARROWS\"\n      }, {\n        \"char\": \"&#x21CB\",\n        desc: \"LEFTWARDS HARPOON OVER RIGHTWARDS HARPOON\"\n      }, {\n        \"char\": \"&#x21CC\",\n        desc: \"RIGHTWARDS HARPOON OVER LEFTWARDS HARPOON\"\n      }, {\n        \"char\": \"&#x21CD\",\n        desc: \"LEFTWARDS DOUBLE ARROW WITH STROKE\"\n      }, {\n        \"char\": \"&#x21CE\",\n        desc: \"LEFT RIGHT DOUBLE ARROW WITH STROKE\"\n      }, {\n        \"char\": \"&#x21CF\",\n        desc: \"RIGHTWARDS DOUBLE ARROW WITH STROKE\"\n      }, {\n        \"char\": \"&#x21D0\",\n        desc: \"LEFTWARDS DOUBLE ARROW\"\n      }, {\n        \"char\": \"&#x21D1\",\n        desc: \"UPWARDS DOUBLE ARROW\"\n      }, {\n        \"char\": \"&#x21D2\",\n        desc: \"RIGHTWARDS DOUBLE ARROW\"\n      }, {\n        \"char\": \"&#x21D3\",\n        desc: \"DOWNWARDS DOUBLE ARROW\"\n      }, {\n        \"char\": \"&#x21D4\",\n        desc: \"LEFT RIGHT DOUBLE ARROW\"\n      }, {\n        \"char\": \"&#x21D5\",\n        desc: \"UP DOWN DOUBLE ARROW\"\n      }, {\n        \"char\": \"&#x21D6\",\n        desc: \"NORTH WEST DOUBLE ARROW\"\n      }, {\n        \"char\": \"&#x21D7\",\n        desc: \"NORTH EAST DOUBLE ARROW\"\n      }, {\n        \"char\": \"&#x21D8\",\n        desc: \"SOUTH EAST DOUBLE ARROW\"\n      }, {\n        \"char\": \"&#x21D9\",\n        desc: \"SOUTH WEST DOUBLE ARROW\"\n      }, {\n        \"char\": \"&#x21DA\",\n        desc: \"LEFTWARDS TRIPLE ARROW\"\n      }, {\n        \"char\": \"&#x21DB\",\n        desc: \"RIGHTWARDS TRIPLE ARROW\"\n      }, {\n        \"char\": \"&#x21DC\",\n        desc: \"LEFTWARDS SQUIGGLE ARROW\"\n      }, {\n        \"char\": \"&#x21DD\",\n        desc: \"RIGHTWARDS SQUIGGLE ARROW\"\n      }, {\n        \"char\": \"&#x21DE\",\n        desc: \"UPWARDS ARROW WITH DOUBLE STROKE\"\n      }, {\n        \"char\": \"&#x21DF\",\n        desc: \"DOWNWARDS ARROW WITH DOUBLE STROKE\"\n      }, {\n        \"char\": \"&#x21E0\",\n        desc: \"LEFTWARDS DASHED ARROW\"\n      }, {\n        \"char\": \"&#x21E1\",\n        desc: \"UPWARDS DASHED ARROW\"\n      }, {\n        \"char\": \"&#x21E2\",\n        desc: \"RIGHTWARDS DASHED ARROW\"\n      }, {\n        \"char\": \"&#x21E3\",\n        desc: \"DOWNWARDS DASHED ARROW\"\n      }, {\n        \"char\": \"&#x21E4\",\n        desc: \"LEFTWARDS ARROW TO BAR\"\n      }, {\n        \"char\": \"&#x21E5\",\n        desc: \"RIGHTWARDS ARROW TO BAR\"\n      }, {\n        \"char\": \"&#x21E6\",\n        desc: \"LEFTWARDS WHITE ARROW\"\n      }, {\n        \"char\": \"&#x21E7\",\n        desc: \"UPWARDS WHITE ARROW\"\n      }, {\n        \"char\": \"&#x21E8\",\n        desc: \"RIGHTWARDS WHITE ARROW\"\n      }, {\n        \"char\": \"&#x21E9\",\n        desc: \"DOWNWARDS WHITE ARROW\"\n      }, {\n        \"char\": \"&#x21EA\",\n        desc: \"UPWARDS WHITE ARROW FROM BAR\"\n      }, {\n        \"char\": \"&#x21EB\",\n        desc: \"UPWARDS WHITE ARROW ON PEDESTAL\"\n      }, {\n        \"char\": \"&#x21EC\",\n        desc: \"UPWARDS WHITE ARROW ON PEDESTAL WITH HORIZONTAL BAR\"\n      }, {\n        \"char\": \"&#x21ED\",\n        desc: \"UPWARDS WHITE ARROW ON PEDESTAL WITH VERTICAL BAR\"\n      }, {\n        \"char\": \"&#x21EE\",\n        desc: \"UPWARDS WHITE DOUBLE ARROW\"\n      }, {\n        \"char\": \"&#x21EF\",\n        desc: \"UPWARDS WHITE DOUBLE ARROW ON PEDESTAL\"\n      }, {\n        \"char\": \"&#x21F0\",\n        desc: \"RIGHTWARDS WHITE ARROW FROM WALL\"\n      }, {\n        \"char\": \"&#x21F1\",\n        desc: \"NORTH WEST ARROW TO CORNER\"\n      }, {\n        \"char\": \"&#x21F2\",\n        desc: \"SOUTH EAST ARROW TO CORNER\"\n      }, {\n        \"char\": \"&#x21F3\",\n        desc: \"UP DOWN WHITE ARROW\"\n      }, {\n        \"char\": \"&#x21F4\",\n        desc: \"RIGHT ARROW WITH SMALL CIRCLE\"\n      }, {\n        \"char\": \"&#x21F5\",\n        desc: \"DOWNWARDS ARROW LEFTWARDS OF UPWARDS ARROW\"\n      }, {\n        \"char\": \"&#x21F6\",\n        desc: \"THREE RIGHTWARDS ARROWS\"\n      }, {\n        \"char\": \"&#x21F7\",\n        desc: \"LEFTWARDS ARROW WITH VERTICAL STROKE\"\n      }, {\n        \"char\": \"&#x21F8\",\n        desc: \"RIGHTWARDS ARROW WITH VERTICAL STROKE\"\n      }, {\n        \"char\": \"&#x21F9\",\n        desc: \"LEFT RIGHT ARROW WITH VERTICAL STROKE\"\n      }, {\n        \"char\": \"&#x21FA\",\n        desc: \"LEFTWARDS ARROW WITH DOUBLE VERTICAL STROKE\"\n      }, {\n        \"char\": \"&#x21FB\",\n        desc: \"RIGHTWARDS ARROW WITH DOUBLE VERTICAL STROKE\"\n      }, {\n        \"char\": \"&#x21FC\",\n        desc: \"LEFT RIGHT ARROW WITH DOUBLE VERTICAL STROKE\"\n      }, {\n        \"char\": \"&#x21FD\",\n        desc: \"LEFTWARDS OPEN-HEADED ARROW\"\n      }, {\n        \"char\": \"&#x21FE\",\n        desc: \"RIGHTWARDS OPEN-HEADED ARROW\"\n      }, {\n        \"char\": \"&#x21FF\",\n        desc: \"LEFT RIGHT OPEN-HEADED ARROW\"\n      }]\n    }, {\n      title: \"Math\",\n      list: [{\n        \"char\": \"&forall;\",\n        desc: \"FOR ALL\"\n      }, {\n        \"char\": \"&part;\",\n        desc: \"PARTIAL DIFFERENTIAL\"\n      }, {\n        \"char\": \"&exist;\",\n        desc: \"THERE EXISTS\"\n      }, {\n        \"char\": \"&empty;\",\n        desc: \"EMPTY SET\"\n      }, {\n        \"char\": \"&nabla;\",\n        desc: \"NABLA\"\n      }, {\n        \"char\": \"&isin;\",\n        desc: \"ELEMENT OF\"\n      }, {\n        \"char\": \"&notin;\",\n        desc: \"NOT AN ELEMENT OF\"\n      }, {\n        \"char\": \"&ni;\",\n        desc: \"CONTAINS AS MEMBER\"\n      }, {\n        \"char\": \"&prod;\",\n        desc: \"N-ARY PRODUCT\"\n      }, {\n        \"char\": \"&sum;\",\n        desc: \"N-ARY SUMMATION\"\n      }, {\n        \"char\": \"&minus;\",\n        desc: \"MINUS SIGN\"\n      }, {\n        \"char\": \"&lowast;\",\n        desc: \"ASTERISK OPERATOR\"\n      }, {\n        \"char\": \"&radic;\",\n        desc: \"SQUARE ROOT\"\n      }, {\n        \"char\": \"&prop;\",\n        desc: \"PROPORTIONAL TO\"\n      }, {\n        \"char\": \"&infin;\",\n        desc: \"INFINITY\"\n      }, {\n        \"char\": \"&ang;\",\n        desc: \"ANGLE\"\n      }, {\n        \"char\": \"&and;\",\n        desc: \"LOGICAL AND\"\n      }, {\n        \"char\": \"&or;\",\n        desc: \"LOGICAL OR\"\n      }, {\n        \"char\": \"&cap;\",\n        desc: \"INTERSECTION\"\n      }, {\n        \"char\": \"&cup;\",\n        desc: \"UNION\"\n      }, {\n        \"char\": \"&int;\",\n        desc: \"INTEGRAL\"\n      }, {\n        \"char\": \"&there4;\",\n        desc: \"THEREFORE\"\n      }, {\n        \"char\": \"&sim;\",\n        desc: \"TILDE OPERATOR\"\n      }, {\n        \"char\": \"&cong;\",\n        desc: \"APPROXIMATELY EQUAL TO\"\n      }, {\n        \"char\": \"&asymp;\",\n        desc: \"ALMOST EQUAL TO\"\n      }, {\n        \"char\": \"&ne;\",\n        desc: \"NOT EQUAL TO\"\n      }, {\n        \"char\": \"&equiv;\",\n        desc: \"IDENTICAL TO\"\n      }, {\n        \"char\": \"&le;\",\n        desc: \"LESS-THAN OR EQUAL TO\"\n      }, {\n        \"char\": \"&ge;\",\n        desc: \"GREATER-THAN OR EQUAL TO\"\n      }, {\n        \"char\": \"&sub;\",\n        desc: \"SUBSET OF\"\n      }, {\n        \"char\": \"&sup;\",\n        desc: \"SUPERSET OF\"\n      }, {\n        \"char\": \"&nsub;\",\n        desc: \"NOT A SUBSET OF\"\n      }, {\n        \"char\": \"&sube;\",\n        desc: \"SUBSET OF OR EQUAL TO\"\n      }, {\n        \"char\": \"&supe;\",\n        desc: \"SUPERSET OF OR EQUAL TO\"\n      }, {\n        \"char\": \"&oplus;\",\n        desc: \"CIRCLED PLUS\"\n      }, {\n        \"char\": \"&otimes;\",\n        desc: \"CIRCLED TIMES\"\n      }, {\n        \"char\": \"&perp;\",\n        desc: \"UP TACK\"\n      }]\n    }, {\n      title: \"Misc\",\n      list: [{\n        \"char\": \"&spades;\",\n        desc: \"BLACK SPADE SUIT\"\n      }, {\n        \"char\": \"&clubs;\",\n        desc: \"BLACK CLUB SUIT\"\n      }, {\n        \"char\": \"&hearts;\",\n        desc: \"BLACK HEART SUIT\"\n      }, {\n        \"char\": \"&diams;\",\n        desc: \"BLACK DIAMOND SUIT\"\n      }, {\n        \"char\": \"&#x2669\",\n        desc: \"QUARTER NOTE\"\n      }, {\n        \"char\": \"&#x266A\",\n        desc: \"EIGHTH NOTE\"\n      }, {\n        \"char\": \"&#x266B\",\n        desc: \"BEAMED EIGHTH NOTES\"\n      }, {\n        \"char\": \"&#x266C\",\n        desc: \"BEAMED SIXTEENTH NOTES\"\n      }, {\n        \"char\": \"&#x266D\",\n        desc: \"MUSIC FLAT SIGN\"\n      }, {\n        \"char\": \"&#x266E\",\n        desc: \"MUSIC NATURAL SIGN\"\n      }, {\n        \"char\": \"&#x2600\",\n        desc: \"BLACK SUN WITH RAYS\"\n      }, {\n        \"char\": \"&#x2601\",\n        desc: \"CLOUD\"\n      }, {\n        \"char\": \"&#x2602\",\n        desc: \"UMBRELLA\"\n      }, {\n        \"char\": \"&#x2603\",\n        desc: \"SNOWMAN\"\n      }, {\n        \"char\": \"&#x2615\",\n        desc: \"HOT BEVERAGE\"\n      }, {\n        \"char\": \"&#x2618\",\n        desc: \"SHAMROCK\"\n      }, {\n        \"char\": \"&#x262F\",\n        desc: \"YIN YANG\"\n      }, {\n        \"char\": \"&#x2714\",\n        desc: \"HEAVY CHECK MARK\"\n      }, {\n        \"char\": \"&#x2716\",\n        desc: \"HEAVY MULTIPLICATION X\"\n      }, {\n        \"char\": \"&#x2744\",\n        desc: \"SNOWFLAKE\"\n      }, {\n        \"char\": \"&#x275B\",\n        desc: \"HEAVY SINGLE TURNED COMMA QUOTATION MARK ORNAMENT\"\n      }, {\n        \"char\": \"&#x275C\",\n        desc: \"HEAVY SINGLE COMMA QUOTATION MARK ORNAMENT\"\n      }, {\n        \"char\": \"&#x275D\",\n        desc: \"HEAVY DOUBLE TURNED COMMA QUOTATION MARK ORNAMENT\"\n      }, {\n        \"char\": \"&#x275E\",\n        desc: \"HEAVY DOUBLE COMMA QUOTATION MARK ORNAMENT\"\n      }, {\n        \"char\": \"&#x2764\",\n        desc: \"HEAVY BLACK HEART\"\n      }]\n    }]\n  }), Ee.FE.PLUGINS.specialCharacters = function (s) {\n    var o,\n        l,\n        r = \"special_characters\";\n\n    function d(e, t) {\n      s.events.disableBlur(), e.focus(), t.preventDefault(), t.stopPropagation();\n    }\n\n    return {\n      _init: function _init() {},\n      show: function show() {\n        if (!o) {\n          var e = \"<h4>\" + s.language.translate(\"Special Characters\") + \"</h4>\",\n              t = function () {\n            for (var e = '<div class=\"fr-special-characters-modal\">', t = 0; t < s.opts.specialCharactersSets.length; t++) {\n              for (var n = s.opts.specialCharactersSets[t], r = n.list, i = '<div class=\"fr-special-characters-list\"><p class=\"fr-special-characters-title\">' + s.language.translate(n.title) + \"</p>\", a = 0; a < r.length; a++) {\n                var o = r[a];\n                i += '<span class=\"fr-command fr-special-character\" tabIndex=\"-1\" role=\"button\" value=\"' + o[\"char\"] + '\" title=\"' + o.desc + '\">' + o[\"char\"] + '<span class=\"fr-sr-only\">' + s.language.translate(o.desc) + \"&nbsp;&nbsp;&nbsp;</span></span>\";\n              }\n\n              e += i + \"</div>\";\n            }\n\n            return e += \"</div>\";\n          }(),\n              n = s.modals.create(r, e, t);\n\n          o = n.$modal, n.$head, l = n.$body, s.events.$on(Ee(s.o_win), \"resize\", function () {\n            (o.data(\"instance\") || s).modals.resize(r);\n          }), s.events.bindClick(l, \".fr-special-character\", function (e) {\n            var t = o.data(\"instance\") || s,\n                n = Ee(e.currentTarget);\n            t.specialCharacters.insert(n);\n          }), s.events.$on(l, \"keydown\", function (e) {\n            var t = e.which,\n                n = l.find(\"span.fr-special-character:focus:first\");\n            if (!(n.length || t != Ee.FE.KEYCODE.F10 || s.keys.ctrlKey(e) || e.shiftKey) && e.altKey) return d(l.find(\"span.fr-special-character:first\"), e), !1;\n\n            if (t == Ee.FE.KEYCODE.TAB || t == Ee.FE.KEYCODE.ARROW_LEFT || t == Ee.FE.KEYCODE.ARROW_RIGHT) {\n              var r = null,\n                  i = null,\n                  a = !1;\n              return t == Ee.FE.KEYCODE.ARROW_LEFT || t == Ee.FE.KEYCODE.ARROW_RIGHT ? (i = t == Ee.FE.KEYCODE.ARROW_RIGHT, a = !0) : i = !e.shiftKey, n.length ? (a && (r = i ? n.nextAll(\"span.fr-special-character:first\") : n.prevAll(\"span.fr-special-character:first\")), r && r.length || (r = i ? n.parent().next().find(\"span.fr-special-character:first\") : n.parent().prev().find(\"span.fr-special-character:\" + (a ? \"last\" : \"first\"))).length || (r = l.find(\"span.fr-special-character:\" + (i ? \"first\" : \"last\")))) : r = l.find(\"span.fr-special-character:\" + (i ? \"first\" : \"last\")), d(r, e), !1;\n            }\n\n            if (t != Ee.FE.KEYCODE.ENTER || !n.length) return !0;\n            (o.data(\"instance\") || s).specialCharacters.insert(n);\n          }, !0);\n        }\n\n        s.modals.show(r), s.modals.resize(r);\n      },\n      hide: function hide() {\n        s.modals.hide(r);\n      },\n      insert: function insert(e) {\n        s.specialCharacters.hide(), s.undo.saveStep(), s.html.insert(e.attr(\"value\"), !0), s.undo.saveStep();\n      }\n    };\n  }, Ee.FroalaEditor.DefineIcon(\"specialCharacters\", {\n    template: \"text\",\n    NAME: \"&#937;\"\n  }), Ee.FE.RegisterCommand(\"specialCharacters\", {\n    title: \"Special Characters\",\n    icon: \"specialCharacters\",\n    undo: !1,\n    focus: !1,\n    modal: !0,\n    callback: function callback() {\n      this.specialCharacters.show();\n    },\n    plugin: \"specialCharacters\",\n    showOnMobile: !0\n  }), Ee.extend(Ee.FE.POPUP_TEMPLATES, {\n    \"table.insert\": \"[_BUTTONS_][_ROWS_COLUMNS_]\",\n    \"table.edit\": \"[_BUTTONS_]\",\n    \"table.colors\": \"[_BUTTONS_][_COLORS_][_CUSTOM_COLOR_]\"\n  }), Ee.extend(Ee.FE.DEFAULTS, {\n    tableInsertMaxSize: 10,\n    tableEditButtons: [\"tableHeader\", \"tableRemove\", \"|\", \"tableRows\", \"tableColumns\", \"tableStyle\", \"-\", \"tableCells\", \"tableCellBackground\", \"tableCellVerticalAlign\", \"tableCellHorizontalAlign\", \"tableCellStyle\"],\n    tableInsertButtons: [\"tableBack\", \"|\"],\n    tableResizer: !0,\n    tableDefaultWidth: \"100%\",\n    tableResizerOffset: 5,\n    tableResizingLimit: 30,\n    tableColorsButtons: [\"tableBack\", \"|\"],\n    tableColors: [\"#61BD6D\", \"#1ABC9C\", \"#54ACD2\", \"#2C82C9\", \"#9365B8\", \"#475577\", \"#CCCCCC\", \"#41A85F\", \"#00A885\", \"#3D8EB9\", \"#2969B0\", \"#553982\", \"#28324E\", \"#000000\", \"#F7DA64\", \"#FBA026\", \"#EB6B56\", \"#E25041\", \"#A38F84\", \"#EFEFEF\", \"#FFFFFF\", \"#FAC51C\", \"#F37934\", \"#D14841\", \"#B8312F\", \"#7C706B\", \"#D1D5D8\", \"REMOVE\"],\n    tableColorsStep: 7,\n    tableCellStyles: {\n      \"fr-highlighted\": \"Highlighted\",\n      \"fr-thick\": \"Thick\"\n    },\n    tableStyles: {\n      \"fr-dashed-borders\": \"Dashed Borders\",\n      \"fr-alternate-rows\": \"Alternate Rows\"\n    },\n    tableCellMultipleStyles: !0,\n    tableMultipleStyles: !0,\n    tableInsertHelper: !0,\n    tableInsertHelperOffset: 15\n  }), Ee.FE.PLUGINS.table = function (T) {\n    var A, s, i, a, r, o, b;\n\n    function u() {\n      var e = S();\n\n      if (e) {\n        var t = T.popups.get(\"table.edit\");\n\n        if (t || (t = p()), t) {\n          T.popups.setContainer(\"table.edit\", T.$sc);\n          var n = N(e),\n              r = (n.left + n.right) / 2,\n              i = n.bottom;\n          T.popups.show(\"table.edit\", r, i, n.bottom - n.top), T.edit.isDisabled() && (1 < Q().length && T.toolbar.disable(), T.$el.removeClass(\"fr-no-selection\"), T.edit.on(), T.button.bulkRefresh(), T.selection.setAtEnd(T.$el.find(\".fr-selected-cell:last\").get(0)), T.selection.restore());\n        }\n      }\n    }\n\n    function d() {\n      var e,\n          t,\n          n,\n          r,\n          i = S();\n\n      if (i) {\n        var a = T.popups.get(\"table.colors\");\n        a || (a = function () {\n          var e = \"\";\n          0 < T.opts.tableColorsButtons.length && (e = '<div class=\"fr-buttons fr-table-colors-buttons\">' + T.button.buildList(T.opts.tableColorsButtons) + \"</div>\");\n          var t = \"\";\n          T.opts.colorsHEXInput && (t = '<div class=\"fr-table-colors-hex-layer fr-active fr-layer\" id=\"fr-table-colors-hex-layer-' + T.id + '\"><div class=\"fr-input-line\"><input maxlength=\"7\" id=\"fr-table-colors-hex-layer-text-' + T.id + '\" type=\"text\" placeholder=\"' + T.language.translate(\"HEX Color\") + '\" tabIndex=\"1\" aria-required=\"true\"></div><div class=\"fr-action-buttons\"><button type=\"button\" class=\"fr-command fr-submit\" data-cmd=\"tableCellBackgroundCustomColor\" tabIndex=\"2\" role=\"button\">' + T.language.translate(\"OK\") + \"</button></div></div>\");\n          var n = {\n            buttons: e,\n            colors: function () {\n              for (var e = '<div class=\"fr-table-colors\">', t = 0; t < T.opts.tableColors.length; t++) {\n                0 !== t && t % T.opts.tableColorsStep == 0 && (e += \"<br>\"), \"REMOVE\" != T.opts.tableColors[t] ? e += '<span class=\"fr-command\" style=\"background: ' + T.opts.tableColors[t] + ';\" tabIndex=\"-1\" role=\"button\" data-cmd=\"tableCellBackgroundColor\" data-param1=\"' + T.opts.tableColors[t] + '\"><span class=\"fr-sr-only\">' + T.language.translate(\"Color\") + \" \" + T.opts.tableColors[t] + \"&nbsp;&nbsp;&nbsp;</span></span>\" : e += '<span class=\"fr-command\" data-cmd=\"tableCellBackgroundColor\" tabIndex=\"-1\" role=\"button\" data-param1=\"REMOVE\" title=\"' + T.language.translate(\"Clear Formatting\") + '\">' + T.icon.create(\"tableColorRemove\") + '<span class=\"fr-sr-only\">' + T.language.translate(\"Clear Formatting\") + \"</span></span>\";\n              }\n\n              return e += \"</div>\";\n            }(),\n            custom_color: t\n          },\n              r = T.popups.create(\"table.colors\", n);\n          return T.events.$on(T.$wp, \"scroll.table-colors\", function () {\n            T.popups.isVisible(\"table.colors\") && d();\n          }), h = r, T.events.on(\"popup.tab\", function (e) {\n            var t = Ee(e.currentTarget);\n            if (!T.popups.isVisible(\"table.colors\") || !t.is(\"span\")) return !0;\n            var n = e.which,\n                r = !0;\n\n            if (Ee.FE.KEYCODE.TAB == n) {\n              var i = h.find(\".fr-buttons\");\n              r = !T.accessibility.focusToolbar(i, !!e.shiftKey);\n            } else if (Ee.FE.KEYCODE.ARROW_UP == n || Ee.FE.KEYCODE.ARROW_DOWN == n || Ee.FE.KEYCODE.ARROW_LEFT == n || Ee.FE.KEYCODE.ARROW_RIGHT == n) {\n              var a = t.parent().find(\"span.fr-command\"),\n                  o = a.index(t),\n                  s = T.opts.colorsStep,\n                  l = Math.floor(a.length / s),\n                  d = o % s,\n                  c = Math.floor(o / s),\n                  f = c * s + d,\n                  p = l * s;\n              Ee.FE.KEYCODE.ARROW_UP == n ? f = ((f - s) % p + p) % p : Ee.FE.KEYCODE.ARROW_DOWN == n ? f = (f + s) % p : Ee.FE.KEYCODE.ARROW_LEFT == n ? f = ((f - 1) % p + p) % p : Ee.FE.KEYCODE.ARROW_RIGHT == n && (f = (f + 1) % p);\n              var u = Ee(a.get(f));\n              T.events.disableBlur(), u.focus(), r = !1;\n            } else Ee.FE.KEYCODE.ENTER == n && (T.button.exec(t), r = !1);\n\n            return !1 === r && (e.preventDefault(), e.stopPropagation()), r;\n          }, !0), r;\n          var h;\n        }()), T.popups.setContainer(\"table.colors\", T.$sc);\n        var o = N(i),\n            s = (o.left + o.right) / 2,\n            l = o.bottom;\n        e = T.popups.get(\"table.colors\"), t = T.$el.find(\".fr-selected-cell:first\"), n = T.helpers.RGBToHex(t.css(\"background-color\")), r = e.find(\".fr-table-colors-hex-layer input\"), e.find(\".fr-selected-color\").removeClass(\"fr-selected-color fr-active-item\"), e.find('span[data-param1=\"' + n + '\"]').addClass(\"fr-selected-color fr-active-item\"), r.val(n).trigger(\"change\"), T.popups.show(\"table.colors\", s, l, o.bottom - o.top);\n      }\n    }\n\n    function l() {\n      0 === Q().length && T.toolbar.enable();\n    }\n\n    function c(e) {\n      if (e) return T.popups.onHide(\"table.insert\", function () {\n        T.popups.get(\"table.insert\").find('.fr-table-size .fr-select-table-size > span[data-row=\"1\"][data-col=\"1\"]').trigger(\"mouseenter\");\n      }), !0;\n      var t = \"\";\n      0 < T.opts.tableInsertButtons.length && (t = '<div class=\"fr-buttons\">' + T.button.buildList(T.opts.tableInsertButtons) + \"</div>\");\n      var n,\n          r = {\n        buttons: t,\n        rows_columns: function () {\n          for (var e = '<div class=\"fr-table-size\"><div class=\"fr-table-size-info\">1 &times; 1</div><div class=\"fr-select-table-size\">', t = 1; t <= T.opts.tableInsertMaxSize; t++) {\n            for (var n = 1; n <= T.opts.tableInsertMaxSize; n++) {\n              var r = \"inline-block\";\n              2 < t && !T.helpers.isMobile() && (r = \"none\");\n              var i = \"fr-table-cell \";\n              1 == t && 1 == n && (i += \" hover\"), e += '<span class=\"fr-command ' + i + '\" tabIndex=\"-1\" data-cmd=\"tableInsert\" data-row=\"' + t + '\" data-col=\"' + n + '\" data-param1=\"' + t + '\" data-param2=\"' + n + '\" style=\"display: ' + r + ';\" role=\"button\"><span></span><span class=\"fr-sr-only\">' + t + \" &times; \" + n + \"&nbsp;&nbsp;&nbsp;</span></span>\";\n            }\n\n            e += '<div class=\"new-line\"></div>';\n          }\n\n          return e += \"</div></div>\";\n        }()\n      },\n          i = T.popups.create(\"table.insert\", r);\n      return T.events.$on(i, \"mouseenter\", \".fr-table-size .fr-select-table-size .fr-table-cell\", function (e) {\n        f(Ee(e.currentTarget));\n      }, !0), n = i, T.events.$on(n, \"focus\", \"[tabIndex]\", function (e) {\n        var t = Ee(e.currentTarget);\n        f(t);\n      }), T.events.on(\"popup.tab\", function (e) {\n        var t = Ee(e.currentTarget);\n        if (!T.popups.isVisible(\"table.insert\") || !t.is(\"span, a\")) return !0;\n        var n,\n            r = e.which;\n\n        if (Ee.FE.KEYCODE.ARROW_UP == r || Ee.FE.KEYCODE.ARROW_DOWN == r || Ee.FE.KEYCODE.ARROW_LEFT == r || Ee.FE.KEYCODE.ARROW_RIGHT == r) {\n          if (t.is(\"span.fr-table-cell\")) {\n            var i = t.parent().find(\"span.fr-table-cell\"),\n                a = i.index(t),\n                o = T.opts.tableInsertMaxSize,\n                s = a % o,\n                l = Math.floor(a / o);\n            Ee.FE.KEYCODE.ARROW_UP == r ? l = Math.max(0, l - 1) : Ee.FE.KEYCODE.ARROW_DOWN == r ? l = Math.min(T.opts.tableInsertMaxSize - 1, l + 1) : Ee.FE.KEYCODE.ARROW_LEFT == r ? s = Math.max(0, s - 1) : Ee.FE.KEYCODE.ARROW_RIGHT == r && (s = Math.min(T.opts.tableInsertMaxSize - 1, s + 1));\n            var d = l * o + s,\n                c = Ee(i.get(d));\n            f(c), T.events.disableBlur(), c.focus(), n = !1;\n          }\n        } else Ee.FE.KEYCODE.ENTER == r && (T.button.exec(t), n = !1);\n\n        return !1 === n && (e.preventDefault(), e.stopPropagation()), n;\n      }, !0), i;\n    }\n\n    function f(e) {\n      var t = e.data(\"row\"),\n          n = e.data(\"col\"),\n          r = e.parent();\n      r.siblings(\".fr-table-size-info\").html(t + \" &times; \" + n), r.find(\"> span\").removeClass(\"hover fr-active-item\");\n\n      for (var i = 1; i <= T.opts.tableInsertMaxSize; i++) {\n        for (var a = 0; a <= T.opts.tableInsertMaxSize; a++) {\n          var o = r.find('> span[data-row=\"' + i + '\"][data-col=\"' + a + '\"]');\n          i <= t && a <= n ? o.addClass(\"hover\") : i <= t + 1 || i <= 2 && !T.helpers.isMobile() ? o.css(\"display\", \"inline-block\") : 2 < i && !T.helpers.isMobile() && o.css(\"display\", \"none\");\n        }\n      }\n\n      e.addClass(\"fr-active-item\");\n    }\n\n    function p(e) {\n      if (e) return T.popups.onHide(\"table.edit\", l), !0;\n\n      if (0 < T.opts.tableEditButtons.length) {\n        var t = {\n          buttons: '<div class=\"fr-buttons\">' + T.button.buildList(T.opts.tableEditButtons) + \"</div>\"\n        },\n            n = T.popups.create(\"table.edit\", t);\n        return T.events.$on(T.$wp, \"scroll.table-edit\", function () {\n          T.popups.isVisible(\"table.edit\") && u();\n        }), n;\n      }\n\n      return !1;\n    }\n\n    function h() {\n      if (0 < Q().length) {\n        var e = Z();\n        T.selection.setBefore(e.get(0)) || T.selection.setAfter(e.get(0)), T.selection.restore(), T.popups.hide(\"table.edit\"), e.remove(), T.toolbar.enable();\n      }\n    }\n\n    function g(e) {\n      var t = Z();\n\n      if (0 < t.length) {\n        if (0 < T.$el.find(\"th.fr-selected-cell\").length && \"above\" == e) return;\n        var n,\n            r,\n            i,\n            a = S(),\n            o = w(a);\n        r = \"above\" == e ? o.min_i : o.max_i;\n        var s = \"<tr>\";\n\n        for (n = 0; n < a[r].length; n++) {\n          if (\"below\" == e && r < a.length - 1 && a[r][n] == a[r + 1][n] || \"above\" == e && 0 < r && a[r][n] == a[r - 1][n]) {\n            if (0 === n || 0 < n && a[r][n] != a[r][n - 1]) {\n              var l = Ee(a[r][n]);\n              l.attr(\"rowspan\", parseInt(l.attr(\"rowspan\"), 10) + 1);\n            }\n          } else s += \"<td><br></td>\";\n        }\n\n        s += \"</tr>\", i = 0 < T.$el.find(\"th.fr-selected-cell\").length && \"below\" == e ? Ee(t.find(\"tbody\").not(t.find(\"table tbody\"))) : Ee(t.find(\"tr\").not(t.find(\"table tr\")).get(r)), \"below\" == e ? \"TBODY\" == i.prop(\"tagName\") ? i.prepend(s) : i.after(s) : \"above\" == e && (i.before(s), T.popups.isVisible(\"table.edit\") && u());\n      }\n    }\n\n    function m(e, t, n) {\n      var r,\n          i,\n          a,\n          o,\n          s,\n          l = 0,\n          d = S(n);\n      if (e < (t = Math.min(t, d[0].length - 1))) for (i = e; i <= t; i++) {\n        if (!(e < i && d[0][i] == d[0][i - 1]) && 1 < (o = Math.min(parseInt(d[0][i].getAttribute(\"colspan\"), 10) || 1, t - e + 1)) && d[0][i] == d[0][i + 1]) for (l = o - 1, r = 1; r < d.length; r++) {\n          if (d[r][i] != d[r - 1][i]) {\n            for (a = i; a < i + o; a++) {\n              if (1 < (s = parseInt(d[r][a].getAttribute(\"colspan\"), 10) || 1) && d[r][a] == d[r][a + 1]) a += l = Math.min(l, s - 1);else if (!(l = Math.max(0, l - 1))) break;\n            }\n\n            if (!l) break;\n          }\n        }\n      }\n      l && E(d, l, \"colspan\", 0, d.length - 1, e, t);\n    }\n\n    function v(e, t, n) {\n      var r,\n          i,\n          a,\n          o,\n          s,\n          l = 0,\n          d = S(n);\n      if (e < (t = Math.min(t, d.length - 1))) for (r = e; r <= t; r++) {\n        if (!(e < r && d[r][0] == d[r - 1][0]) && 1 < (o = Math.min(parseInt(d[r][0].getAttribute(\"rowspan\"), 10) || 1, t - e + 1)) && d[r][0] == d[r + 1][0]) for (l = o - 1, i = 1; i < d[0].length; i++) {\n          if (d[r][i] != d[r][i - 1]) {\n            for (a = r; a < r + o; a++) {\n              if (1 < (s = parseInt(d[a][i].getAttribute(\"rowspan\"), 10) || 1) && d[a][i] == d[a + 1][i]) a += l = Math.min(l, s - 1);else if (!(l = Math.max(0, l - 1))) break;\n            }\n\n            if (!l) break;\n          }\n        }\n      }\n      l && E(d, l, \"rowspan\", e, t, 0, d[0].length - 1);\n    }\n\n    function E(e, t, n, r, i, a, o) {\n      var s, l, d;\n\n      for (s = r; s <= i; s++) {\n        for (l = a; l <= o; l++) {\n          r < s && e[s][l] == e[s - 1][l] || a < l && e[s][l] == e[s][l - 1] || 1 < (d = parseInt(e[s][l].getAttribute(n), 10) || 1) && (1 < d - t ? e[s][l].setAttribute(n, d - t) : e[s][l].removeAttribute(n));\n        }\n      }\n    }\n\n    function C(e, t, n, r, i) {\n      v(e, t, i), m(n, r, i);\n    }\n\n    function t(e) {\n      var t = T.$el.find(\".fr-selected-cell\");\n      \"REMOVE\" != e ? t.css(\"background-color\", T.helpers.HEXtoRGB(e)) : t.css(\"background-color\", \"\"), u();\n    }\n\n    function S(e) {\n      var d = [];\n      return null == (e = e || null) && 0 < Q().length && (e = Z()), e && e.find(\"tr:visible\").not(e.find(\"table tr\")).each(function (s, e) {\n        var t = Ee(e),\n            l = 0;\n        t.find(\"> th, > td\").each(function (e, t) {\n          for (var n = Ee(t), r = parseInt(n.attr(\"colspan\"), 10) || 1, i = parseInt(n.attr(\"rowspan\"), 10) || 1, a = s; a < s + i; a++) {\n            for (var o = l; o < l + r; o++) {\n              d[a] || (d[a] = []), d[a][o] ? l++ : d[a][o] = t;\n            }\n          }\n\n          l += r;\n        });\n      }), d;\n    }\n\n    function R(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        for (var r = 0; r < t[n].length; r++) {\n          if (t[n][r] == e) return {\n            row: n,\n            col: r\n          };\n        }\n      }\n    }\n\n    function y(e, t, n) {\n      for (var r = e + 1, i = t + 1; r < n.length;) {\n        if (n[r][t] != n[e][t]) {\n          r--;\n          break;\n        }\n\n        r++;\n      }\n\n      for (r == n.length && r--; i < n[e].length;) {\n        if (n[e][i] != n[e][t]) {\n          i--;\n          break;\n        }\n\n        i++;\n      }\n\n      return i == n[e].length && i--, {\n        row: r,\n        col: i\n      };\n    }\n\n    function _() {\n      T.el.querySelector(\".fr-cell-fixed\") && T.el.querySelector(\".fr-cell-fixed\").classList.remove(\"fr-cell-fixed\"), T.el.querySelector(\".fr-cell-handler\") && T.el.querySelector(\".fr-cell-handler\").classList.remove(\"fr-cell-handler\");\n    }\n\n    function L() {\n      var e = T.$el.find(\".fr-selected-cell\");\n      0 < e.length && e.each(function () {\n        var e = Ee(this);\n        e.removeClass(\"fr-selected-cell\"), \"\" === e.attr(\"class\") && e.removeAttr(\"class\");\n      }), _();\n    }\n\n    function x() {\n      T.events.disableBlur(), T.selection.clear(), T.$el.addClass(\"fr-no-selection\"), T.$el.blur(), T.events.enableBlur();\n    }\n\n    function w(e) {\n      var t = T.$el.find(\".fr-selected-cell\");\n\n      if (0 < t.length) {\n        var n,\n            r = e.length,\n            i = 0,\n            a = e[0].length,\n            o = 0;\n\n        for (n = 0; n < t.length; n++) {\n          var s = R(t[n], e),\n              l = y(s.row, s.col, e);\n          r = Math.min(s.row, r), i = Math.max(l.row, i), a = Math.min(s.col, a), o = Math.max(l.col, o);\n        }\n\n        return {\n          min_i: r,\n          max_i: i,\n          min_j: a,\n          max_j: o\n        };\n      }\n\n      return null;\n    }\n\n    function N(e) {\n      var t = w(e),\n          n = Ee(e[t.min_i][t.min_j]),\n          r = Ee(e[t.min_i][t.max_j]),\n          i = Ee(e[t.max_i][t.min_j]);\n      return {\n        left: n.offset().left,\n        right: r.offset().left + r.outerWidth(),\n        top: n.offset().top,\n        bottom: i.offset().top + i.outerHeight()\n      };\n    }\n\n    function O(t, n) {\n      if (Ee(t).is(n)) L(), Ee(t).addClass(\"fr-selected-cell\");else {\n        x(), T.edit.off();\n\n        var r = S(),\n            i = R(t, r),\n            a = R(n, r),\n            o = function e(t, n, r, i, a) {\n          var o,\n              s,\n              l,\n              d,\n              c = t,\n              f = n,\n              p = r,\n              u = i;\n\n          for (o = c; o <= f; o++) {\n            (1 < (parseInt(Ee(a[o][p]).attr(\"rowspan\"), 10) || 1) || 1 < (parseInt(Ee(a[o][p]).attr(\"colspan\"), 10) || 1)) && (d = y((l = R(a[o][p], a)).row, l.col, a), c = Math.min(l.row, c), f = Math.max(d.row, f), p = Math.min(l.col, p), u = Math.max(d.col, u)), (1 < (parseInt(Ee(a[o][u]).attr(\"rowspan\"), 10) || 1) || 1 < (parseInt(Ee(a[o][u]).attr(\"colspan\"), 10) || 1)) && (d = y((l = R(a[o][u], a)).row, l.col, a), c = Math.min(l.row, c), f = Math.max(d.row, f), p = Math.min(l.col, p), u = Math.max(d.col, u));\n          }\n\n          for (s = p; s <= u; s++) {\n            (1 < (parseInt(Ee(a[c][s]).attr(\"rowspan\"), 10) || 1) || 1 < (parseInt(Ee(a[c][s]).attr(\"colspan\"), 10) || 1)) && (d = y((l = R(a[c][s], a)).row, l.col, a), c = Math.min(l.row, c), f = Math.max(d.row, f), p = Math.min(l.col, p), u = Math.max(d.col, u)), (1 < (parseInt(Ee(a[f][s]).attr(\"rowspan\"), 10) || 1) || 1 < (parseInt(Ee(a[f][s]).attr(\"colspan\"), 10) || 1)) && (d = y((l = R(a[f][s], a)).row, l.col, a), c = Math.min(l.row, c), f = Math.max(d.row, f), p = Math.min(l.col, p), u = Math.max(d.col, u));\n          }\n\n          return c == t && f == n && p == r && u == i ? {\n            min_i: t,\n            max_i: n,\n            min_j: r,\n            max_j: i\n          } : e(c, f, p, u, a);\n        }(Math.min(i.row, a.row), Math.max(i.row, a.row), Math.min(i.col, a.col), Math.max(i.col, a.col), r);\n\n        L(), t.classList.add(\"fr-cell-fixed\"), n.classList.add(\"fr-cell-handler\");\n\n        for (var s = o.min_i; s <= o.max_i; s++) {\n          for (var l = o.min_j; l <= o.max_j; l++) {\n            Ee(r[s][l]).addClass(\"fr-selected-cell\");\n          }\n        }\n      }\n    }\n\n    function I(e) {\n      var t = null,\n          n = Ee(e.target);\n      return \"TD\" == e.target.tagName || \"TH\" == e.target.tagName ? t = e.target : 0 < n.closest(\"td\").length ? t = n.closest(\"td\").get(0) : 0 < n.closest(\"th\").length && (t = n.closest(\"th\").get(0)), 0 === T.$el.find(t).length ? null : t;\n    }\n\n    function D() {\n      L(), T.popups.hide(\"table.edit\");\n    }\n\n    function e(e) {\n      var t = I(e);\n      if (\"false\" == Ee(t).parents(\"[contenteditable]:not(.fr-element):not(.fr-img-caption):not(body):first\").attr(\"contenteditable\")) return !0;\n      if (0 < Q().length && !t && D(), !T.edit.isDisabled() || T.popups.isVisible(\"table.edit\")) if (1 != e.which || 1 == e.which && T.helpers.isMac() && e.ctrlKey) (3 == e.which || 1 == e.which && T.helpers.isMac() && e.ctrlKey) && t && D();else if (a = !0, t) {\n        0 < Q().length && !e.shiftKey && D(), e.stopPropagation(), T.events.trigger(\"image.hideResizer\"), T.events.trigger(\"video.hideResizer\"), i = !0;\n        var n = t.tagName.toLowerCase();\n        e.shiftKey && 0 < T.$el.find(n + \".fr-selected-cell\").length ? Ee(T.$el.find(n + \".fr-selected-cell\").closest(\"table\")).is(Ee(t).closest(\"table\")) ? O(r, t) : x() : ((T.keys.ctrlKey(e) || e.shiftKey) && (1 < Q().length || 0 === Ee(t).find(T.selection.element()).length && !Ee(t).is(T.selection.element())) && x(), r = t, 0 < T.opts.tableEditButtons.length && O(r, r));\n      }\n    }\n\n    function n(e) {\n      if (T.popups.areVisible()) return !0;\n\n      if (i || T.$tb.is(e.target) || T.$tb.is(Ee(e.target).closest(T.$tb.get(0))) || (0 < Q().length && T.toolbar.enable(), L()), !(1 != e.which || 1 == e.which && T.helpers.isMac() && e.ctrlKey)) {\n        if (a = !1, i) i = !1, I(e) || 1 != Q().length ? 0 < Q().length && (T.selection.isCollapsed() ? u() : L()) : L();\n\n        if (b) {\n          b = !1, A.removeClass(\"fr-moving\"), T.$el.removeClass(\"fr-no-selection\"), T.edit.on();\n          var t = parseFloat(A.css(\"left\")) + T.opts.tableResizerOffset + T.$wp.offset().left;\n          T.opts.iframe && (t -= T.$iframe.offset().left), A.data(\"release-position\", t), A.removeData(\"max-left\"), A.removeData(\"max-right\"), function () {\n            var e = A.data(\"origin\"),\n                t = A.data(\"release-position\");\n\n            if (e !== t) {\n              var n = A.data(\"first\"),\n                  r = A.data(\"second\"),\n                  i = A.data(\"table\"),\n                  a = i.outerWidth();\n\n              if (T.undo.canDo() || T.undo.saveStep(), null !== n && null !== r) {\n                var o,\n                    s,\n                    l,\n                    d = S(i),\n                    c = [],\n                    f = [],\n                    p = [],\n                    u = [];\n\n                for (o = 0; o < d.length; o++) {\n                  s = Ee(d[o][n]), l = Ee(d[o][r]), c[o] = s.outerWidth(), p[o] = l.outerWidth(), f[o] = c[o] / a * 100, u[o] = p[o] / a * 100;\n                }\n\n                for (o = 0; o < d.length; o++) {\n                  if (s = Ee(d[o][n]), l = Ee(d[o][r]), d[o][n] != d[o][r]) {\n                    var h = (f[o] * (c[o] + t - e) / c[o]).toFixed(4);\n                    s.css(\"width\", h + \"%\"), l.css(\"width\", (f[o] + u[o] - h).toFixed(4) + \"%\");\n                  }\n                }\n              } else {\n                var g,\n                    m = i.parent(),\n                    v = a / m.width() * 100,\n                    E = (parseInt(i.css(\"margin-left\"), 10) || 0) / m.width() * 100,\n                    b = (parseInt(i.css(\"margin-right\"), 10) || 0) / m.width() * 100;\n                \"rtl\" == T.opts.direction && 0 === r || \"rtl\" != T.opts.direction && 0 !== r ? (g = (a + t - e) / a * v, i.css(\"margin-right\", \"calc(100% - \" + Math.round(g).toFixed(4) + \"% - \" + Math.round(E).toFixed(4) + \"%)\")) : (\"rtl\" == T.opts.direction && 0 !== r || \"rtl\" != T.opts.direction && 0 === r) && (g = (a - t + e) / a * v, i.css(\"margin-left\", \"calc(100% - \" + Math.round(g).toFixed(4) + \"% - \" + Math.round(b).toFixed(4) + \"%)\")), i.css(\"width\", Math.round(g).toFixed(4) + \"%\");\n              }\n\n              T.selection.restore(), T.undo.saveStep(), T.events.trigger(\"table.resized\", [i.get(0)]);\n            }\n\n            A.removeData(\"origin\"), A.removeData(\"release-position\"), A.removeData(\"first\"), A.removeData(\"second\"), A.removeData(\"table\");\n          }(), B();\n        }\n      }\n    }\n\n    function k(e) {\n      if (!0 === i && 0 < T.opts.tableEditButtons.length) {\n        if (Ee(e.currentTarget).closest(\"table\").is(Z())) {\n          if (\"TD\" == e.currentTarget.tagName && 0 === T.$el.find(\"th.fr-selected-cell\").length) return void O(r, e.currentTarget);\n          if (\"TH\" == e.currentTarget.tagName && 0 === T.$el.find(\"td.fr-selected-cell\").length) return void O(r, e.currentTarget);\n        }\n\n        x();\n      }\n    }\n\n    function F(e, t, n, r) {\n      for (var i, a = t; a != T.el && \"TD\" != a.tagName && \"TH\" != a.tagName && (\"up\" == r ? i = a.previousElementSibling : \"down\" == r && (i = a.nextElementSibling), !i);) {\n        a = a.parentNode;\n      }\n\n      \"TD\" == a.tagName || \"TH\" == a.tagName ? function (e, t) {\n        for (var n = e; n && \"TABLE\" != n.tagName && n.parentNode != T.el;) {\n          n = n.parentNode;\n        }\n\n        if (n && \"TABLE\" == n.tagName) {\n          var r = S(Ee(n));\n          \"up\" == t ? M(R(e, r), n, r) : \"down\" == t && $(R(e, r), n, r);\n        }\n      }(a, r) : i && (\"up\" == r && T.selection.setAtEnd(i), \"down\" == r && T.selection.setAtStart(i));\n    }\n\n    function M(e, t, n) {\n      0 < e.row ? T.selection.setAtEnd(n[e.row - 1][e.col]) : F(0, t, 0, \"up\");\n    }\n\n    function $(e, t, n) {\n      var r = parseInt(n[e.row][e.col].getAttribute(\"rowspan\"), 10) || 1;\n      e.row < n.length - r ? T.selection.setAtStart(n[e.row + r][e.col]) : F(0, t, 0, \"down\");\n    }\n\n    function B() {\n      A && (A.find(\"div\").css(\"opacity\", 0), A.css(\"top\", 0), A.css(\"left\", 0), A.css(\"height\", 0), A.find(\"div\").css(\"height\", 0), A.hide());\n    }\n\n    function P() {\n      s && s.removeClass(\"fr-visible\").css(\"left\", \"-9999px\");\n    }\n\n    function U(e, t) {\n      var n = Ee(t),\n          r = n.closest(\"table\"),\n          i = r.parent();\n      if (t && \"TD\" != t.tagName && \"TH\" != t.tagName && (0 < n.closest(\"td\").length ? t = n.closest(\"td\") : 0 < n.closest(\"th\").length && (t = n.closest(\"th\"))), !t || \"TD\" != t.tagName && \"TH\" != t.tagName) A && n.get(0) != A.get(0) && n.parent().get(0) != A.get(0) && T.core.sameInstance(A) && B();else {\n        if (n = Ee(t), 0 === T.$el.find(n).length) return !1;\n        var a = n.offset().left - 1,\n            o = a + n.outerWidth();\n\n        if (Math.abs(e.pageX - a) <= T.opts.tableResizerOffset || Math.abs(o - e.pageX) <= T.opts.tableResizerOffset) {\n          var s,\n              l,\n              d,\n              c,\n              f,\n              p = S(r),\n              u = R(t, p),\n              h = y(u.row, u.col, p),\n              g = r.offset().top,\n              m = r.outerHeight() - 1;\n          \"rtl\" != T.opts.direction ? e.pageX - a <= T.opts.tableResizerOffset ? (d = a, 0 < u.col ? (c = a - Y(u.col - 1, p) + T.opts.tableResizingLimit, f = a + Y(u.col, p) - T.opts.tableResizingLimit, s = u.col - 1, l = u.col) : (s = null, l = 0, c = r.offset().left - 1 - parseInt(r.css(\"margin-left\"), 10), f = r.offset().left - 1 + r.width() - p[0].length * T.opts.tableResizingLimit)) : o - e.pageX <= T.opts.tableResizerOffset && (d = o, h.col < p[h.row].length && p[h.row][h.col + 1] ? (c = o - Y(h.col, p) + T.opts.tableResizingLimit, f = o + Y(h.col + 1, p) - T.opts.tableResizingLimit, s = h.col, l = h.col + 1) : (s = h.col, l = null, c = r.offset().left - 1 + p[0].length * T.opts.tableResizingLimit, f = i.offset().left - 1 + i.width() + parseFloat(i.css(\"padding-left\")))) : o - e.pageX <= T.opts.tableResizerOffset ? (d = o, 0 < u.col ? (c = o - Y(u.col, p) + T.opts.tableResizingLimit, f = o + Y(u.col - 1, p) - T.opts.tableResizingLimit, s = u.col, l = u.col - 1) : (s = null, l = 0, c = r.offset().left + p[0].length * T.opts.tableResizingLimit, f = i.offset().left - 1 + i.width() + parseFloat(i.css(\"padding-left\")))) : e.pageX - a <= T.opts.tableResizerOffset && (d = a, h.col < p[h.row].length && p[h.row][h.col + 1] ? (c = a - Y(h.col + 1, p) + T.opts.tableResizingLimit, f = a + Y(h.col, p) - T.opts.tableResizingLimit, s = h.col + 1, l = h.col) : (s = h.col, l = null, c = i.offset().left + parseFloat(i.css(\"padding-left\")), f = r.offset().left - 1 + r.width() - p[0].length * T.opts.tableResizingLimit)), A || (T.shared.$table_resizer || (T.shared.$table_resizer = Ee('<div class=\"fr-table-resizer\"><div></div></div>')), A = T.shared.$table_resizer, T.events.$on(A, \"mousedown\", function (e) {\n            return !T.core.sameInstance(A) || (0 < Q().length && D(), 1 == e.which ? (T.selection.save(), b = !0, A.addClass(\"fr-moving\"), x(), T.edit.off(), A.find(\"div\").css(\"opacity\", 1), !1) : void 0);\n          }), T.events.$on(A, \"mousemove\", function (e) {\n            if (!T.core.sameInstance(A)) return !0;\n            b && (T.opts.iframe && (e.pageX -= T.$iframe.offset().left), V(e));\n          }), T.events.on(\"shared.destroy\", function () {\n            A.html(\"\").removeData().remove(), A = null;\n          }, !0), T.events.on(\"destroy\", function () {\n            T.$el.find(\".fr-selected-cell\").removeClass(\"fr-selected-cell\"), A.hide().appendTo(Ee(\"body:first\"));\n          }, !0)), A.data(\"table\", r), A.data(\"first\", s), A.data(\"second\", l), A.data(\"instance\", T), T.$wp.append(A);\n          var v = d - T.win.pageXOffset - T.opts.tableResizerOffset - T.$wp.offset().left,\n              E = g - T.$wp.offset().top + T.$wp.scrollTop();\n          T.opts.iframe && (v += T.$iframe.offset().left, E += T.$iframe.offset().top, c += T.$iframe.offset().left, f += T.$iframe.offset().left), A.data(\"max-left\", c), A.data(\"max-right\", f), A.data(\"origin\", d - T.win.pageXOffset), A.css(\"top\", E), A.css(\"left\", v), A.css(\"height\", m), A.find(\"div\").css(\"height\", m), A.css(\"padding-left\", T.opts.tableResizerOffset), A.css(\"padding-right\", T.opts.tableResizerOffset), A.show();\n        } else T.core.sameInstance(A) && B();\n      }\n    }\n\n    function K(e, t) {\n      if (T.$box.find(\".fr-line-breaker\").is(\":visible\")) return !1;\n      s || q(), T.$box.append(s), s.data(\"instance\", T);\n      var n,\n          r = Ee(t).find(\"tr:first\"),\n          i = e.pageX,\n          a = 0,\n          o = 0;\n      T.opts.iframe && (a += T.$iframe.offset().left - T.helpers.scrollLeft(), o += T.$iframe.offset().top - T.helpers.scrollTop()), r.find(\"th, td\").each(function () {\n        var e = Ee(this);\n        return e.offset().left <= i && i < e.offset().left + e.outerWidth() / 2 ? (n = parseInt(s.find(\"a\").css(\"width\"), 10), s.css(\"top\", o + e.offset().top - T.$box.offset().top - n - 5), s.css(\"left\", a + e.offset().left - T.$box.offset().left - n / 2), s.data(\"selected-cell\", e), s.data(\"position\", \"before\"), s.addClass(\"fr-visible\"), !1) : e.offset().left + e.outerWidth() / 2 <= i && i < e.offset().left + e.outerWidth() ? (n = parseInt(s.find(\"a\").css(\"width\"), 10), s.css(\"top\", o + e.offset().top - T.$box.offset().top - n - 5), s.css(\"left\", a + e.offset().left - T.$box.offset().left + e.outerWidth() - n / 2), s.data(\"selected-cell\", e), s.data(\"position\", \"after\"), s.addClass(\"fr-visible\"), !1) : void 0;\n      });\n    }\n\n    function H(e, t) {\n      if (T.$box.find(\".fr-line-breaker\").is(\":visible\")) return !1;\n      s || q(), T.$box.append(s), s.data(\"instance\", T);\n      var n,\n          r = Ee(t),\n          i = e.pageY,\n          a = 0,\n          o = 0;\n      T.opts.iframe && (a += T.$iframe.offset().left - T.helpers.scrollLeft(), o += T.$iframe.offset().top - T.helpers.scrollTop()), r.find(\"tr\").each(function () {\n        var e = Ee(this);\n        return e.offset().top <= i && i < e.offset().top + e.outerHeight() / 2 ? (n = parseInt(s.find(\"a\").css(\"width\"), 10), s.css(\"top\", o + e.offset().top - T.$box.offset().top - n / 2), s.css(\"left\", a + e.offset().left - T.$box.offset().left - n - 5), s.data(\"selected-cell\", e.find(\"td:first\")), s.data(\"position\", \"above\"), s.addClass(\"fr-visible\"), !1) : e.offset().top + e.outerHeight() / 2 <= i && i < e.offset().top + e.outerHeight() ? (n = parseInt(s.find(\"a\").css(\"width\"), 10), s.css(\"top\", o + e.offset().top - T.$box.offset().top + e.outerHeight() - n / 2), s.css(\"left\", a + e.offset().left - T.$box.offset().left - n - 5), s.data(\"selected-cell\", e.find(\"td:first\")), s.data(\"position\", \"below\"), s.addClass(\"fr-visible\"), !1) : void 0;\n      });\n    }\n\n    function W(e) {\n      o = null;\n      var t = T.doc.elementFromPoint(e.pageX - T.win.pageXOffset, e.pageY - T.win.pageYOffset);\n      T.opts.tableResizer && (!T.popups.areVisible() || T.popups.areVisible() && T.popups.isVisible(\"table.edit\")) && U(e, t), !T.opts.tableInsertHelper || T.popups.areVisible() || T.$tb.hasClass(\"fr-inline\") && T.$tb.is(\":visible\") || function (e, t) {\n        if (0 === Q().length) {\n          var n, r, i;\n          if (t && (\"HTML\" == t.tagName || \"BODY\" == t.tagName || T.node.isElement(t))) for (n = 1; n <= T.opts.tableInsertHelperOffset; n++) {\n            if (r = T.doc.elementFromPoint(e.pageX - T.win.pageXOffset, e.pageY - T.win.pageYOffset + n), Ee(r).hasClass(\"fr-tooltip\")) return;\n            if (r && (\"TH\" == r.tagName || \"TD\" == r.tagName || \"TABLE\" == r.tagName) && (Ee(r).parents(\".fr-wrapper\").length || T.opts.iframe)) return K(e, Ee(r).closest(\"table\"));\n            if (i = T.doc.elementFromPoint(e.pageX - T.win.pageXOffset + n, e.pageY - T.win.pageYOffset), Ee(i).hasClass(\"fr-tooltip\")) return;\n            if (i && (\"TH\" == i.tagName || \"TD\" == i.tagName || \"TABLE\" == i.tagName) && (Ee(i).parents(\".fr-wrapper\").length || T.opts.iframe)) return H(e, Ee(i).closest(\"table\"));\n          }\n          T.core.sameInstance(s) && P();\n        }\n      }(e, t);\n    }\n\n    function z() {\n      if (b) {\n        var e = A.data(\"table\").offset().top - T.win.pageYOffset;\n        T.opts.iframe && (e += T.$iframe.offset().top - T.helpers.scrollTop()), A.css(\"top\", e);\n      }\n    }\n\n    function Y(e, t) {\n      var n,\n          r = Ee(t[0][e]).outerWidth();\n\n      for (n = 1; n < t.length; n++) {\n        r = Math.min(r, Ee(t[n][e]).outerWidth());\n      }\n\n      return r;\n    }\n\n    function G(e, t, n) {\n      var r,\n          i = 0;\n\n      for (r = e; r <= t; r++) {\n        i += Y(r, n);\n      }\n\n      return i;\n    }\n\n    function V(e) {\n      if (1 < Q().length && a && x(), !1 === a && !1 === i && !1 === b) o && clearTimeout(o), T.edit.isDisabled() && !T.popups.isVisible(\"table.edit\") || (o = setTimeout(W, 30, e));else if (b) {\n        var t = e.pageX - T.win.pageXOffset;\n        T.opts.iframe && (t += T.$iframe.offset().left);\n        var n = A.data(\"max-left\"),\n            r = A.data(\"max-right\");\n        n <= t && t <= r ? A.css(\"left\", t - T.opts.tableResizerOffset - T.$wp.offset().left) : t < n && parseFloat(A.css(\"left\"), 10) > n - T.opts.tableResizerOffset ? A.css(\"left\", n - T.opts.tableResizerOffset - T.$wp.offset().left) : r < t && parseFloat(A.css(\"left\"), 10) < r - T.opts.tableResizerOffset && A.css(\"left\", r - T.opts.tableResizerOffset - T.$wp.offset().left);\n      } else a && P();\n    }\n\n    function X(e) {\n      T.node.isEmpty(e.get(0)) ? e.prepend(Ee.FE.MARKERS) : e.prepend(Ee.FE.START_MARKER).append(Ee.FE.END_MARKER);\n    }\n\n    function q() {\n      T.shared.$ti_helper || (T.shared.$ti_helper = Ee('<div class=\"fr-insert-helper\"><a class=\"fr-floating-btn\" role=\"button\" tabIndex=\"-1\" title=\"' + T.language.translate(\"Insert\") + '\"><svg viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M22,16.75 L16.75,16.75 L16.75,22 L15.25,22.000 L15.25,16.75 L10,16.75 L10,15.25 L15.25,15.25 L15.25,10 L16.75,10 L16.75,15.25 L22,15.25 L22,16.75 Z\"/></svg></a></div>'), T.events.bindClick(T.shared.$ti_helper, \"a\", function () {\n        var e = s.data(\"selected-cell\"),\n            t = s.data(\"position\"),\n            n = s.data(\"instance\") || T;\n        \"before\" == t ? (T.undo.saveStep(), e.addClass(\"fr-selected-cell\"), n.table.insertColumn(t), e.removeClass(\"fr-selected-cell\"), T.undo.saveStep()) : \"after\" == t ? (T.undo.saveStep(), e.addClass(\"fr-selected-cell\"), n.table.insertColumn(t), e.removeClass(\"fr-selected-cell\"), T.undo.saveStep()) : \"above\" == t ? (T.undo.saveStep(), e.addClass(\"fr-selected-cell\"), n.table.insertRow(t), e.removeClass(\"fr-selected-cell\"), T.undo.saveStep()) : \"below\" == t && (T.undo.saveStep(), e.addClass(\"fr-selected-cell\"), n.table.insertRow(t), e.removeClass(\"fr-selected-cell\"), T.undo.saveStep()), P();\n      }), T.events.on(\"shared.destroy\", function () {\n        T.shared.$ti_helper.html(\"\").removeData().remove(), T.shared.$ti_helper = null;\n      }, !0), T.events.$on(T.shared.$ti_helper, \"mousemove\", function (e) {\n        e.stopPropagation();\n      }, !0), T.events.$on(Ee(T.o_win), \"scroll\", function () {\n        P();\n      }, !0), T.events.$on(T.$wp, \"scroll\", function () {\n        P();\n      }, !0)), s = T.shared.$ti_helper, T.events.on(\"destroy\", function () {\n        s = null;\n      }), T.tooltip.bind(T.$box, \".fr-insert-helper > a.fr-floating-btn\");\n    }\n\n    function j() {\n      r = null, clearTimeout(o);\n    }\n\n    function Q() {\n      return T.el.querySelectorAll(\".fr-selected-cell\");\n    }\n\n    function Z() {\n      var e = Q();\n\n      if (e.length) {\n        for (var t = e[0]; t && \"TABLE\" != t.tagName && t.parentNode != T.el;) {\n          t = t.parentNode;\n        }\n\n        return t && \"TABLE\" == t.tagName ? Ee(t) : Ee([]);\n      }\n\n      return Ee([]);\n    }\n\n    return {\n      _init: function _init() {\n        if (!T.$wp) return !1;\n\n        if (!T.helpers.isMobile()) {\n          b = i = a = !1, T.events.$on(T.$el, \"mousedown\", e), T.popups.onShow(\"image.edit\", function () {\n            L(), i = a = !1;\n          }), T.popups.onShow(\"link.edit\", function () {\n            L(), i = a = !1;\n          }), T.events.on(\"commands.mousedown\", function (e) {\n            0 < e.parents(\".fr-toolbar\").length && L();\n          }), T.events.$on(T.$el, \"mouseenter\", \"th, td\", k), T.events.$on(T.$win, \"mouseup\", n), T.opts.iframe && T.events.$on(Ee(T.o_win), \"mouseup\", n), T.events.$on(T.$win, \"mousemove\", V), T.events.$on(Ee(T.o_win), \"scroll\", z), T.events.on(\"contentChanged\", function () {\n            0 < Q().length && (u(), T.$el.find(\"img\").on(\"load.selected-cells\", function () {\n              Ee(this).off(\"load.selected-cells\"), 0 < Q().length && u();\n            }));\n          }), T.events.$on(Ee(T.o_win), \"resize\", function () {\n            L();\n          }), T.events.on(\"toolbar.esc\", function () {\n            if (0 < Q().length) return T.events.disableBlur(), T.events.focus(), !1;\n          }, !0), T.events.$on(Ee(T.o_win), \"keydown\", function () {\n            a && i && (i = a = !1, T.$el.removeClass(\"fr-no-selection\"), T.edit.on(), T.selection.setAtEnd(T.$el.find(\".fr-selected-cell:last\").get(0)), T.selection.restore(), L());\n          }), T.events.$on(T.$el, \"keydown\", function (e) {\n            e.shiftKey ? !1 === function (e) {\n              var t = Q();\n\n              if (0 < t.length) {\n                var n,\n                    r,\n                    i = S(),\n                    a = e.which;\n                1 == t.length ? r = n = t[0] : (n = T.el.querySelector(\".fr-cell-fixed\"), r = T.el.querySelector(\".fr-cell-handler\"));\n                var o = R(r, i);\n\n                if (Ee.FE.KEYCODE.ARROW_RIGHT == a) {\n                  if (o.col < i[0].length - 1) return O(n, i[o.row][o.col + 1]), !1;\n                } else if (Ee.FE.KEYCODE.ARROW_DOWN == a) {\n                  if (o.row < i.length - 1) return O(n, i[o.row + 1][o.col]), !1;\n                } else if (Ee.FE.KEYCODE.ARROW_LEFT == a) {\n                  if (0 < o.col) return O(n, i[o.row][o.col - 1]), !1;\n                } else if (Ee.FE.KEYCODE.ARROW_UP == a && 0 < o.row) return O(n, i[o.row - 1][o.col]), !1;\n              }\n            }(e) && setTimeout(function () {\n              u();\n            }, 0) : function (e) {\n              var t = e.which,\n                  n = T.selection.blocks();\n\n              if (n.length && (\"TD\" == (n = n[0]).tagName || \"TH\" == n.tagName)) {\n                for (var r = n; r && \"TABLE\" != r.tagName && r.parentNode != T.el;) {\n                  r = r.parentNode;\n                }\n\n                if (r && \"TABLE\" == r.tagName && (Ee.FE.KEYCODE.ARROW_LEFT == t || Ee.FE.KEYCODE.ARROW_UP == t || Ee.FE.KEYCODE.ARROW_RIGHT == t || Ee.FE.KEYCODE.ARROW_DOWN == t) && (0 < Q().length && D(), T.browser.webkit && (Ee.FE.KEYCODE.ARROW_UP == t || Ee.FE.KEYCODE.ARROW_DOWN == t))) {\n                  var i = T.selection.ranges(0).startContainer;\n                  if (i.nodeType == Node.TEXT_NODE && (Ee.FE.KEYCODE.ARROW_UP == t && i.previousSibling || Ee.FE.KEYCODE.ARROW_DOWN == t && i.nextSibling)) return;\n                  e.preventDefault(), e.stopPropagation();\n                  var a = S(Ee(r)),\n                      o = R(n, a);\n                  Ee.FE.KEYCODE.ARROW_UP == t ? M(o, r, a) : Ee.FE.KEYCODE.ARROW_DOWN == t && $(o, r, a), T.selection.restore();\n                }\n              }\n            }(e);\n          }), T.events.on(\"keydown\", function (e) {\n            if (!1 === function (e) {\n              if (e.which == Ee.FE.KEYCODE.TAB) {\n                var t;\n                if (0 < Q().length) t = T.$el.find(\".fr-selected-cell:last\");else {\n                  var n = T.selection.element();\n                  \"TD\" == n.tagName || \"TH\" == n.tagName ? t = Ee(n) : n != T.el && (0 < Ee(n).parentsUntil(T.$el, \"td\").length ? t = Ee(n).parents(\"td:first\") : 0 < Ee(n).parentsUntil(T.$el, \"th\").length && (t = Ee(n).parents(\"th:first\")));\n                }\n                if (t) return e.preventDefault(), !!(0 < Ee(T.selection.element()).parentsUntil(T.$el, \"ol, ul\").length && (0 < Ee(T.selection.element()).parents(\"li\").prev().length || Ee(T.selection.element()).is(\"li\") && 0 < Ee(T.selection.element()).prev().length)) || (D(), e.shiftKey ? 0 < t.prev().length ? X(t.prev()) : 0 < t.closest(\"tr\").length && 0 < t.closest(\"tr\").prev().length ? X(t.closest(\"tr\").prev().find(\"td:last\")) : 0 < t.closest(\"tbody\").length && 0 < t.closest(\"table\").find(\"thead tr\").length && X(t.closest(\"table\").find(\"thead tr th:last\")) : 0 < t.next().length ? X(t.next()) : 0 < t.closest(\"tr\").length && 0 < t.closest(\"tr\").next().length ? X(t.closest(\"tr\").next().find(\"td:first\")) : 0 < t.closest(\"thead\").length && 0 < t.closest(\"table\").find(\"tbody tr\").length ? X(t.closest(\"table\").find(\"tbody tr td:first\")) : (t.addClass(\"fr-selected-cell\"), g(\"below\"), L(), X(t.closest(\"tr\").next().find(\"td:first\"))), T.selection.restore(), !1);\n              }\n            }(e)) return !1;\n            var t = Q();\n\n            if (0 < t.length) {\n              if (0 < t.length && T.keys.ctrlKey(e) && e.which == Ee.FE.KEYCODE.A) return L(), T.popups.isVisible(\"table.edit\") && T.popups.hide(\"table.edit\"), t = [], !0;\n              if (e.which == Ee.FE.KEYCODE.ESC && T.popups.isVisible(\"table.edit\")) return L(), T.popups.hide(\"table.edit\"), e.preventDefault(), e.stopPropagation(), e.stopImmediatePropagation(), !(t = []);\n\n              if (1 < t.length && (e.which == Ee.FE.KEYCODE.BACKSPACE || e.which == Ee.FE.KEYCODE.DELETE)) {\n                T.undo.saveStep();\n\n                for (var n = 0; n < t.length; n++) {\n                  Ee(t[n]).html(\"<br>\"), n == t.length - 1 && Ee(t[n]).prepend(Ee.FE.MARKERS);\n                }\n\n                return T.selection.restore(), T.undo.saveStep(), !(t = []);\n              }\n\n              if (1 < t.length && e.which != Ee.FE.KEYCODE.F10 && !T.keys.isBrowserAction(e)) return e.preventDefault(), !(t = []);\n            } else if (!(t = []) === function (e) {\n              if (e.altKey && e.which == Ee.FE.KEYCODE.SPACE) {\n                var t,\n                    n = T.selection.element();\n                if (\"TD\" == n.tagName || \"TH\" == n.tagName ? t = n : 0 < Ee(n).closest(\"td\").length ? t = Ee(n).closest(\"td\").get(0) : 0 < Ee(n).closest(\"th\").length && (t = Ee(n).closest(\"th\").get(0)), t) return e.preventDefault(), O(t, t), u(), !1;\n              }\n            }(e)) return !1;\n          }, !0);\n          var t = [];\n          T.events.on(\"html.beforeGet\", function () {\n            t = Q();\n\n            for (var e = 0; e < t.length; e++) {\n              t[e].className = (t[e].className || \"\").replace(/fr-selected-cell/g, \"\");\n            }\n          }), T.events.on(\"html.afterGet\", function () {\n            for (var e = 0; e < t.length; e++) {\n              t[e].className = (t[e].className ? t[e].className.trim() + \" \" : \"\") + \"fr-selected-cell\";\n            }\n\n            t = [];\n          }), c(!0), p(!0);\n        }\n\n        T.events.on(\"destroy\", j);\n      },\n      insert: function insert(e, t) {\n        var n,\n            r,\n            i = \"<table \" + (T.opts.tableDefaultWidth ? 'style=\"width: ' + T.opts.tableDefaultWidth + ';\" ' : \"\") + 'class=\"fr-inserted-table\"><tbody>',\n            a = 100 / t;\n\n        for (n = 0; n < e; n++) {\n          for (i += \"<tr>\", r = 0; r < t; r++) {\n            i += \"<td\" + (T.opts.tableDefaultWidth ? ' style=\"width: ' + a.toFixed(4) + '%;\"' : \"\") + \">\", 0 === n && 0 === r && (i += Ee.FE.MARKERS), i += \"<br></td>\";\n          }\n\n          i += \"</tr>\";\n        }\n\n        i += \"</tbody></table>\", T.html.insert(i), T.selection.restore();\n        var o = T.$el.find(\".fr-inserted-table\");\n        o.removeClass(\"fr-inserted-table\"), T.events.trigger(\"table.inserted\", [o.get(0)]);\n      },\n      remove: h,\n      insertRow: g,\n      deleteRow: function deleteRow() {\n        var e = Z();\n\n        if (0 < e.length) {\n          var t,\n              n,\n              r,\n              i = S(),\n              a = w(i);\n          if (0 === a.min_i && a.max_i == i.length - 1) h();else {\n            for (t = a.max_i; t >= a.min_i; t--) {\n              for (r = Ee(e.find(\"tr\").not(e.find(\"table tr\")).get(t)), n = 0; n < i[t].length; n++) {\n                if (0 === n || i[t][n] != i[t][n - 1]) {\n                  var o = Ee(i[t][n]);\n\n                  if (1 < parseInt(o.attr(\"rowspan\"), 10)) {\n                    var s = parseInt(o.attr(\"rowspan\"), 10) - 1;\n                    1 == s ? o.removeAttr(\"rowspan\") : o.attr(\"rowspan\", s);\n                  }\n\n                  if (t < i.length - 1 && i[t][n] == i[t + 1][n] && (0 === t || i[t][n] != i[t - 1][n])) {\n                    for (var l = i[t][n], d = n; 0 < d && i[t][d] == i[t][d - 1];) {\n                      d--;\n                    }\n\n                    0 === d ? Ee(e.find(\"tr\").not(e.find(\"table tr\")).get(t + 1)).prepend(l) : Ee(i[t + 1][d - 1]).after(l);\n                  }\n                }\n              }\n\n              var c = r.parent();\n              r.remove(), 0 === c.find(\"tr\").length && c.remove(), i = S(e);\n            }\n\n            C(0, i.length - 1, 0, i[0].length - 1, e), 0 < a.min_i ? T.selection.setAtEnd(i[a.min_i - 1][0]) : T.selection.setAtEnd(i[0][0]), T.selection.restore(), T.popups.hide(\"table.edit\");\n          }\n        }\n      },\n      insertColumn: function insertColumn(l) {\n        var e = Z();\n\n        if (0 < e.length) {\n          var d,\n              c = S(),\n              t = w(c);\n          d = \"before\" == l ? t.min_j : t.max_j;\n          var n,\n              f = 100 / c[0].length,\n              p = 100 / (c[0].length + 1);\n          e.find(\"th, td\").each(function () {\n            (n = Ee(this)).data(\"old-width\", n.outerWidth() / e.outerWidth() * 100);\n          }), e.find(\"tr\").not(e.find(\"table tr\")).each(function (e) {\n            for (var t, n = Ee(this), r = 0, i = 0; r - 1 < d;) {\n              if (!(t = n.find(\"> th, > td\").get(i))) {\n                t = null;\n                break;\n              }\n\n              t == c[e][r] ? (r += parseInt(Ee(t).attr(\"colspan\"), 10) || 1, i++) : (r += parseInt(Ee(c[e][r]).attr(\"colspan\"), 10) || 1, \"after\" == l && (t = 0 === i ? -1 : n.find(\"> th, > td\").get(i - 1)));\n            }\n\n            var a,\n                o = Ee(t);\n\n            if (\"after\" == l && d < r - 1 || \"before\" == l && 0 < d && c[e][d] == c[e][d - 1]) {\n              if (0 === e || 0 < e && c[e][d] != c[e - 1][d]) {\n                var s = parseInt(o.attr(\"colspan\"), 10) + 1;\n                o.attr(\"colspan\", s), o.css(\"width\", (o.data(\"old-width\") * p / f + p).toFixed(4) + \"%\"), o.removeData(\"old-width\");\n              }\n            } else a = 0 < n.find(\"th\").length ? '<th style=\"width: ' + p.toFixed(4) + '%;\"><br></th>' : '<td style=\"width: ' + p.toFixed(4) + '%;\"><br></td>', -1 == t ? n.prepend(a) : null == t ? n.append(a) : \"before\" == l ? o.before(a) : \"after\" == l && o.after(a);\n          }), e.find(\"th, td\").each(function () {\n            (n = Ee(this)).data(\"old-width\") && (n.css(\"width\", (n.data(\"old-width\") * p / f).toFixed(4) + \"%\"), n.removeData(\"old-width\"));\n          }), T.popups.isVisible(\"table.edit\") && u();\n        }\n      },\n      deleteColumn: function deleteColumn() {\n        var e = Z();\n\n        if (0 < e.length) {\n          var t,\n              n,\n              r,\n              i = S(),\n              a = w(i);\n          if (0 === a.min_j && a.max_j == i[0].length - 1) h();else {\n            var o = 0;\n\n            for (t = 0; t < i.length; t++) {\n              for (n = 0; n < i[0].length; n++) {\n                (r = Ee(i[t][n])).hasClass(\"fr-selected-cell\") || (r.data(\"old-width\", r.outerWidth() / e.outerWidth() * 100), (n < a.min_j || n > a.max_j) && (o += r.outerWidth() / e.outerWidth() * 100));\n              }\n            }\n\n            for (o /= i.length, n = a.max_j; n >= a.min_j; n--) {\n              for (t = 0; t < i.length; t++) {\n                if (0 === t || i[t][n] != i[t - 1][n]) if (r = Ee(i[t][n]), 1 < (parseInt(r.attr(\"colspan\"), 10) || 1)) {\n                  var s = parseInt(r.attr(\"colspan\"), 10) - 1;\n                  1 == s ? r.removeAttr(\"colspan\") : r.attr(\"colspan\", s), r.css(\"width\", (100 * (r.data(\"old-width\") - Y(n, i)) / o).toFixed(4) + \"%\"), r.removeData(\"old-width\");\n                } else {\n                  var l = Ee(r.parent().get(0));\n                  r.remove(), 0 === l.find(\"> th, > td\").length && (0 === l.prev().length || 0 === l.next().length || l.prev().find(\"> th[rowspan], > td[rowspan]\").length < l.prev().find(\"> th, > td\").length) && l.remove();\n                }\n              }\n            }\n\n            C(0, i.length - 1, 0, i[0].length - 1, e), 0 < a.min_j ? T.selection.setAtEnd(i[a.min_i][a.min_j - 1]) : T.selection.setAtEnd(i[a.min_i][0]), T.selection.restore(), T.popups.hide(\"table.edit\"), e.find(\"th, td\").each(function () {\n              (r = Ee(this)).data(\"old-width\") && (r.css(\"width\", (100 * r.data(\"old-width\") / o).toFixed(4) + \"%\"), r.removeData(\"old-width\"));\n            });\n          }\n        }\n      },\n      mergeCells: function mergeCells() {\n        if (1 < Q().length && (0 === T.$el.find(\"th.fr-selected-cell\").length || 0 === T.$el.find(\"td.fr-selected-cell\").length)) {\n          _();\n\n          var e,\n              t,\n              n = w(S()),\n              r = T.$el.find(\".fr-selected-cell\"),\n              i = Ee(r[0]),\n              a = i.parent().find(\".fr-selected-cell\"),\n              o = i.closest(\"table\"),\n              s = i.html(),\n              l = 0;\n\n          for (e = 0; e < a.length; e++) {\n            l += Ee(a[e]).outerWidth();\n          }\n\n          for (i.css(\"width\", Math.min(100, l / o.outerWidth() * 100).toFixed(4) + \"%\"), n.min_j < n.max_j && i.attr(\"colspan\", n.max_j - n.min_j + 1), n.min_i < n.max_i && i.attr(\"rowspan\", n.max_i - n.min_i + 1), e = 1; e < r.length; e++) {\n            \"<br>\" != (t = Ee(r[e])).html() && \"\" !== t.html() && (s += \"<br>\" + t.html()), t.remove();\n          }\n\n          i.html(s), T.selection.setAtEnd(i.get(0)), T.selection.restore(), T.toolbar.enable(), v(n.min_i, n.max_i, o);\n          var d = o.find(\"tr:empty\");\n\n          for (e = d.length - 1; 0 <= e; e--) {\n            Ee(d[e]).remove();\n          }\n\n          m(n.min_j, n.max_j, o), u();\n        }\n      },\n      splitCellVertically: function splitCellVertically() {\n        if (1 == Q().length) {\n          var e = T.$el.find(\".fr-selected-cell\"),\n              t = parseInt(e.attr(\"colspan\"), 10) || 1,\n              n = e.parent().outerWidth(),\n              r = e.outerWidth(),\n              i = e.clone().html(\"<br>\"),\n              a = S(),\n              o = R(e.get(0), a);\n\n          if (1 < t) {\n            var s = Math.ceil(t / 2);\n            r = G(o.col, o.col + s - 1, a) / n * 100;\n            var l = G(o.col + s, o.col + t - 1, a) / n * 100;\n            1 < s ? e.attr(\"colspan\", s) : e.removeAttr(\"colspan\"), 1 < t - s ? i.attr(\"colspan\", t - s) : i.removeAttr(\"colspan\"), e.css(\"width\", r.toFixed(4) + \"%\"), i.css(\"width\", l.toFixed(4) + \"%\");\n          } else {\n            var d;\n\n            for (d = 0; d < a.length; d++) {\n              if (0 === d || a[d][o.col] != a[d - 1][o.col]) {\n                var c = Ee(a[d][o.col]);\n\n                if (!c.is(e)) {\n                  var f = (parseInt(c.attr(\"colspan\"), 10) || 1) + 1;\n                  c.attr(\"colspan\", f);\n                }\n              }\n            }\n\n            r = r / n * 100 / 2, e.css(\"width\", r.toFixed(4) + \"%\"), i.css(\"width\", r.toFixed(4) + \"%\");\n          }\n\n          e.after(i), L(), T.popups.hide(\"table.edit\");\n        }\n      },\n      splitCellHorizontally: function splitCellHorizontally() {\n        if (1 == Q().length) {\n          var e = T.$el.find(\".fr-selected-cell\"),\n              t = e.parent(),\n              n = e.closest(\"table\"),\n              r = parseInt(e.attr(\"rowspan\"), 10),\n              i = S(),\n              a = R(e.get(0), i),\n              o = e.clone().html(\"<br>\");\n\n          if (1 < r) {\n            var s = Math.ceil(r / 2);\n            1 < s ? e.attr(\"rowspan\", s) : e.removeAttr(\"rowspan\"), 1 < r - s ? o.attr(\"rowspan\", r - s) : o.removeAttr(\"rowspan\");\n\n            for (var l = a.row + s, d = 0 === a.col ? a.col : a.col - 1; 0 <= d && (i[l][d] == i[l][d - 1] || 0 < l && i[l][d] == i[l - 1][d]);) {\n              d--;\n            }\n\n            -1 == d ? Ee(n.find(\"tr\").not(n.find(\"table tr\")).get(l)).prepend(o) : Ee(i[l][d]).after(o);\n          } else {\n            var c,\n                f = Ee(\"<tr>\").append(o);\n\n            for (c = 0; c < i[0].length; c++) {\n              if (0 === c || i[a.row][c] != i[a.row][c - 1]) {\n                var p = Ee(i[a.row][c]);\n                p.is(e) || p.attr(\"rowspan\", (parseInt(p.attr(\"rowspan\"), 10) || 1) + 1);\n              }\n            }\n\n            t.after(f);\n          }\n\n          L(), T.popups.hide(\"table.edit\");\n        }\n      },\n      addHeader: function addHeader() {\n        var e = Z();\n\n        if (0 < e.length && 0 === e.find(\"th\").length) {\n          var t,\n              n = \"<thead><tr>\",\n              r = 0;\n\n          for (e.find(\"tr:first > td\").each(function () {\n            var e = Ee(this);\n            r += parseInt(e.attr(\"colspan\"), 10) || 1;\n          }), t = 0; t < r; t++) {\n            n += \"<th><br></th>\";\n          }\n\n          n += \"</tr></thead>\", e.prepend(n), u();\n        }\n      },\n      removeHeader: function removeHeader() {\n        var e = Z(),\n            t = e.find(\"thead\");\n        if (0 < t.length) if (0 === e.find(\"tbody tr\").length) h();else if (t.remove(), 0 < Q().length) u();else {\n          T.popups.hide(\"table.edit\");\n          var n = e.find(\"tbody tr:first td:first\").get(0);\n          n && (T.selection.setAtEnd(n), T.selection.restore());\n        }\n      },\n      setBackground: t,\n      showInsertPopup: function showInsertPopup() {\n        var e = T.$tb.find('.fr-command[data-cmd=\"insertTable\"]'),\n            t = T.popups.get(\"table.insert\");\n\n        if (t || (t = c()), !t.hasClass(\"fr-active\")) {\n          T.popups.refresh(\"table.insert\"), T.popups.setContainer(\"table.insert\", T.$tb);\n          var n = e.offset().left + e.outerWidth() / 2,\n              r = e.offset().top + (T.opts.toolbarBottom ? 10 : e.outerHeight() - 10);\n          T.popups.show(\"table.insert\", n, r, e.outerHeight());\n        }\n      },\n      showEditPopup: u,\n      showColorsPopup: d,\n      back: function back() {\n        0 < Q().length ? u() : (T.popups.hide(\"table.insert\"), T.toolbar.showInline());\n      },\n      verticalAlign: function verticalAlign(e) {\n        T.$el.find(\".fr-selected-cell\").css(\"vertical-align\", e);\n      },\n      horizontalAlign: function horizontalAlign(e) {\n        T.$el.find(\".fr-selected-cell\").css(\"text-align\", e);\n      },\n      applyStyle: function applyStyle(e, t, n, r) {\n        if (0 < t.length) {\n          if (!n) {\n            var i = Object.keys(r);\n            i.splice(i.indexOf(e), 1), t.removeClass(i.join(\" \"));\n          }\n\n          t.toggleClass(e);\n        }\n      },\n      selectedTable: Z,\n      selectedCells: Q,\n      customColor: function customColor() {\n        var e = T.popups.get(\"table.colors\").find(\".fr-table-colors-hex-layer input\");\n        e.length && t(e.val());\n      },\n      selectCells: O\n    };\n  }, Ee.FE.DefineIcon(\"insertTable\", {\n    NAME: \"table\"\n  }), Ee.FE.RegisterCommand(\"insertTable\", {\n    title: \"Insert Table\",\n    undo: !1,\n    focus: !0,\n    refreshOnCallback: !1,\n    popup: !0,\n    callback: function callback() {\n      this.popups.isVisible(\"table.insert\") ? (this.$el.find(\".fr-marker\").length && (this.events.disableBlur(), this.selection.restore()), this.popups.hide(\"table.insert\")) : this.table.showInsertPopup();\n    },\n    plugin: \"table\"\n  }), Ee.FE.RegisterCommand(\"tableInsert\", {\n    callback: function callback(e, t, n) {\n      this.table.insert(t, n), this.popups.hide(\"table.insert\");\n    }\n  }), Ee.FE.DefineIcon(\"tableHeader\", {\n    NAME: \"header\",\n    FA5NAME: \"heading\"\n  }), Ee.FE.RegisterCommand(\"tableHeader\", {\n    title: \"Table Header\",\n    focus: !1,\n    toggle: !0,\n    callback: function callback() {\n      this.popups.get(\"table.edit\").find('.fr-command[data-cmd=\"tableHeader\"]').hasClass(\"fr-active\") ? this.table.removeHeader() : this.table.addHeader();\n    },\n    refresh: function refresh(e) {\n      var t = this.table.selectedTable();\n      0 < t.length && (0 === t.find(\"th\").length ? e.removeClass(\"fr-active\").attr(\"aria-pressed\", !1) : e.addClass(\"fr-active\").attr(\"aria-pressed\", !0));\n    }\n  }), Ee.FE.DefineIcon(\"tableRows\", {\n    NAME: \"bars\"\n  }), Ee.FE.RegisterCommand(\"tableRows\", {\n    type: \"dropdown\",\n    focus: !1,\n    title: \"Row\",\n    options: {\n      above: \"Insert row above\",\n      below: \"Insert row below\",\n      \"delete\": \"Delete row\"\n    },\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = Ee.FE.COMMANDS.tableRows.options;\n\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e += '<li role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"tableRows\" data-param1=\"' + n + '\" title=\"' + this.language.translate(t[n]) + '\">' + this.language.translate(t[n]) + \"</a></li>\");\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      \"above\" == t || \"below\" == t ? this.table.insertRow(t) : this.table.deleteRow();\n    }\n  }), Ee.FE.DefineIcon(\"tableColumns\", {\n    NAME: \"bars fa-rotate-90\"\n  }), Ee.FE.RegisterCommand(\"tableColumns\", {\n    type: \"dropdown\",\n    focus: !1,\n    title: \"Column\",\n    options: {\n      before: \"Insert column before\",\n      after: \"Insert column after\",\n      \"delete\": \"Delete column\"\n    },\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = Ee.FE.COMMANDS.tableColumns.options;\n\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e += '<li role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"tableColumns\" data-param1=\"' + n + '\" title=\"' + this.language.translate(t[n]) + '\">' + this.language.translate(t[n]) + \"</a></li>\");\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      \"before\" == t || \"after\" == t ? this.table.insertColumn(t) : this.table.deleteColumn();\n    }\n  }), Ee.FE.DefineIcon(\"tableCells\", {\n    NAME: \"square-o\",\n    FA5NAME: \"square\"\n  }), Ee.FE.RegisterCommand(\"tableCells\", {\n    type: \"dropdown\",\n    focus: !1,\n    title: \"Cell\",\n    options: {\n      merge: \"Merge cells\",\n      \"vertical-split\": \"Vertical split\",\n      \"horizontal-split\": \"Horizontal split\"\n    },\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = Ee.FE.COMMANDS.tableCells.options;\n\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e += '<li role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"tableCells\" data-param1=\"' + n + '\" title=\"' + this.language.translate(t[n]) + '\">' + this.language.translate(t[n]) + \"</a></li>\");\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      \"merge\" == t ? this.table.mergeCells() : \"vertical-split\" == t ? this.table.splitCellVertically() : this.table.splitCellHorizontally();\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      1 < this.$el.find(\".fr-selected-cell\").length ? (t.find('a[data-param1=\"vertical-split\"]').addClass(\"fr-disabled\").attr(\"aria-disabled\", !0), t.find('a[data-param1=\"horizontal-split\"]').addClass(\"fr-disabled\").attr(\"aria-disabled\", !0), t.find('a[data-param1=\"merge\"]').removeClass(\"fr-disabled\").attr(\"aria-disabled\", !1)) : (t.find('a[data-param1=\"merge\"]').addClass(\"fr-disabled\").attr(\"aria-disabled\", !0), t.find('a[data-param1=\"vertical-split\"]').removeClass(\"fr-disabled\").attr(\"aria-disabled\", !1), t.find('a[data-param1=\"horizontal-split\"]').removeClass(\"fr-disabled\").attr(\"aria-disabled\", !1));\n    }\n  }), Ee.FE.DefineIcon(\"tableRemove\", {\n    NAME: \"trash\"\n  }), Ee.FE.RegisterCommand(\"tableRemove\", {\n    title: \"Remove Table\",\n    focus: !1,\n    callback: function callback() {\n      this.table.remove();\n    }\n  }), Ee.FE.DefineIcon(\"tableStyle\", {\n    NAME: \"paint-brush\"\n  }), Ee.FE.RegisterCommand(\"tableStyle\", {\n    title: \"Table Style\",\n    type: \"dropdown\",\n    focus: !1,\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = this.opts.tableStyles;\n\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e += '<li role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"tableStyle\" data-param1=\"' + n + '\" title=\"' + this.language.translate(t[n]) + '\">' + this.language.translate(t[n]) + \"</a></li>\");\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      this.table.applyStyle(t, this.$el.find(\".fr-selected-cell\").closest(\"table\"), this.opts.tableMultipleStyles, this.opts.tableStyles);\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      var n = this.$el.find(\".fr-selected-cell\").closest(\"table\");\n      n && t.find(\".fr-command\").each(function () {\n        var e = Ee(this).data(\"param1\"),\n            t = n.hasClass(e);\n        Ee(this).toggleClass(\"fr-active\", t).attr(\"aria-selected\", t);\n      });\n    }\n  }), Ee.FE.DefineIcon(\"tableCellBackground\", {\n    NAME: \"tint\"\n  }), Ee.FE.RegisterCommand(\"tableCellBackground\", {\n    title: \"Cell Background\",\n    focus: !1,\n    popup: !0,\n    callback: function callback() {\n      this.table.showColorsPopup();\n    }\n  }), Ee.FE.RegisterCommand(\"tableCellBackgroundColor\", {\n    undo: !0,\n    focus: !1,\n    callback: function callback(e, t) {\n      this.table.setBackground(t);\n    }\n  }), Ee.FE.DefineIcon(\"tableBack\", {\n    NAME: \"arrow-left\"\n  }), Ee.FE.RegisterCommand(\"tableBack\", {\n    title: \"Back\",\n    undo: !1,\n    focus: !1,\n    back: !0,\n    callback: function callback() {\n      this.table.back();\n    },\n    refresh: function refresh(e) {\n      0 !== this.table.selectedCells().length || this.opts.toolbarInline ? (e.removeClass(\"fr-hidden\"), e.next(\".fr-separator\").removeClass(\"fr-hidden\")) : (e.addClass(\"fr-hidden\"), e.next(\".fr-separator\").addClass(\"fr-hidden\"));\n    }\n  }), Ee.FE.DefineIcon(\"tableCellVerticalAlign\", {\n    NAME: \"arrows-v\",\n    FA5NAME: \"arrows-alt-v\"\n  }), Ee.FE.RegisterCommand(\"tableCellVerticalAlign\", {\n    type: \"dropdown\",\n    focus: !1,\n    title: \"Vertical Align\",\n    options: {\n      Top: \"Align Top\",\n      Middle: \"Align Middle\",\n      Bottom: \"Align Bottom\"\n    },\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = Ee.FE.COMMANDS.tableCellVerticalAlign.options;\n\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e += '<li role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"tableCellVerticalAlign\" data-param1=\"' + n.toLowerCase() + '\" title=\"' + this.language.translate(t[n]) + '\">' + this.language.translate(n) + \"</a></li>\");\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      this.table.verticalAlign(t);\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      t.find('.fr-command[data-param1=\"' + this.$el.find(\".fr-selected-cell\").css(\"vertical-align\") + '\"]').addClass(\"fr-active\").attr(\"aria-selected\", !0);\n    }\n  }), Ee.FE.DefineIcon(\"tableCellHorizontalAlign\", {\n    NAME: \"align-left\"\n  }), Ee.FE.DefineIcon(\"align-left\", {\n    NAME: \"align-left\"\n  }), Ee.FE.DefineIcon(\"align-right\", {\n    NAME: \"align-right\"\n  }), Ee.FE.DefineIcon(\"align-center\", {\n    NAME: \"align-center\"\n  }), Ee.FE.DefineIcon(\"align-justify\", {\n    NAME: \"align-justify\"\n  }), Ee.FE.RegisterCommand(\"tableCellHorizontalAlign\", {\n    type: \"dropdown\",\n    focus: !1,\n    title: \"Horizontal Align\",\n    options: {\n      left: \"Align Left\",\n      center: \"Align Center\",\n      right: \"Align Right\",\n      justify: \"Align Justify\"\n    },\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = Ee.FE.COMMANDS.tableCellHorizontalAlign.options;\n\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e += '<li role=\"presentation\"><a class=\"fr-command fr-title\" tabIndex=\"-1\" role=\"option\" data-cmd=\"tableCellHorizontalAlign\" data-param1=\"' + n + '\" title=\"' + this.language.translate(t[n]) + '\">' + this.icon.create(\"align-\" + n) + '<span class=\"fr-sr-only\">' + this.language.translate(t[n]) + \"</span></a></li>\");\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      this.table.horizontalAlign(t);\n    },\n    refresh: function refresh(e) {\n      var t = this.table.selectedCells();\n      t.length && e.find(\"> *:first\").replaceWith(this.icon.create(\"align-\" + this.helpers.getAlignment(Ee(t[0]))));\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      t.find('.fr-command[data-param1=\"' + this.helpers.getAlignment(this.$el.find(\".fr-selected-cell:first\")) + '\"]').addClass(\"fr-active\").attr(\"aria-selected\", !0);\n    }\n  }), Ee.FE.DefineIcon(\"tableCellStyle\", {\n    NAME: \"magic\"\n  }), Ee.FE.RegisterCommand(\"tableCellStyle\", {\n    title: \"Cell Style\",\n    type: \"dropdown\",\n    focus: !1,\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = this.opts.tableCellStyles;\n\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e += '<li role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"tableCellStyle\" data-param1=\"' + n + '\" title=\"' + this.language.translate(t[n]) + '\">' + this.language.translate(t[n]) + \"</a></li>\");\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      this.table.applyStyle(t, this.$el.find(\".fr-selected-cell\"), this.opts.tableCellMultipleStyles, this.opts.tableCellStyles);\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      var n = this.$el.find(\".fr-selected-cell:first\");\n      n && t.find(\".fr-command\").each(function () {\n        var e = Ee(this).data(\"param1\"),\n            t = n.hasClass(e);\n        Ee(this).toggleClass(\"fr-active\", t).attr(\"aria-selected\", t);\n      });\n    }\n  }), Ee.FE.RegisterCommand(\"tableCellBackgroundCustomColor\", {\n    title: \"OK\",\n    undo: !0,\n    callback: function callback() {\n      this.table.customColor();\n    }\n  }), Ee.FE.DefineIcon(\"tableColorRemove\", {\n    NAME: \"eraser\"\n  }), Ee.FE.URLRegEx = \"(^| |\\\\u00A0)(\" + Ee.FE.LinkRegEx + \"|([a-z0-9+-_.]{1,}@[a-z0-9+-_.]{1,}\\\\.[a-z0-9+-_]{1,}))$\", Ee.FE.PLUGINS.url = function (a) {\n    var o = null;\n\n    function t(e, t, n) {\n      for (var r = \"\"; n.length && \".\" == n[n.length - 1];) {\n        r += \".\", n = n.substring(0, n.length - 1);\n      }\n\n      var i = n;\n      if (a.opts.linkConvertEmailAddress) a.helpers.isEmail(i) && !/^mailto:.*/i.test(i) && (i = \"mailto:\" + i);else if (a.helpers.isEmail(i)) return t + n;\n      return /^((http|https|ftp|ftps|mailto|tel|sms|notes|data)\\:)/i.test(i) || (i = \"//\" + i), (t || \"\") + \"<a\" + (a.opts.linkAlwaysBlank ? ' target=\"_blank\"' : \"\") + (o ? ' rel=\"' + o + '\"' : \"\") + ' data-fr-linked=\"true\" href=\"' + i + '\">' + n.replace(/&amp;/g, \"&\").replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\") + \"</a>\" + r;\n    }\n\n    function s() {\n      return new RegExp(Ee.FE.URLRegEx, \"gi\");\n    }\n\n    function l(e) {\n      return a.opts.linkAlwaysNoFollow && (o = \"nofollow\"), a.opts.linkAlwaysBlank && (a.opts.linkNoOpener && (o ? o += \" noopener\" : o = \"noopener\"), a.opts.linkNoReferrer && (o ? o += \" noreferrer\" : o = \"noreferrer\")), e.replace(s(), t);\n    }\n\n    function d(e) {\n      var t = e.split(\" \");\n      return t[t.length - 1];\n    }\n\n    function n() {\n      var t = a.selection.ranges(0),\n          n = t.startContainer;\n      if (!n || n.nodeType !== Node.TEXT_NODE || t.startOffset !== (n.textContent || \"\").length) return !1;\n      if (function e(t) {\n        return !!t && (\"A\" === t.tagName || !(!t.parentNode || t.parentNode == a.el) && e(t.parentNode));\n      }(n)) return !1;\n\n      if (s().test(d(n.textContent))) {\n        Ee(n).before(l(n.textContent));\n        var r = Ee(n.parentNode).find(\"a[data-fr-linked]\");\n        r.removeAttr(\"data-fr-linked\"), n.parentNode.removeChild(n), a.events.trigger(\"url.linked\", [r.get(0)]);\n      } else if (n.textContent.split(\" \").length <= 2 && n.previousSibling && \"A\" === n.previousSibling.tagName) {\n        var i = n.previousSibling.innerText + n.textContent;\n        s().test(d(i)) && (Ee(n.previousSibling).replaceWith(l(i)), n.parentNode.removeChild(n));\n      }\n    }\n\n    return {\n      _init: function _init() {\n        a.events.on(\"keypress\", function (e) {\n          !a.selection.isCollapsed() || \".\" != e.key && \")\" != e.key && \"(\" != e.key || n();\n        }, !0), a.events.on(\"keydown\", function (e) {\n          var t = e.which;\n          !a.selection.isCollapsed() || t != Ee.FE.KEYCODE.ENTER && t != Ee.FE.KEYCODE.SPACE || n();\n        }, !0), a.events.on(\"paste.beforeCleanup\", function (e) {\n          if (a.helpers.isURL(e)) {\n            var t = null;\n            return a.opts.linkAlwaysBlank && (a.opts.linkNoOpener && (t ? t += \" noopener\" : t = \"noopener\"), a.opts.linkNoReferrer && (t ? t += \" noreferrer\" : t = \"noreferrer\")), \"<a\" + (a.opts.linkAlwaysBlank ? ' target=\"_blank\"' : \"\") + (t ? ' rel=\"' + t + '\"' : \"\") + ' href=\"' + e + '\" >' + e + \"</a>\";\n          }\n        });\n      }\n    };\n  }, Ee.extend(Ee.FE.POPUP_TEMPLATES, {\n    \"video.insert\": \"[_BUTTONS_][_BY_URL_LAYER_][_EMBED_LAYER_][_UPLOAD_LAYER_][_PROGRESS_BAR_]\",\n    \"video.edit\": \"[_BUTTONS_]\",\n    \"video.size\": \"[_BUTTONS_][_SIZE_LAYER_]\"\n  }), Ee.extend(Ee.FE.DEFAULTS, {\n    videoAllowedTypes: [\"mp4\", \"webm\", \"ogg\"],\n    videoAllowedProviders: [\".*\"],\n    videoDefaultAlign: \"center\",\n    videoDefaultDisplay: \"block\",\n    videoDefaultWidth: 600,\n    videoEditButtons: [\"videoReplace\", \"videoRemove\", \"|\", \"videoDisplay\", \"videoAlign\", \"videoSize\"],\n    videoInsertButtons: [\"videoBack\", \"|\", \"videoByURL\", \"videoEmbed\", \"videoUpload\"],\n    videoMaxSize: 52428800,\n    videoMove: !0,\n    videoResize: !0,\n    videoResponsive: !1,\n    videoSizeButtons: [\"videoBack\", \"|\"],\n    videoSplitHTML: !1,\n    videoTextNear: !0,\n    videoUpload: !0,\n    videoUploadMethod: \"POST\",\n    videoUploadParam: \"file\",\n    videoUploadParams: {},\n    videoUploadToS3: !1,\n    videoUploadURL: null\n  }), Ee.FE.VIDEO_PROVIDERS = [{\n    test_regex: /^.*((youtu.be)|(youtube.com))\\/((v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))?\\??v?=?([^#\\&\\?]*).*/,\n    url_regex: /(?:https?:\\/\\/)?(?:www\\.)?(?:m\\.)?(?:youtube\\.com|youtu\\.be)\\/(?:watch\\?v=|embed\\/)?([0-9a-zA-Z_\\-]+)(.+)?/g,\n    url_text: \"https://www.youtube.com/embed/$1?$2\",\n    html: '<iframe width=\"640\" height=\"360\" src=\"{url}&wmode=opaque\" frameborder=\"0\" allowfullscreen></iframe>',\n    provider: \"youtube\"\n  }, {\n    test_regex: /^.*(?:vimeo.com)\\/(?:channels(\\/\\w+\\/)?|groups\\/*\\/videos\\/\\u200b\\d+\\/|video\\/|)(\\d+)(?:$|\\/|\\?)/,\n    url_regex: /(?:https?:\\/\\/)?(?:www\\.|player\\.)?vimeo.com\\/(?:channels\\/(?:\\w+\\/)?|groups\\/(?:[^\\/]*)\\/videos\\/|album\\/(?:\\d+)\\/video\\/|video\\/|)(\\d+)(?:[a-zA-Z0-9_\\-]+)?(\\/[a-zA-Z0-9_\\-]+)?/i,\n    url_text: \"https://player.vimeo.com/video/$1\",\n    html: '<iframe width=\"640\" height=\"360\" src=\"{url}\" frameborder=\"0\" allowfullscreen></iframe>',\n    provider: \"vimeo\"\n  }, {\n    test_regex: /^.+(dailymotion.com|dai.ly)\\/(video|hub)?\\/?([^_]+)[^#]*(#video=([^_&]+))?/,\n    url_regex: /(?:https?:\\/\\/)?(?:www\\.)?(?:dailymotion\\.com|dai\\.ly)\\/(?:video|hub)?\\/?(.+)/g,\n    url_text: \"https://www.dailymotion.com/embed/video/$1\",\n    html: '<iframe width=\"640\" height=\"360\" src=\"{url}\" frameborder=\"0\" allowfullscreen></iframe>',\n    provider: \"dailymotion\"\n  }, {\n    test_regex: /^.+(screen.yahoo.com)\\/[^_&]+/,\n    url_regex: \"\",\n    url_text: \"\",\n    html: '<iframe width=\"640\" height=\"360\" src=\"{url}?format=embed\" frameborder=\"0\" allowfullscreen=\"true\" mozallowfullscreen=\"true\" webkitallowfullscreen=\"true\" allowtransparency=\"true\"></iframe>',\n    provider: \"yahoo\"\n  }, {\n    test_regex: /^.+(rutube.ru)\\/[^_&]+/,\n    url_regex: /(?:https?:\\/\\/)?(?:www\\.)?(?:rutube\\.ru)\\/(?:video)?\\/?(.+)/g,\n    url_text: \"https://rutube.ru/play/embed/$1\",\n    html: '<iframe width=\"640\" height=\"360\" src=\"{url}\" frameborder=\"0\" allowfullscreen=\"true\" mozallowfullscreen=\"true\" webkitallowfullscreen=\"true\" allowtransparency=\"true\"></iframe>',\n    provider: \"rutube\"\n  }, {\n    test_regex: /^(?:.+)vidyard.com\\/(?:watch)?\\/?([^.&/]+)\\/?(?:[^_.&]+)?/,\n    url_regex: /^(?:.+)vidyard.com\\/(?:watch)?\\/?([^.&/]+)\\/?(?:[^_.&]+)?/g,\n    url_text: \"https://play.vidyard.com/$1\",\n    html: '<iframe width=\"640\" height=\"360\" src=\"{url}\" frameborder=\"0\" allowfullscreen></iframe>',\n    provider: \"vidyard\"\n  }], Ee.FE.VIDEO_EMBED_REGEX = /^\\W*((<iframe(.|\\n)*>(\\s|\\n)*<\\/iframe>)|(<embed(.|\\n)*>))\\W*$/i, Ee.FE.PLUGINS.video = function (p) {\n    var s,\n        c,\n        f,\n        u,\n        r,\n        n,\n        l = \"https://i.froala.com/upload\",\n        d = 2,\n        h = 3,\n        g = 4,\n        m = 5,\n        v = 6,\n        i = {};\n\n    function E() {\n      var e = p.popups.get(\"video.insert\");\n      e.find(\".fr-video-by-url-layer input\").val(\"\").trigger(\"change\");\n      var t = e.find(\".fr-video-embed-layer textarea\");\n      t.val(\"\").trigger(\"change\"), (t = e.find(\".fr-video-upload-layer input\")).val(\"\").trigger(\"change\");\n    }\n\n    function a() {\n      var e = p.popups.get(\"video.edit\");\n\n      if (e || (e = function () {\n        var e = \"\";\n\n        if (0 < p.opts.videoEditButtons.length) {\n          p.opts.videoResponsive && (p.opts.videoEditButtons.splice(p.opts.videoEditButtons.indexOf(\"videoSize\"), 1), p.opts.videoEditButtons.splice(p.opts.videoEditButtons.indexOf(\"videoDisplay\"), 1), p.opts.videoEditButtons.splice(p.opts.videoEditButtons.indexOf(\"videoAlign\"), 1)), e += '<div class=\"fr-buttons\">', e += p.button.buildList(p.opts.videoEditButtons);\n          var t = {\n            buttons: e += \"</div>\"\n          },\n              n = p.popups.create(\"video.edit\", t);\n          return p.events.$on(p.$wp, \"scroll.video-edit\", function () {\n            u && p.popups.isVisible(\"video.edit\") && (p.events.disableBlur(), _(u));\n          }), n;\n        }\n\n        return !1;\n      }()), e) {\n        p.popups.setContainer(\"video.edit\", p.$sc), p.popups.refresh(\"video.edit\");\n        var t = u.find(\"iframe, embed, video\"),\n            n = t.offset().left + t.outerWidth() / 2,\n            r = t.offset().top + t.outerHeight();\n        p.popups.show(\"video.edit\", n, r, t.outerHeight());\n      }\n    }\n\n    function o(e) {\n      if (e) return p.popups.onRefresh(\"video.insert\", E), p.popups.onHide(\"image.insert\", X), !0;\n      var t = \"\";\n      p.opts.videoUpload || -1 === p.opts.videoInsertButtons.indexOf(\"videoUpload\") || p.opts.videoInsertButtons.splice(p.opts.videoInsertButtons.indexOf(\"videoUpload\"), 1);\n      var n = p.button.buildList(p.opts.videoInsertButtons);\n      \"\" !== n && (t = '<div class=\"fr-buttons\">' + n + \"</div>\");\n      var r,\n          i = \"\",\n          a = p.opts.videoInsertButtons.indexOf(\"videoUpload\"),\n          o = p.opts.videoInsertButtons.indexOf(\"videoByURL\"),\n          s = p.opts.videoInsertButtons.indexOf(\"videoEmbed\");\n      0 <= o && (r = \" fr-active\", (a < o && 0 <= a || s < o && 0 <= s) && (r = \"\"), i = '<div class=\"fr-video-by-url-layer fr-layer' + r + '\" id=\"fr-video-by-url-layer-' + p.id + '\"><div class=\"fr-input-line\"><input id=\"fr-video-by-url-layer-text-' + p.id + '\" type=\"text\" placeholder=\"' + p.language.translate(\"Paste in a video URL\") + '\" tabIndex=\"1\" aria-required=\"true\"></div><div class=\"fr-action-buttons\"><button type=\"button\" class=\"fr-command fr-submit\" data-cmd=\"videoInsertByURL\" tabIndex=\"2\" role=\"button\">' + p.language.translate(\"Insert\") + \"</button></div></div>\");\n      var l = \"\";\n      0 <= s && (r = \" fr-active\", (a < s && 0 <= a || o < s && 0 <= o) && (r = \"\"), l = '<div class=\"fr-video-embed-layer fr-layer' + r + '\" id=\"fr-video-embed-layer-' + p.id + '\"><div class=\"fr-input-line\"><textarea id=\"fr-video-embed-layer-text' + p.id + '\" type=\"text\" placeholder=\"' + p.language.translate(\"Embedded Code\") + '\" tabIndex=\"1\" aria-required=\"true\" rows=\"5\"></textarea></div><div class=\"fr-action-buttons\"><button type=\"button\" class=\"fr-command fr-submit\" data-cmd=\"videoInsertEmbed\" tabIndex=\"2\" role=\"button\">' + p.language.translate(\"Insert\") + \"</button></div></div>\");\n      var d = \"\";\n      0 <= a && (r = \" fr-active\", (s < a && 0 <= s || o < a && 0 <= o) && (r = \"\"), d = '<div class=\"fr-video-upload-layer fr-layer' + r + '\" id=\"fr-video-upload-layer-' + p.id + '\"><strong>' + p.language.translate(\"Drop video\") + \"</strong><br>(\" + p.language.translate(\"or click\") + ')<div class=\"fr-form\"><input type=\"file\" accept=\"video/' + p.opts.videoAllowedTypes.join(\", video/\").toLowerCase() + '\" tabIndex=\"-1\" aria-labelledby=\"fr-video-upload-layer-' + p.id + '\" role=\"button\"></div></div>');\n      var c = {\n        buttons: t,\n        by_url_layer: i,\n        embed_layer: l,\n        upload_layer: d,\n        progress_bar: '<div class=\"fr-video-progress-bar-layer fr-layer\"><h3 tabIndex=\"-1\" class=\"fr-message\">Uploading</h3><div class=\"fr-loader\"><span class=\"fr-progress\"></span></div><div class=\"fr-action-buttons\"><button type=\"button\" class=\"fr-command fr-dismiss\" data-cmd=\"videoDismissError\" tabIndex=\"2\" role=\"button\">OK</button></div></div>'\n      },\n          f = p.popups.create(\"video.insert\", c);\n      return function (r) {\n        p.events.$on(r, \"dragover dragenter\", \".fr-video-upload-layer\", function () {\n          return Ee(this).addClass(\"fr-drop\"), !1;\n        }, !0), p.events.$on(r, \"dragleave dragend\", \".fr-video-upload-layer\", function () {\n          return Ee(this).removeClass(\"fr-drop\"), !1;\n        }, !0), p.events.$on(r, \"drop\", \".fr-video-upload-layer\", function (e) {\n          e.preventDefault(), e.stopPropagation(), Ee(this).removeClass(\"fr-drop\");\n          var t = e.originalEvent.dataTransfer;\n\n          if (t && t.files) {\n            var n = r.data(\"instance\") || p;\n            n.events.disableBlur(), n.video.upload(t.files), n.events.enableBlur();\n          }\n        }, !0), p.helpers.isIOS() && p.events.$on(r, \"touchstart\", '.fr-video-upload-layer input[type=\"file\"]', function () {\n          Ee(this).trigger(\"click\");\n        }, !0);\n        p.events.$on(r, \"change\", '.fr-video-upload-layer input[type=\"file\"]', function () {\n          if (this.files) {\n            var e = r.data(\"instance\") || p;\n            e.events.disableBlur(), r.find(\"input:focus\").blur(), e.events.enableBlur(), e.video.upload(this.files);\n          }\n\n          Ee(this).val(\"\");\n        }, !0);\n      }(f), f;\n    }\n\n    function b(e) {\n      p.events.focus(!0), p.selection.restore();\n      var t = !1;\n      u && (V(), t = !0), p.html.insert('<span contenteditable=\"false\" draggable=\"true\" class=\"fr-jiv fr-video\">' + e + \"</span>\", !1, p.opts.videoSplitHTML), p.popups.hide(\"video.insert\");\n      var n = p.$el.find(\".fr-jiv\");\n      n.removeClass(\"fr-jiv\"), n.toggleClass(\"fr-rv\", p.opts.videoResponsive), q(n, p.opts.videoDefaultDisplay, p.opts.videoDefaultAlign), n.toggleClass(\"fr-draggable\", p.opts.videoMove), p.events.trigger(t ? \"video.replaced\" : \"video.inserted\", [n]);\n    }\n\n    function T() {\n      var e = Ee(this);\n      p.popups.hide(\"video.insert\"), e.removeClass(\"fr-uploading\"), e.parent().next().is(\"br\") && e.parent().next().remove(), _(e.parent()), p.events.trigger(\"video.loaded\", [e.parent()]);\n    }\n\n    function A(s, e, l, d, c) {\n      p.edit.off(), R(\"Loading video\"), e && (s = p.helpers.sanitizeURL(s));\n      C(\"Loading video\"), function () {\n        var e, t;\n\n        if (d) {\n          p.undo.canDo() || d.find(\"video\").hasClass(\"fr-uploading\") || p.undo.saveStep();\n          var n = d.find(\"video\").data(\"fr-old-src\"),\n              r = d.data(\"fr-replaced\");\n          d.data(\"fr-replaced\", !1), p.$wp ? ((e = d.clone()).find(\"video\").removeData(\"fr-old-src\").removeClass(\"fr-uploading\"), e.find(\"video\").off(\"canplay\"), n && d.find(\"video\").attr(\"src\", n), d.replaceWith(e)) : e = d;\n\n          for (var i = e.find(\"video\").get(0).attributes, a = 0; a < i.length; a++) {\n            var o = i[a];\n            0 === o.nodeName.indexOf(\"data-\") && e.find(\"video\").removeAttr(o.nodeName);\n          }\n\n          if (void 0 !== l) for (t in l) {\n            l.hasOwnProperty(t) && \"link\" != t && e.find(\"video\").attr(\"data-\" + t, l[t]);\n          }\n          e.find(\"video\").on(\"canplay\", T), e.find(\"video\").attr(\"src\", s), p.edit.on(), F(), p.undo.saveStep(), p.$el.blur(), p.events.trigger(r ? \"video.replaced\" : \"video.inserted\", [e, c]);\n        } else e = function (e, t, n) {\n          var r,\n              i = \"\";\n          if (t && void 0 !== t) for (r in t) {\n            t.hasOwnProperty(r) && \"link\" != r && (i += \" data-\" + r + '=\"' + t[r] + '\"');\n          }\n          var a = p.opts.videoDefaultWidth;\n          a && \"auto\" != a && (a += \"px\");\n          var o = Ee('<span contenteditable=\"false\" draggable=\"true\" class=\"fr-video fr-dv' + p.opts.videoDefaultDisplay[0] + (\"center\" != p.opts.videoDefaultAlign ? \" fr-fv\" + p.opts.videoDefaultAlign[0] : \"\") + '\"><video src=\"' + e + '\" ' + i + (a ? ' style=\"width: ' + a + ';\" ' : \"\") + \" controls>\" + p.language.translate(\"Your browser does not support HTML5 video.\") + \"</video></span>\");\n          o.toggleClass(\"fr-draggable\", p.opts.videoMove), p.edit.on(), p.events.focus(!0), p.selection.restore(), p.undo.saveStep(), p.opts.videoSplitHTML ? p.markers.split() : p.markers.insert(), p.html.wrap();\n          var s = p.$el.find(\".fr-marker\");\n          return p.node.isLastSibling(s) && s.parent().hasClass(\"fr-deletable\") && s.insertAfter(s.parent()), s.replaceWith(o), p.selection.clear(), o.find(\"video\").get(0).readyState > o.find(\"video\").get(0).HAVE_FUTURE_DATA || p.helpers.isIOS() ? n.call(o.find(\"video\").get(0)) : o.find(\"video\").on(\"canplaythrough load\", n), o;\n        }(s, l, T), F(), p.undo.saveStep(), p.events.trigger(\"video.inserted\", [e, c]);\n      }();\n    }\n\n    function C(e) {\n      var t = p.popups.get(\"video.insert\");\n\n      if (t || (t = o()), t.find(\".fr-layer.fr-active\").removeClass(\"fr-active\").addClass(\"fr-pactive\"), t.find(\".fr-video-progress-bar-layer\").addClass(\"fr-active\"), t.find(\".fr-buttons\").hide(), u) {\n        var n = u.find(\"video\");\n        p.popups.setContainer(\"video.insert\", p.$sc);\n        var r = n.offset().left + n.width() / 2,\n            i = n.offset().top + n.height();\n        p.popups.show(\"video.insert\", r, i, n.outerHeight());\n      }\n\n      void 0 === e && R(p.language.translate(\"Uploading\"), 0);\n    }\n\n    function S(e) {\n      var t = p.popups.get(\"video.insert\");\n\n      if (t && (t.find(\".fr-layer.fr-pactive\").addClass(\"fr-active\").removeClass(\"fr-pactive\"), t.find(\".fr-video-progress-bar-layer\").removeClass(\"fr-active\"), t.find(\".fr-buttons\").show(), e || p.$el.find(\"video.fr-error\").length)) {\n        if (p.events.focus(), p.$el.find(\"video.fr-error\").length && (p.$el.find(\"video.fr-error\").parent().remove(), p.undo.saveStep(), p.undo.run(), p.undo.dropRedo()), !p.$wp && u) {\n          var n = u;\n          B(!0), p.selection.setAfter(n.find(\"video\").get(0)), p.selection.restore();\n        }\n\n        p.popups.hide(\"video.insert\");\n      }\n    }\n\n    function R(e, t) {\n      var n = p.popups.get(\"video.insert\");\n\n      if (n) {\n        var r = n.find(\".fr-video-progress-bar-layer\");\n        r.find(\"h3\").text(e + (t ? \" \" + t + \"%\" : \"\")), r.removeClass(\"fr-error\"), t ? (r.find(\"div\").removeClass(\"fr-indeterminate\"), r.find(\"div > span\").css(\"width\", t + \"%\")) : r.find(\"div\").addClass(\"fr-indeterminate\");\n      }\n    }\n\n    function y(e) {\n      C();\n      var t = p.popups.get(\"video.insert\").find(\".fr-video-progress-bar-layer\");\n      t.addClass(\"fr-error\");\n      var n = t.find(\"h3\");\n      n.text(e), p.events.disableBlur(), n.focus();\n    }\n\n    function _(e) {\n      $.call(e.get(0));\n    }\n\n    function L(e) {\n      R(\"Loading video\");\n      var t = this.status,\n          n = this.response,\n          r = this.responseXML,\n          i = this.responseText;\n\n      try {\n        if (p.opts.videoUploadToS3) {\n          if (201 == t) {\n            var a = function (e) {\n              try {\n                var t = Ee(e).find(\"Location\").text(),\n                    n = Ee(e).find(\"Key\").text();\n                return !1 === p.events.trigger(\"video.uploadedToS3\", [t, n, e], !0) ? (p.edit.on(), !1) : t;\n              } catch (r) {\n                return H(g, e), !1;\n              }\n            }(r);\n\n            a && A(a, !1, [], e, n || r);\n          } else H(g, n || r);\n        } else if (200 <= t && t < 300) {\n          var o = function (e) {\n            try {\n              if (!1 === p.events.trigger(\"video.uploaded\", [e], !0)) return p.edit.on(), !1;\n              var t = JSON.parse(e);\n              return t.link ? t : (H(d, e), !1);\n            } catch (n) {\n              return H(g, e), !1;\n            }\n          }(i);\n\n          o && A(o.link, !1, o, e, n || i);\n        } else H(h, n || i);\n      } catch (s) {\n        H(g, n || i);\n      }\n    }\n\n    function x() {\n      H(g, this.response || this.responseText || this.responseXML);\n    }\n\n    function w(e) {\n      if (e.lengthComputable) {\n        var t = e.loaded / e.total * 100 | 0;\n        R(p.language.translate(\"Uploading\"), t);\n      }\n    }\n\n    function N() {\n      p.edit.on(), S(!0);\n    }\n\n    function O(e) {\n      if (!p.core.sameInstance(f)) return !0;\n      e.preventDefault(), e.stopPropagation();\n      var t = e.pageX || (e.originalEvent.touches ? e.originalEvent.touches[0].pageX : null),\n          n = e.pageY || (e.originalEvent.touches ? e.originalEvent.touches[0].pageY : null);\n      if (!t || !n) return !1;\n\n      if (\"mousedown\" == e.type) {\n        var r = p.$oel.get(0).ownerDocument,\n            i = r.defaultView || r.parentWindow,\n            a = !1;\n\n        try {\n          a = i.location != i.parent.location && !(i.$ && i.$.FE);\n        } catch (o) {}\n\n        a && i.frameElement && (t += p.helpers.getPX(Ee(i.frameElement).offset().left) + i.frameElement.clientLeft, n = e.clientY + p.helpers.getPX(Ee(i.frameElement).offset().top) + i.frameElement.clientTop);\n      }\n\n      p.undo.canDo() || p.undo.saveStep(), (c = Ee(this)).data(\"start-x\", t), c.data(\"start-y\", n), s.show(), p.popups.hideAll(), P();\n    }\n\n    function I(e) {\n      if (!p.core.sameInstance(f)) return !0;\n\n      if (c) {\n        e.preventDefault();\n        var t = e.pageX || (e.originalEvent.touches ? e.originalEvent.touches[0].pageX : null),\n            n = e.pageY || (e.originalEvent.touches ? e.originalEvent.touches[0].pageY : null);\n        if (!t || !n) return !1;\n        var r = c.data(\"start-x\"),\n            i = c.data(\"start-y\");\n        c.data(\"start-x\", t), c.data(\"start-y\", n);\n        var a = t - r,\n            o = n - i,\n            s = u.find(\"iframe, embed, video\"),\n            l = s.width(),\n            d = s.height();\n        (c.hasClass(\"fr-hnw\") || c.hasClass(\"fr-hsw\")) && (a = 0 - a), (c.hasClass(\"fr-hnw\") || c.hasClass(\"fr-hne\")) && (o = 0 - o), s.css(\"width\", l + a), s.css(\"height\", d + o), s.removeAttr(\"width\"), s.removeAttr(\"height\"), M();\n      }\n    }\n\n    function D(e) {\n      if (!p.core.sameInstance(f)) return !0;\n      c && u && (e && e.stopPropagation(), c = null, s.hide(), M(), a(), p.undo.saveStep());\n    }\n\n    function t(e) {\n      return '<div class=\"fr-handler fr-h' + e + '\"></div>';\n    }\n\n    function k(e, t, n, r) {\n      return e.pageX = t, e.pageY = t, O.call(this, e), e.pageX = e.pageX + n * Math.floor(Math.pow(1.1, r)), e.pageY = e.pageY + n * Math.floor(Math.pow(1.1, r)), I.call(this, e), D.call(this, e), ++r;\n    }\n\n    function F() {\n      var e,\n          t = Array.prototype.slice.call(p.el.querySelectorAll(\"video, .fr-video > *\")),\n          n = [];\n\n      for (e = 0; e < t.length; e++) {\n        n.push(t[e].getAttribute(\"src\")), Ee(t[e]).toggleClass(\"fr-draggable\", p.opts.videoMove), \"\" === t[e].getAttribute(\"class\") && t[e].removeAttribute(\"class\"), \"\" === t[e].getAttribute(\"style\") && t[e].removeAttribute(\"style\");\n      }\n\n      if (r) for (e = 0; e < r.length; e++) {\n        n.indexOf(r[e].getAttribute(\"src\")) < 0 && p.events.trigger(\"video.removed\", [Ee(r[e])]);\n      }\n      r = t;\n    }\n\n    function M() {\n      f || function () {\n        var e;\n\n        if (p.shared.$video_resizer ? (f = p.shared.$video_resizer, s = p.shared.$vid_overlay, p.events.on(\"destroy\", function () {\n          f.removeClass(\"fr-active\").appendTo(Ee(\"body:first\"));\n        }, !0)) : (p.shared.$video_resizer = Ee('<div class=\"fr-video-resizer\"></div>'), f = p.shared.$video_resizer, p.events.$on(f, \"mousedown\", function (e) {\n          e.stopPropagation();\n        }, !0), p.opts.videoResize && (f.append(t(\"nw\") + t(\"ne\") + t(\"sw\") + t(\"se\")), p.shared.$vid_overlay = Ee('<div class=\"fr-video-overlay\"></div>'), s = p.shared.$vid_overlay, e = f.get(0).ownerDocument, Ee(e).find(\"body:first\").append(s))), p.events.on(\"shared.destroy\", function () {\n          f.html(\"\").removeData().remove(), f = null, p.opts.videoResize && (s.remove(), s = null);\n        }, !0), p.helpers.isMobile() || p.events.$on(Ee(p.o_win), \"resize.video\", function () {\n          B(!0);\n        }), p.opts.videoResize) {\n          e = f.get(0).ownerDocument, p.events.$on(f, p._mousedown, \".fr-handler\", O), p.events.$on(Ee(e), p._mousemove, I), p.events.$on(Ee(e.defaultView || e.parentWindow), p._mouseup, D), p.events.$on(s, \"mouseleave\", D);\n          var r = 1,\n              i = null,\n              a = 0;\n          p.events.on(\"keydown\", function (e) {\n            if (u) {\n              var t = -1 != navigator.userAgent.indexOf(\"Mac OS X\") ? e.metaKey : e.ctrlKey,\n                  n = e.which;\n              (n !== i || 200 < e.timeStamp - a) && (r = 1), (n == Ee.FE.KEYCODE.EQUALS || p.browser.mozilla && n == Ee.FE.KEYCODE.FF_EQUALS) && t && !e.altKey ? r = k.call(this, e, 1, 1, r) : (n == Ee.FE.KEYCODE.HYPHEN || p.browser.mozilla && n == Ee.FE.KEYCODE.FF_HYPHEN) && t && !e.altKey && (r = k.call(this, e, 2, -1, r)), i = n, a = e.timeStamp;\n            }\n          }), p.events.on(\"keyup\", function () {\n            r = 1;\n          });\n        }\n      }(), (p.$wp || p.$sc).append(f), f.data(\"instance\", p);\n      var e = u.find(\"iframe, embed, video\");\n      f.css(\"top\", (p.opts.iframe ? e.offset().top - 1 : e.offset().top - p.$wp.offset().top - 1) + p.$wp.scrollTop()).css(\"left\", (p.opts.iframe ? e.offset().left - 1 : e.offset().left - p.$wp.offset().left - 1) + p.$wp.scrollLeft()).css(\"width\", e.get(0).getBoundingClientRect().width).css(\"height\", e.get(0).getBoundingClientRect().height).addClass(\"fr-active\");\n    }\n\n    function $(e) {\n      if (e && \"touchend\" == e.type && n) return !0;\n      if (e && p.edit.isDisabled()) return e.stopPropagation(), e.preventDefault(), !1;\n      if (p.edit.isDisabled()) return !1;\n\n      for (var t = 0; t < Ee.FE.INSTANCES.length; t++) {\n        Ee.FE.INSTANCES[t] != p && Ee.FE.INSTANCES[t].events.trigger(\"video.hideResizer\");\n      }\n\n      p.toolbar.disable(), p.helpers.isMobile() && (p.events.disableBlur(), p.$el.blur(), p.events.enableBlur()), p.$el.find(\".fr-video.fr-active\").removeClass(\"fr-active\"), (u = Ee(this)).addClass(\"fr-active\"), p.opts.iframe && p.size.syncIframe(), Q(), M(), a(), p.selection.clear(), p.button.bulkRefresh(), p.events.trigger(\"image.hideResizer\");\n    }\n\n    function B(e) {\n      u && (p.shared.vid_exit_flag || !0 === e) && (f.removeClass(\"fr-active\"), p.toolbar.enable(), u.removeClass(\"fr-active\"), u = null, P());\n    }\n\n    function e() {\n      p.shared.vid_exit_flag = !0;\n    }\n\n    function P() {\n      p.shared.vid_exit_flag = !1;\n    }\n\n    function U(e) {\n      var t = e.originalEvent.dataTransfer;\n\n      if (t && t.files && t.files.length) {\n        var n = t.files[0];\n\n        if (n && n.type && -1 !== n.type.indexOf(\"video\")) {\n          if (!p.opts.videoUpload) return e.preventDefault(), e.stopPropagation(), !1;\n          p.markers.remove(), p.markers.insertAtPoint(e.originalEvent), p.$el.find(\".fr-marker\").replaceWith(Ee.FE.MARKERS), p.popups.hideAll();\n          var r = p.popups.get(\"video.insert\");\n          return r || (r = o()), p.popups.setContainer(\"video.insert\", p.$sc), p.popups.show(\"video.insert\", e.originalEvent.pageX, e.originalEvent.pageY), C(), 0 <= p.opts.videoAllowedTypes.indexOf(n.type.replace(/video\\//g, \"\")) ? K(t.files) : H(v), e.preventDefault(), e.stopPropagation(), !1;\n        }\n      }\n    }\n\n    function K(e) {\n      if (void 0 !== e && 0 < e.length) {\n        if (!1 === p.events.trigger(\"video.beforeUpload\", [e])) return !1;\n        var t,\n            n = e[0];\n        if ((null === p.opts.videoUploadURL || p.opts.videoUploadURL == l) && !p.opts.videoUploadToS3) return function (r) {\n          u && u.find(\"iframe\") && u.find(\"iframe\").length && V();\n          var i = new FileReader();\n          i.onload = function () {\n            i.result;\n\n            for (var e = atob(i.result.split(\",\")[1]), t = [], n = 0; n < e.length; n++) {\n              t.push(e.charCodeAt(n));\n            }\n\n            A(window.URL.createObjectURL(new Blob([new Uint8Array(t)], {\n              type: r.type\n            })), !1, null, u);\n          }, C(), i.readAsDataURL(r);\n        }(n), !1;\n        if (n.size > p.opts.videoMaxSize) return H(m), !1;\n        if (p.opts.videoAllowedTypes.indexOf(n.type.replace(/video\\//g, \"\")) < 0) return H(v), !1;\n\n        if (p.drag_support.formdata && (t = p.drag_support.formdata ? new FormData() : null), t) {\n          var r;\n          if (!1 !== p.opts.videoUploadToS3) for (r in t.append(\"key\", p.opts.videoUploadToS3.keyStart + new Date().getTime() + \"-\" + (n.name || \"untitled\")), t.append(\"success_action_status\", \"201\"), t.append(\"X-Requested-With\", \"xhr\"), t.append(\"Content-Type\", n.type), p.opts.videoUploadToS3.params) {\n            p.opts.videoUploadToS3.params.hasOwnProperty(r) && t.append(r, p.opts.videoUploadToS3.params[r]);\n          }\n\n          for (r in p.opts.videoUploadParams) {\n            p.opts.videoUploadParams.hasOwnProperty(r) && t.append(r, p.opts.videoUploadParams[r]);\n          }\n\n          t.append(p.opts.videoUploadParam, n);\n          var i = p.opts.videoUploadURL;\n          p.opts.videoUploadToS3 && (i = p.opts.videoUploadToS3.uploadURL ? p.opts.videoUploadToS3.uploadURL : \"https://\" + p.opts.videoUploadToS3.region + \".amazonaws.com/\" + p.opts.videoUploadToS3.bucket);\n          var a = p.core.getXHR(i, p.opts.videoUploadMethod);\n          a.onload = function () {\n            L.call(a, u);\n          }, a.onerror = x, a.upload.onprogress = w, a.onabort = N, C(), p.events.disableBlur(), p.edit.off(), p.events.enableBlur();\n          var o = p.popups.get(\"video.insert\");\n          o && o.off(\"abortUpload\").on(\"abortUpload\", function () {\n            4 != a.readyState && a.abort();\n          }), a.send(t);\n        }\n      }\n    }\n\n    function H(e, t) {\n      p.edit.on(), u && u.find(\"video\").addClass(\"fr-error\"), y(p.language.translate(\"Something went wrong. Please try again.\")), p.events.trigger(\"video.error\", [{\n        code: e,\n        message: i[e]\n      }, t]);\n    }\n\n    function W() {\n      if (u) {\n        var e = p.popups.get(\"video.size\"),\n            t = u.find(\"iframe, embed, video\");\n        e.find('input[name=\"width\"]').val(t.get(0).style.width || t.attr(\"width\")).trigger(\"change\"), e.find('input[name=\"height\"]').val(t.get(0).style.height || t.attr(\"height\")).trigger(\"change\");\n      }\n    }\n\n    function z(e) {\n      if (e) return p.popups.onRefresh(\"video.size\", W), !0;\n      var t = {\n        buttons: '<div class=\"fr-buttons\">' + p.button.buildList(p.opts.videoSizeButtons) + \"</div>\",\n        size_layer: '<div class=\"fr-video-size-layer fr-layer fr-active\" id=\"fr-video-size-layer-' + p.id + '\"><div class=\"fr-video-group\"><div class=\"fr-input-line\"><input id=\"fr-video-size-layer-width-' + p.id + '\" type=\"text\" name=\"width\" placeholder=\"' + p.language.translate(\"Width\") + '\" tabIndex=\"1\"></div><div class=\"fr-input-line\"><input id=\"fr-video-size-layer-height-' + p.id + '\" type=\"text\" name=\"height\" placeholder=\"' + p.language.translate(\"Height\") + '\" tabIndex=\"1\"></div></div><div class=\"fr-action-buttons\"><button type=\"button\" class=\"fr-command fr-submit\" data-cmd=\"videoSetSize\" tabIndex=\"2\" role=\"button\">' + p.language.translate(\"Update\") + \"</button></div></div>\"\n      },\n          n = p.popups.create(\"video.size\", t);\n      return p.events.$on(p.$wp, \"scroll\", function () {\n        u && p.popups.isVisible(\"video.size\") && (p.events.disableBlur(), _(u));\n      }), n;\n    }\n\n    function Y(e) {\n      if (void 0 === e && (e = u), e) {\n        if (e.hasClass(\"fr-fvl\")) return \"left\";\n        if (e.hasClass(\"fr-fvr\")) return \"right\";\n        if (e.hasClass(\"fr-dvb\") || e.hasClass(\"fr-dvi\")) return \"center\";\n\n        if (\"block\" == e.css(\"display\")) {\n          if (\"left\" == e.css(\"text-algin\")) return \"left\";\n          if (\"right\" == e.css(\"text-align\")) return \"right\";\n        } else {\n          if (\"left\" == e.css(\"float\")) return \"left\";\n          if (\"right\" == e.css(\"float\")) return \"right\";\n        }\n      }\n\n      return \"center\";\n    }\n\n    function G(e) {\n      void 0 === e && (e = u);\n      var t = e.css(\"float\");\n      return e.css(\"float\", \"none\"), \"block\" == e.css(\"display\") ? (e.css(\"float\", \"\"), e.css(\"float\") != t && e.css(\"float\", t), \"block\") : (e.css(\"float\", \"\"), e.css(\"float\") != t && e.css(\"float\", t), \"inline\");\n    }\n\n    function V() {\n      if (u && !1 !== p.events.trigger(\"video.beforeRemove\", [u])) {\n        var e = u;\n        p.popups.hideAll(), B(!0), p.selection.setBefore(e.get(0)) || p.selection.setAfter(e.get(0)), e.remove(), p.selection.restore(), p.html.fillEmptyBlocks();\n      }\n    }\n\n    function X() {\n      S();\n    }\n\n    function q(e, t, n) {\n      !p.opts.htmlUntouched && p.opts.useClasses ? (e.removeClass(\"fr-fvl fr-fvr fr-dvb fr-dvi\"), e.addClass(\"fr-fv\" + n[0] + \" fr-dv\" + t[0])) : \"inline\" == t ? (e.css({\n        display: \"inline-block\"\n      }), \"center\" == n ? e.css({\n        \"float\": \"none\"\n      }) : \"left\" == n ? e.css({\n        \"float\": \"left\"\n      }) : e.css({\n        \"float\": \"right\"\n      })) : (e.css({\n        display: \"block\",\n        clear: \"both\"\n      }), \"left\" == n ? e.css({\n        textAlign: \"left\"\n      }) : \"right\" == n ? e.css({\n        textAlign: \"right\"\n      }) : e.css({\n        textAlign: \"center\"\n      }));\n    }\n\n    function j() {\n      p.$el.find(\"video\").filter(function () {\n        return 0 === Ee(this).parents(\"span.fr-video\").length;\n      }).wrap('<span class=\"fr-video\" contenteditable=\"false\"></span>'), p.$el.find(\"embed, iframe\").filter(function () {\n        if (p.browser.safari && this.getAttribute(\"src\") && this.setAttribute(\"src\", this.src), 0 < Ee(this).parents(\"span.fr-video\").length) return !1;\n\n        for (var e = Ee(this).attr(\"src\"), t = 0; t < Ee.FE.VIDEO_PROVIDERS.length; t++) {\n          var n = Ee.FE.VIDEO_PROVIDERS[t];\n          if (n.test_regex.test(e) && new RegExp(p.opts.videoAllowedProviders.join(\"|\")).test(n.provider)) return !0;\n        }\n\n        return !1;\n      }).map(function () {\n        return 0 === Ee(this).parents(\"object\").length ? this : Ee(this).parents(\"object\").get(0);\n      }).wrap('<span class=\"fr-video\" contenteditable=\"false\"></span>');\n\n      for (var e, t, n = p.$el.find(\"span.fr-video, video\"), r = 0; r < n.length; r++) {\n        var i = Ee(n[r]);\n        !p.opts.htmlUntouched && p.opts.useClasses ? ((t = i).hasClass(\"fr-dvi\") || t.hasClass(\"fr-dvb\") || (t.addClass(\"fr-fv\" + Y(t)[0]), t.addClass(\"fr-dv\" + G(t)[0])), p.opts.videoTextNear || i.removeClass(\"fr-dvi\").addClass(\"fr-dvb\")) : p.opts.htmlUntouched || p.opts.useClasses || (q(e = i, e.hasClass(\"fr-dvb\") ? \"block\" : e.hasClass(\"fr-dvi\") ? \"inline\" : null, e.hasClass(\"fr-fvl\") ? \"left\" : e.hasClass(\"fr-fvr\") ? \"right\" : Y(e)), e.removeClass(\"fr-dvb fr-dvi fr-fvr fr-fvl\"));\n      }\n\n      n.toggleClass(\"fr-draggable\", p.opts.videoMove);\n    }\n\n    function Q() {\n      if (u) {\n        p.selection.clear();\n        var e = p.doc.createRange();\n        e.selectNode(u.get(0)), p.selection.get().addRange(e);\n      }\n    }\n\n    return i[1] = \"Video cannot be loaded from the passed link.\", i[d] = \"No link in upload response.\", i[h] = \"Error during file upload.\", i[g] = \"Parsing response failed.\", i[m] = \"File is too large.\", i[v] = \"Video file type is invalid.\", i[7] = \"Files can be uploaded only to same domain in IE 8 and IE 9.\", p.shared.vid_exit_flag = !1, {\n      _init: function _init() {\n        p.opts.videoResponsive && (p.opts.videoResize = !1), p.events.on(\"drop\", U, !0), p.events.on(\"mousedown window.mousedown\", e), p.events.on(\"window.touchmove\", P), p.events.on(\"mouseup window.mouseup\", B), p.events.on(\"commands.mousedown\", function (e) {\n          0 < e.parents(\".fr-toolbar\").length && B();\n        }), p.events.on(\"video.hideResizer commands.undo commands.redo element.dropped\", function () {\n          B(!0);\n        }), p.helpers.isMobile() && (p.events.$on(p.$el, \"touchstart\", \"span.fr-video\", function () {\n          n = !1;\n        }), p.events.$on(p.$el, \"touchmove\", function () {\n          n = !0;\n        })), p.events.on(\"html.set\", j), j(), p.events.$on(p.$el, \"mousedown\", \"span.fr-video\", function (e) {\n          e.stopPropagation(), (p.browser.msie || p.browser.edge) && (e.target.dragDrop(), $.call(this, e));\n        }), p.events.$on(p.$el, \"click touchend\", \"span.fr-video\", function (e) {\n          if (\"false\" == Ee(this).parents(\"[contenteditable]:not(.fr-element):not(.fr-img-caption):not(body):first\").attr(\"contenteditable\")) return !0;\n          $.call(this, e);\n        }), p.events.on(\"keydown\", function (e) {\n          var t = e.which;\n          return !u || t != Ee.FE.KEYCODE.BACKSPACE && t != Ee.FE.KEYCODE.DELETE ? u && t == Ee.FE.KEYCODE.ESC ? (B(!0), e.preventDefault(), !1) : u && t != Ee.FE.KEYCODE.F10 && !p.keys.isBrowserAction(e) ? (e.preventDefault(), !1) : void 0 : (e.preventDefault(), V(), p.undo.saveStep(), !1);\n        }, !0), p.events.on(\"toolbar.esc\", function () {\n          if (u) return p.events.disableBlur(), p.events.focus(), !1;\n        }, !0), p.events.on(\"toolbar.focusEditor\", function () {\n          if (u) return !1;\n        }, !0), p.events.on(\"keydown\", function () {\n          p.$el.find(\"span.fr-video:empty\").remove();\n        }), p.$wp && (F(), p.events.on(\"contentChanged\", F)), o(!0), z(!0);\n      },\n      showInsertPopup: function showInsertPopup() {\n        var e = p.$tb.find('.fr-command[data-cmd=\"insertVideo\"]'),\n            t = p.popups.get(\"video.insert\");\n        if (t || (t = o()), S(), !t.hasClass(\"fr-active\")) if (p.popups.refresh(\"video.insert\"), p.popups.setContainer(\"video.insert\", p.$tb), e.is(\":visible\")) {\n          var n = e.offset().left + e.outerWidth() / 2,\n              r = e.offset().top + (p.opts.toolbarBottom ? 10 : e.outerHeight() - 10);\n          p.popups.show(\"video.insert\", n, r, e.outerHeight());\n        } else p.position.forSelection(t), p.popups.show(\"video.insert\");\n      },\n      showLayer: function showLayer(e) {\n        var t,\n            n,\n            r = p.popups.get(\"video.insert\");\n\n        if (!u && !p.opts.toolbarInline) {\n          var i = p.$tb.find('.fr-command[data-cmd=\"insertVideo\"]');\n          t = i.offset().left + i.outerWidth() / 2, n = i.offset().top + (p.opts.toolbarBottom ? 10 : i.outerHeight() - 10);\n        }\n\n        p.opts.toolbarInline && (n = r.offset().top - p.helpers.getPX(r.css(\"margin-top\")), r.hasClass(\"fr-above\") && (n += r.outerHeight())), r.find(\".fr-layer\").removeClass(\"fr-active\"), r.find(\".fr-\" + e + \"-layer\").addClass(\"fr-active\"), p.popups.show(\"video.insert\", t, n, 0), p.accessibility.focusPopup(r);\n      },\n      refreshByURLButton: function refreshByURLButton(e) {\n        p.popups.get(\"video.insert\").find(\".fr-video-by-url-layer\").hasClass(\"fr-active\") && e.addClass(\"fr-active\").attr(\"aria-pressed\", !0);\n      },\n      refreshEmbedButton: function refreshEmbedButton(e) {\n        p.popups.get(\"video.insert\").find(\".fr-video-embed-layer\").hasClass(\"fr-active\") && e.addClass(\"fr-active\").attr(\"aria-pressed\", !0);\n      },\n      refreshUploadButton: function refreshUploadButton(e) {\n        p.popups.get(\"video.insert\").find(\".fr-video-upload-layer\").hasClass(\"fr-active\") && e.addClass(\"fr-active\").attr(\"aria-pressed\", !0);\n      },\n      upload: K,\n      insertByURL: function insertByURL(e) {\n        void 0 === e && (e = (p.popups.get(\"video.insert\").find('.fr-video-by-url-layer input[type=\"text\"]').val() || \"\").trim());\n        var t = null;\n        if (/^http/.test(e) || (e = \"https://\" + e), p.helpers.isURL(e)) for (var n = 0; n < Ee.FE.VIDEO_PROVIDERS.length; n++) {\n          var r = Ee.FE.VIDEO_PROVIDERS[n];\n\n          if (r.test_regex.test(e) && new RegExp(p.opts.videoAllowedProviders.join(\"|\")).test(r.provider)) {\n            t = e.replace(r.url_regex, r.url_text), t = r.html.replace(/\\{url\\}/, t);\n            break;\n          }\n        }\n        t ? b(t) : (y(p.language.translate(\"Something went wrong. Please try again.\")), p.events.trigger(\"video.linkError\", [e]));\n      },\n      insertEmbed: function insertEmbed(e) {\n        void 0 === e && (e = p.popups.get(\"video.insert\").find(\".fr-video-embed-layer textarea\").val() || \"\"), 0 !== e.length && Ee.FE.VIDEO_EMBED_REGEX.test(e) ? b(e) : (y(p.language.translate(\"Something went wrong. Please try again.\")), p.events.trigger(\"video.codeError\", [e]));\n      },\n      insert: b,\n      align: function align(e) {\n        u.removeClass(\"fr-fvr fr-fvl\"), !p.opts.htmlUntouched && p.opts.useClasses ? \"left\" == e ? u.addClass(\"fr-fvl\") : \"right\" == e && u.addClass(\"fr-fvr\") : q(u, G(), e), Q(), M(), a(), p.selection.clear();\n      },\n      refreshAlign: function refreshAlign(e) {\n        if (!u) return !1;\n        e.find(\"> *:first\").replaceWith(p.icon.create(\"video-align-\" + Y()));\n      },\n      refreshAlignOnShow: function refreshAlignOnShow(e, t) {\n        u && t.find('.fr-command[data-param1=\"' + Y() + '\"]').addClass(\"fr-active\").attr(\"aria-selected\", !0);\n      },\n      display: function display(e) {\n        u.removeClass(\"fr-dvi fr-dvb\"), !p.opts.htmlUntouched && p.opts.useClasses ? \"inline\" == e ? u.addClass(\"fr-dvi\") : \"block\" == e && u.addClass(\"fr-dvb\") : q(u, e, Y()), Q(), M(), a(), p.selection.clear();\n      },\n      refreshDisplayOnShow: function refreshDisplayOnShow(e, t) {\n        u && t.find('.fr-command[data-param1=\"' + G() + '\"]').addClass(\"fr-active\").attr(\"aria-selected\", !0);\n      },\n      remove: V,\n      hideProgressBar: S,\n      showSizePopup: function showSizePopup() {\n        var e = p.popups.get(\"video.size\");\n        e || (e = z()), S(), p.popups.refresh(\"video.size\"), p.popups.setContainer(\"video.size\", p.$sc);\n        var t = u.find(\"iframe, embed, video\"),\n            n = t.offset().left + t.width() / 2,\n            r = t.offset().top + t.height();\n        p.popups.show(\"video.size\", n, r, t.height());\n      },\n      replace: function replace() {\n        var e = p.popups.get(\"video.insert\");\n        e || (e = o()), p.popups.isVisible(\"video.insert\") || (S(), p.popups.refresh(\"video.insert\"), p.popups.setContainer(\"video.insert\", p.$sc));\n        var t = u.offset().left + u.width() / 2,\n            n = u.offset().top + u.height();\n        p.popups.show(\"video.insert\", t, n, u.outerHeight());\n      },\n      back: function back() {\n        u ? (p.events.disableBlur(), u.trigger(\"click\")) : (p.events.disableBlur(), p.selection.restore(), p.events.enableBlur(), p.popups.hide(\"video.insert\"), p.toolbar.showInline());\n      },\n      setSize: function setSize(e, t) {\n        if (u) {\n          var n = p.popups.get(\"video.size\"),\n              r = u.find(\"iframe, embed, video\");\n          r.css(\"width\", e || n.find('input[name=\"width\"]').val()), r.css(\"height\", t || n.find('input[name=\"height\"]').val()), r.get(0).style.width && r.removeAttr(\"width\"), r.get(0).style.height && r.removeAttr(\"height\"), n.find(\"input:focus\").blur(), setTimeout(function () {\n            u.trigger(\"click\");\n          }, p.helpers.isAndroid() ? 50 : 0);\n        }\n      },\n      get: function get() {\n        return u;\n      },\n      showProgressBar: C\n    };\n  }, Ee.FE.RegisterCommand(\"insertVideo\", {\n    title: \"Insert Video\",\n    undo: !1,\n    focus: !0,\n    refreshAfterCallback: !1,\n    popup: !0,\n    callback: function callback() {\n      this.popups.isVisible(\"video.insert\") ? (this.$el.find(\".fr-marker\").length && (this.events.disableBlur(), this.selection.restore()), this.popups.hide(\"video.insert\")) : this.video.showInsertPopup();\n    },\n    plugin: \"video\"\n  }), Ee.FE.DefineIcon(\"insertVideo\", {\n    NAME: \"video-camera\",\n    FA5NAME: \"camera\"\n  }), Ee.FE.DefineIcon(\"videoByURL\", {\n    NAME: \"link\"\n  }), Ee.FE.RegisterCommand(\"videoByURL\", {\n    title: \"By URL\",\n    undo: !1,\n    focus: !1,\n    toggle: !0,\n    callback: function callback() {\n      this.video.showLayer(\"video-by-url\");\n    },\n    refresh: function refresh(e) {\n      this.video.refreshByURLButton(e);\n    }\n  }), Ee.FE.DefineIcon(\"videoEmbed\", {\n    NAME: \"code\"\n  }), Ee.FE.RegisterCommand(\"videoEmbed\", {\n    title: \"Embedded Code\",\n    undo: !1,\n    focus: !1,\n    toggle: !0,\n    callback: function callback() {\n      this.video.showLayer(\"video-embed\");\n    },\n    refresh: function refresh(e) {\n      this.video.refreshEmbedButton(e);\n    }\n  }), Ee.FE.DefineIcon(\"videoUpload\", {\n    NAME: \"upload\"\n  }), Ee.FE.RegisterCommand(\"videoUpload\", {\n    title: \"Upload Video\",\n    undo: !1,\n    focus: !1,\n    toggle: !0,\n    callback: function callback() {\n      this.video.showLayer(\"video-upload\");\n    },\n    refresh: function refresh(e) {\n      this.video.refreshUploadButton(e);\n    }\n  }), Ee.FE.RegisterCommand(\"videoInsertByURL\", {\n    undo: !0,\n    focus: !0,\n    callback: function callback() {\n      this.video.insertByURL();\n    }\n  }), Ee.FE.RegisterCommand(\"videoInsertEmbed\", {\n    undo: !0,\n    focus: !0,\n    callback: function callback() {\n      this.video.insertEmbed();\n    }\n  }), Ee.FE.DefineIcon(\"videoDisplay\", {\n    NAME: \"star\"\n  }), Ee.FE.RegisterCommand(\"videoDisplay\", {\n    title: \"Display\",\n    type: \"dropdown\",\n    options: {\n      inline: \"Inline\",\n      block: \"Break Text\"\n    },\n    callback: function callback(e, t) {\n      this.video.display(t);\n    },\n    refresh: function refresh(e) {\n      this.opts.videoTextNear || e.addClass(\"fr-hidden\");\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      this.video.refreshDisplayOnShow(e, t);\n    }\n  }), Ee.FE.DefineIcon(\"video-align\", {\n    NAME: \"align-left\"\n  }), Ee.FE.DefineIcon(\"video-align-left\", {\n    NAME: \"align-left\"\n  }), Ee.FE.DefineIcon(\"video-align-right\", {\n    NAME: \"align-right\"\n  }), Ee.FE.DefineIcon(\"video-align-center\", {\n    NAME: \"align-justify\"\n  }), Ee.FE.DefineIcon(\"videoAlign\", {\n    NAME: \"align-center\"\n  }), Ee.FE.RegisterCommand(\"videoAlign\", {\n    type: \"dropdown\",\n    title: \"Align\",\n    options: {\n      left: \"Align Left\",\n      center: \"None\",\n      right: \"Align Right\"\n    },\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = Ee.FE.COMMANDS.videoAlign.options;\n\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e += '<li role=\"presentation\"><a class=\"fr-command fr-title\" tabIndex=\"-1\" role=\"option\" data-cmd=\"videoAlign\" data-param1=\"' + n + '\" title=\"' + this.language.translate(t[n]) + '\">' + this.icon.create(\"video-align-\" + n) + '<span class=\"fr-sr-only\">' + this.language.translate(t[n]) + \"</span></a></li>\");\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      this.video.align(t);\n    },\n    refresh: function refresh(e) {\n      this.video.refreshAlign(e);\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      this.video.refreshAlignOnShow(e, t);\n    }\n  }), Ee.FE.DefineIcon(\"videoReplace\", {\n    NAME: \"exchange\",\n    FA5NAME: \"exchange-alt\"\n  }), Ee.FE.RegisterCommand(\"videoReplace\", {\n    title: \"Replace\",\n    undo: !1,\n    focus: !1,\n    popup: !0,\n    refreshAfterCallback: !1,\n    callback: function callback() {\n      this.video.replace();\n    }\n  }), Ee.FE.DefineIcon(\"videoRemove\", {\n    NAME: \"trash\"\n  }), Ee.FE.RegisterCommand(\"videoRemove\", {\n    title: \"Remove\",\n    callback: function callback() {\n      this.video.remove();\n    }\n  }), Ee.FE.DefineIcon(\"videoSize\", {\n    NAME: \"arrows-alt\"\n  }), Ee.FE.RegisterCommand(\"videoSize\", {\n    undo: !1,\n    focus: !1,\n    popup: !0,\n    title: \"Change Size\",\n    callback: function callback() {\n      this.video.showSizePopup();\n    }\n  }), Ee.FE.DefineIcon(\"videoBack\", {\n    NAME: \"arrow-left\"\n  }), Ee.FE.RegisterCommand(\"videoBack\", {\n    title: \"Back\",\n    undo: !1,\n    focus: !1,\n    back: !0,\n    callback: function callback() {\n      this.video.back();\n    },\n    refresh: function refresh(e) {\n      this.video.get() || this.opts.toolbarInline ? (e.removeClass(\"fr-hidden\"), e.next(\".fr-separator\").removeClass(\"fr-hidden\")) : (e.addClass(\"fr-hidden\"), e.next(\".fr-separator\").addClass(\"fr-hidden\"));\n    }\n  }), Ee.FE.RegisterCommand(\"videoDismissError\", {\n    title: \"OK\",\n    undo: !1,\n    callback: function callback() {\n      this.video.hideProgressBar(!0);\n    }\n  }), Ee.FE.RegisterCommand(\"videoSetSize\", {\n    undo: !0,\n    focus: !1,\n    title: \"Update\",\n    refreshAfterCallback: !1,\n    callback: function callback() {\n      this.video.setSize();\n    }\n  }), Ee.extend(Ee.FE.DEFAULTS, {\n    wordDeniedTags: [],\n    wordDeniedAttrs: [],\n    wordAllowedStyleProps: [\"font-family\", \"font-size\", \"background\", \"color\", \"width\", \"text-align\", \"vertical-align\", \"background-color\", \"padding\", \"margin\", \"height\", \"margin-top\", \"margin-left\", \"margin-right\", \"margin-bottom\", \"text-decoration\", \"font-weight\", \"font-style\", \"text-indent\", \"border\", \"border-.*\"],\n    wordPasteModal: !0,\n    wordPasteKeepFormatting: !0\n  }), Ee.FE.PLUGINS.wordPaste = function (T) {\n    var a,\n        r,\n        o = \"word_paste\";\n\n    function t(e) {\n      var t = T.opts.wordAllowedStyleProps;\n      e || (T.opts.wordAllowedStyleProps = []), 0 === r.indexOf(\"<colgroup>\") && (r = \"<table>\" + r + \"</table>\"), r = function (e, t) {\n        0 <= e.indexOf(\"<html\") && (e = e.replace(/[.\\s\\S\\w\\W<>]*(<html[^>]*>[.\\s\\S\\w\\W<>]*<\\/html>)[.\\s\\S\\w\\W<>]*/i, \"$1\"));\n        !function (e) {\n          for (var t = e.split(\"v:shape\"), n = 1; n < t.length; n++) {\n            var r = t[n],\n                i = r.split(' id=\"')[1];\n\n            if (i && 1 < i.length) {\n              i = i.split('\"')[0];\n              var a = r.split(' o:spid=\"')[1];\n              a && 1 < a.length && (a = a.split('\"')[0], h[i] = a);\n            }\n          }\n        }(e);\n\n        var n = new DOMParser().parseFromString(e, \"text/html\"),\n            r = n.head,\n            i = n.body,\n            o = function (e) {\n          var t = {},\n              n = e.getElementsByTagName(\"style\");\n\n          if (n.length) {\n            var r = n[0],\n                i = r.innerHTML.match(/[\\S ]+\\s+{[\\s\\S]+?}/gi);\n            if (i) for (var a = 0; a < i.length; a++) {\n              var o = i[a],\n                  s = o.replace(/([\\S ]+\\s+){[\\s\\S]+?}/gi, \"$1\"),\n                  l = o.replace(/[\\S ]+\\s+{([\\s\\S]+?)}/gi, \"$1\");\n              s = s.replace(/^[\\s]|[\\s]$/gm, \"\"), l = l.replace(/^[\\s]|[\\s]$/gm, \"\"), s = s.replace(/\\n|\\r|\\n\\r/g, \"\"), l = l.replace(/\\n|\\r|\\n\\r/g, \"\");\n\n              for (var d = s.split(\", \"), c = 0; c < d.length; c++) {\n                t[d[c]] = l;\n              }\n            }\n          }\n\n          return t;\n        }(r);\n\n        c(i, function (e) {\n          if (e.nodeType == Node.TEXT_NODE && /\\n|\\u00a0|\\r/.test(e.data)) {\n            if (!/\\S| /.test(e.data)) return e.data == Ee.FE.UNICODE_NBSP ? (e.data = \"\\u200B\", !0) : 1 == e.data.length && 10 == e.data.charCodeAt(0) ? (e.data = \" \", !0) : (A(e), !1);\n            e.data = e.data.replace(/\\n|\\r/gi, \" \");\n          }\n\n          return !0;\n        }), c(i, function (e) {\n          return e.nodeType != Node.ELEMENT_NODE || \"V:IMAGEDATA\" != e.tagName && \"IMG\" != e.tagName || function (e, t) {\n            if (!t) return;\n            var n;\n\n            if (\"IMG\" == e.tagName) {\n              var r = e.getAttribute(\"src\");\n              if (!r || -1 == r.indexOf(\"file://\")) return;\n              if (0 === r.indexOf(\"file://\") && T.helpers.isURL(e.getAttribute(\"alt\"))) return e.setAttribute(\"src\", e.getAttribute(\"alt\"));\n              n = h[e.getAttribute(\"v:shapes\")];\n            } else n = e.parentNode.getAttribute(\"o:spid\");\n\n            if (e.removeAttribute(\"height\"), !n) return;\n            i = t, u = {}, f(i, \"i\", \"\\\\shppict\"), f(i, \"s\", \"\\\\shp{\");\n            var i;\n            var a = u[n.substring(7)];\n\n            if (a) {\n              var o = function (e) {\n                for (var t = e.match(/[0-9a-f]{2}/gi), n = [], r = 0; r < t.length; r++) {\n                  n.push(String.fromCharCode(parseInt(t[r], 16)));\n                }\n\n                var i = n.join(\"\");\n                return btoa(i);\n              }(a.image_hex),\n                  s = \"data:\" + a.image_type + \";base64,\" + o;\n\n              \"IMG\" === e.tagName ? (e.src = s, e.setAttribute(\"data-fr-image-pasted\", !0)) : Ee(e.parentNode).before('<img data-fr-image-pasted=\"true\" src=\"' + s + '\" style=\"' + e.parentNode.getAttribute(\"style\") + '\">').remove();\n            }\n          }(e, t), !0;\n        });\n\n        for (var a = i.querySelectorAll(\"ul > ul, ul > ol, ol > ul, ol > ol\"), s = a.length - 1; 0 <= s; s--) {\n          a[s].previousElementSibling && \"LI\" === a[s].previousElementSibling.tagName && a[s].previousElementSibling.appendChild(a[s]);\n        }\n\n        c(i, function (t) {\n          if (t.nodeType == Node.TEXT_NODE) return t.data = t.data.replace(/<br>(\\n|\\r)/gi, \"<br>\"), !1;\n\n          if (t.nodeType == Node.ELEMENT_NODE) {\n            if (C(t)) {\n              var n = t.parentNode,\n                  r = t.previousSibling,\n                  i = function e(t, n) {\n                var r = /[0-9a-zA-Z]./gi;\n                var i = !1;\n                var a = !1;\n                var o = !1;\n                var s;\n                var l = t.querySelector('span[style=\"mso-list:Ignore\"]');\n                l && (i = i || r.test(l.textContent));\n                var d = i ? \"ol\" : \"ul\";\n                var c = E(t);\n                var f = \"<\" + d + \"><li>\" + b(t, n);\n                var p = t.nextElementSibling;\n                null != p && (s = p.previousElementSibling);\n                var u = t.parentNode;\n                A(t);\n                t = null;\n\n                for (; p;) {\n                  if (!C(p)) {\n                    if (p.outerHTML && 0 < p.outerHTML.indexOf(\"mso-bookmark\") && 0 == (p.textContent || \"\").length) {\n                      p = p.nextElementSibling;\n                      continue;\n                    }\n\n                    break;\n                  }\n\n                  var h = E(p);\n                  if (c < h) f += e(p, n).outerHTML;else {\n                    if (h < c) break;\n                    p.firstElementChild && p.firstElementChild.firstElementChild && p.firstElementChild.firstElementChild.firstChild && (r.lastIndex = 0, a = r.test(p.firstElementChild.firstElementChild.firstChild.data || \"\")), s && s.firstElementChild && s.firstElementChild.firstElementChild && s.firstElementChild.firstElementChild.firstChild && (r.lastIndex = 0, o = r.test(s.firstElementChild.firstElementChild.firstChild.data || \"\")), o === undefined || o === a ? f += \"</li><li>\" + b(p, n) : f += e(p, n).outerHTML;\n                  }\n\n                  if (c = h, p.previousElementSibling || p.nextElementSibling || p.parentNode) {\n                    var g = p;\n                    p = p.nextElementSibling, A(g), g = null;\n                  } else p = s ? s.nextElementSibling : u.firstElementChild;\n                }\n\n                f += \"</li></\" + d + \">\";\n                var m = document.createElement(\"div\");\n                m.innerHTML = f;\n                var v = m.firstElementChild;\n                return v;\n              }(t, o),\n                  a = null;\n\n              return (a = r ? r.nextSibling : n.firstChild) ? n.insertBefore(i, a) : n.appendChild(i), !1;\n            }\n\n            return p(t, o);\n          }\n\n          return t.nodeType != Node.COMMENT_NODE || (A(t), !1);\n        }), c(i, function (e) {\n          if (e.nodeType == Node.ELEMENT_NODE) {\n            var t = e.tagName;\n\n            if (!e.innerHTML && -1 == [\"BR\", \"IMG\"].indexOf(t)) {\n              for (var n = e.parentNode; n && (A(e), !(e = n).innerHTML);) {\n                n = e.parentNode;\n              }\n\n              return !1;\n            }\n\n            !function (e) {\n              var t = e.getAttribute(\"style\");\n              if (!t) return;\n              (t = R(t)) && \";\" != t.slice(-1) && (t += \";\");\n              var n = t.match(/(^|\\S+?):.+?;{1,1}/gi);\n              if (!n) return;\n\n              for (var r = {}, i = 0; i < n.length; i++) {\n                var a = n[i],\n                    o = a.split(\":\");\n                2 == o.length && (\"text-align\" == o[0] && \"SPAN\" == e.tagName || (r[o[0]] = o[1]));\n              }\n\n              var s = \"\";\n\n              for (var l in r) {\n                if (r.hasOwnProperty(l)) {\n                  if (\"font-size\" == l && \"pt;\" == r[l].slice(-3)) {\n                    var d = null;\n\n                    try {\n                      d = parseFloat(r[l].slice(0, -3), 10);\n                    } catch (c) {}\n\n                    d && (d = Math.round(1.33 * d), r[l] = d + \"px;\");\n                  }\n\n                  s += l + \":\" + r[l];\n                }\n              }\n\n              s && e.setAttribute(\"style\", s);\n            }(e);\n          }\n\n          return !0;\n        }), c(i, function (e) {\n          if (e && \"A\" === e.nodeName && \"\" === e.href) {\n            for (var t = document.createDocumentFragment(); e.firstChild;) {\n              t.appendChild(e.firstChild);\n            }\n\n            e.parentNode.replaceChild(t, e);\n          }\n\n          return !0;\n        });\n        var l = i.outerHTML,\n            d = T.opts.htmlAllowedStyleProps;\n        return T.opts.htmlAllowedStyleProps = T.opts.wordAllowedStyleProps, l = T.clean.html(l, T.opts.wordDeniedTags, T.opts.wordDeniedAttrs, !1), T.opts.htmlAllowedStyleProps = d, l;\n      }(r = r.replace(/<span[\\n\\r ]*style='mso-spacerun:yes'>([\\r\\n\\u00a0 ]*)<\\/span>/g, function (e, t) {\n        for (var n = \"\", r = 0; r++ < t.length;) {\n          n += \"&nbsp;\";\n        }\n\n        return n;\n      }), T.paste.getRtfClipboard());\n      var n = T.doc.createElement(\"DIV\");\n      n.innerHTML = r, T.html.cleanBlankSpaces(n), r = n.innerHTML, r = (r = T.paste.cleanEmptyTagsAndDivs(r)).replace(/\\u200b/g, \"\"), T.modals.hide(o), T.paste.clean(r, !0, !0), T.opts.wordAllowedStyleProps = t;\n    }\n\n    function A(e) {\n      e.parentNode && e.parentNode.removeChild(e);\n    }\n\n    function c(e, t) {\n      if (t(e)) for (var n = e.firstChild; n;) {\n        var r = n,\n            i = n.previousSibling;\n        n = n.nextSibling, c(r, t), r.previousSibling || r.nextSibling || r.parentNode || !n || i == n.previousSibling || !n.parentNode ? r.previousSibling || r.nextSibling || r.parentNode || !n || n.previousSibling || n.nextSibling || n.parentNode || (i ? n = i.nextSibling ? i.nextSibling.nextSibling : null : e.firstChild && (n = e.firstChild.nextSibling)) : n = i ? i.nextSibling : e.firstChild;\n      }\n    }\n\n    function C(e) {\n      if (!e.getAttribute(\"style\") || !/mso-list:[\\s]*l/gi.test(e.getAttribute(\"style\").replace(/\\n/gi, \"\"))) return !1;\n\n      try {\n        if (!e.querySelector('[style=\"mso-list:Ignore\"]')) return !1;\n      } catch (t) {\n        return !1;\n      }\n\n      return !0;\n    }\n\n    function E(e) {\n      return e.getAttribute(\"style\").replace(/\\n/gi, \"\").replace(/.*level([0-9]+?).*/gi, \"$1\");\n    }\n\n    function b(e, t) {\n      var n = e.cloneNode(!0);\n\n      if (-1 != [\"H1\", \"H2\", \"H3\", \"H4\", \"H5\", \"H6\"].indexOf(e.tagName)) {\n        var r = document.createElement(e.tagName.toLowerCase());\n        r.setAttribute(\"style\", e.getAttribute(\"style\")), r.innerHTML = n.innerHTML, n.innerHTML = r.outerHTML;\n      }\n\n      c(n, function (e) {\n        return e.nodeType == Node.ELEMENT_NODE && (\"mso-list:Ignore\" == e.getAttribute(\"style\") && e.parentNode.removeChild(e), p(e, t)), !0;\n      });\n      var i = n.innerHTML;\n      return i = i.replace(/<!--[\\s\\S]*?-->/gi, \"\");\n    }\n\n    function m(e, t) {\n      for (var n = document.createElement(t), r = 0; r < e.attributes.length; r++) {\n        var i = e.attributes[r].name;\n        n.setAttribute(i, e.getAttribute(i));\n      }\n\n      return n.innerHTML = e.innerHTML, e.parentNode.replaceChild(n, e), n;\n    }\n\n    function S(e) {\n      var t = e.getAttribute(\"align\");\n      t && (e.style[\"text-align\"] = t, e.removeAttribute(\"align\"));\n    }\n\n    function R(e) {\n      return e.replace(/\\n|\\r|\\n\\r|&quot;/g, \"\");\n    }\n\n    function y(e, t, n) {\n      if (t) {\n        var r = e.getAttribute(\"style\");\n        r && \";\" != r.slice(-1) && (r += \";\"), t && \";\" != t.slice(-1) && (t += \";\"), t = t.replace(/\\n/gi, \"\");\n        var i = null;\n        i = n ? (r || \"\") + t : t + (r || \"\"), e.setAttribute(\"style\", i);\n      }\n    }\n\n    var u = null;\n\n    function f(e, t, n) {\n      for (var r = e.split(n), i = 1; i < r.length; i++) {\n        var a = r[i];\n\n        if (1 < (a = a.split(\"shplid\")).length) {\n          a = a[1];\n\n          for (var o = \"\", s = 0; s < a.length && \"\\\\\" != a[s] && \"{\" != a[s] && \" \" != a[s] && \"\\r\" != a[s] && \"\\n\" != a[s];) {\n            o += a[s], s++;\n          }\n\n          var l = a.split(\"bliptag\");\n          if (l && l.length < 2) continue;\n          var d = null;\n          if (-1 != l[0].indexOf(\"pngblip\") ? d = \"image/png\" : -1 != l[0].indexOf(\"jpegblip\") && (d = \"image/jpeg\"), !d) continue;\n          var c,\n              f = l[1].split(\"}\");\n          if (f && f.length < 2) continue;\n          if (2 < f.length && -1 != f[0].indexOf(\"blipuid\")) c = f[1].split(\" \");else {\n            if ((c = f[0].split(\" \")) && c.length < 2) continue;\n            c.shift();\n          }\n          var p = c.join(\"\");\n          u[t + o] = {\n            image_hex: p,\n            image_type: d\n          };\n        }\n      }\n    }\n\n    function p(e, t) {\n      var n = e.tagName,\n          r = n.toLowerCase();\n      e.firstElementChild && (\"I\" == e.firstElementChild.tagName ? m(e.firstElementChild, \"em\") : \"B\" == e.firstElementChild.tagName && m(e.firstElementChild, \"strong\"));\n      if (-1 != [\"SCRIPT\", \"APPLET\", \"EMBED\", \"NOFRAMES\", \"NOSCRIPT\"].indexOf(n)) return A(e), !1;\n      var i = -1,\n          a = [\"META\", \"LINK\", \"XML\", \"ST1:\", \"O:\", \"W:\", \"FONT\"];\n\n      for (i = 0; i < a.length; i++) {\n        if (-1 != n.indexOf(a[i])) return e.innerHTML && (e.outerHTML = e.innerHTML), A(e), !1;\n      }\n\n      if (\"TD\" != n) {\n        var o = e.getAttribute(\"class\");\n\n        if (t && o) {\n          var s = (o = R(o)).split(\" \");\n\n          for (i = 0; i < s.length; i++) {\n            var l = [],\n                d = \".\" + s[i];\n            l.push(d), d = r + d, l.push(d);\n\n            for (var c = 0; c < l.length; c++) {\n              t[l[c]] && y(e, t[l[c]]);\n            }\n          }\n\n          e.removeAttribute(\"class\");\n        }\n\n        t && t[r] && y(e, t[r]);\n      }\n\n      if (-1 != [\"P\", \"H1\", \"H2\", \"H3\", \"H4\", \"H5\", \"H6\", \"PRE\"].indexOf(n)) {\n        var f = e.getAttribute(\"class\");\n\n        if (f && (t && t[n.toLowerCase() + \".\" + f] && y(e, t[n.toLowerCase() + \".\" + f]), -1 != f.toLowerCase().indexOf(\"mso\"))) {\n          var p = R(f);\n          (p = p.replace(/[0-9a-z-_]*mso[0-9a-z-_]*/gi, \"\")) ? e.setAttribute(\"class\", p) : e.removeAttribute(\"class\");\n        }\n\n        var u = e.getAttribute(\"style\");\n\n        if (u) {\n          var h = u.match(/text-align:.+?[; \"]{1,1}/gi);\n          h && h[h.length - 1].replace(/(text-align:.+?[; \"]{1,1})/gi, \"$1\");\n        }\n\n        S(e);\n      }\n\n      if (\"TR\" == n && function (e, t) {\n        T.node.clearAttributes(e);\n\n        for (var n = e.firstElementChild, r = 0, i = !1, a = null; n;) {\n          n.firstElementChild && -1 != n.firstElementChild.tagName.indexOf(\"W:\") && (n.innerHTML = n.firstElementChild.innerHTML), (a = n.getAttribute(\"width\")) || i || (i = !0), r += parseInt(a, 10), (!n.firstChild || n.firstChild && n.firstChild.data == Ee.FE.UNICODE_NBSP) && (n.firstChild && A(n.firstChild), n.innerHTML = \"<br>\");\n\n          for (var o = n.firstElementChild, s = 1 == n.children.length; o;) {\n            \"P\" != o.tagName || C(o) || s && S(o), o = o.nextElementSibling;\n          }\n\n          if (t) {\n            var l = n.getAttribute(\"class\");\n\n            if (l) {\n              var d = (l = R(l)).match(/xl[0-9]+/gi);\n\n              if (d) {\n                var c = \".\" + d[0];\n                t[c] && y(n, t[c]);\n              }\n            }\n\n            t.td && y(n, t.td);\n          }\n\n          var f = n.getAttribute(\"style\");\n          f && (f = R(f)) && \";\" != f.slice(-1) && (f += \";\");\n          var p = n.getAttribute(\"valign\");\n\n          if (!p && f) {\n            var u = f.match(/vertical-align:.+?[; \"]{1,1}/gi);\n            u && (p = u[u.length - 1].replace(/vertical-align:(.+?)[; \"]{1,1}/gi, \"$1\"));\n          }\n\n          var h = null;\n\n          if (f) {\n            var g = f.match(/text-align:.+?[; \"]{1,1}/gi);\n            g && (h = g[g.length - 1].replace(/text-align:(.+?)[; \"]{1,1}/gi, \"$1\")), \"general\" == h && (h = null);\n          }\n\n          var m = null;\n\n          if (f) {\n            var v = f.match(/background:.+?[; \"]{1,1}/gi);\n            v && (m = v[v.length - 1].replace(/background:(.+?)[; \"]{1,1}/gi, \"$1\"));\n          }\n\n          var E = n.getAttribute(\"colspan\"),\n              b = n.getAttribute(\"rowspan\");\n          E && n.setAttribute(\"colspan\", E), b && n.setAttribute(\"rowspan\", b), p && (n.style[\"vertical-align\"] = p), h && (n.style[\"text-align\"] = h), m && (n.style[\"background-color\"] = m), a && n.setAttribute(\"width\", a), n = n.nextElementSibling;\n        }\n\n        for (n = e.firstElementChild; n;) {\n          a = n.getAttribute(\"width\"), i ? n.removeAttribute(\"width\") : n.setAttribute(\"width\", 100 * parseInt(a, 10) / r + \"%\"), n = n.nextElementSibling;\n        }\n      }(e, t), \"A\" != n || e.attributes.getNamedItem(\"href\") || e.attributes.getNamedItem(\"name\") || !e.innerHTML || (e.outerHTML = e.innerHTML), \"TD\" != n && \"TH\" != n || e.innerHTML || (e.innerHTML = \"<br>\"), \"TABLE\" == n && (e.style.width = \"100%\"), e.getAttribute(\"lang\") && e.removeAttribute(\"lang\"), e.getAttribute(\"style\") && -1 != e.getAttribute(\"style\").toLowerCase().indexOf(\"mso\")) {\n        var g = R(e.getAttribute(\"style\"));\n        (g = g.replace(/[0-9a-z-_]*mso[0-9a-z-_]*:.+?(;{1,1}|$)/gi, \"\")) ? e.setAttribute(\"style\", g) : e.removeAttribute(\"style\");\n      }\n\n      return !0;\n    }\n\n    var h = {};\n    return {\n      _init: function _init() {\n        T.events.on(\"paste.wordPaste\", function (e) {\n          return r = e, T.opts.wordPasteModal ? function () {\n            if (!a) {\n              var e = '<h4><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 74.95 73.23\" style=\"height: 25px; vertical-align: text-bottom; margin-right: 5px; display: inline-block\"><defs><style>.a{fill:#2a5699;}.b{fill:#fff;}</style></defs><path class=\"a\" d=\"M615.15,827.22h5.09V834c9.11.05,18.21-.09,27.32.05a2.93,2.93,0,0,1,3.29,3.25c.14,16.77,0,33.56.09,50.33-.09,1.72.17,3.63-.83,5.15-1.24.89-2.85.78-4.3.84-8.52,0-17,0-25.56,0v6.81h-5.32c-13-2.37-26-4.54-38.94-6.81q0-29.8,0-59.59c13.05-2.28,26.11-4.5,39.17-6.83Z\" transform=\"translate(-575.97 -827.22)\"/><path class=\"b\" d=\"M620.24,836.59h28.1v54.49h-28.1v-6.81h22.14v-3.41H620.24v-4.26h22.14V873.2H620.24v-4.26h22.14v-3.41H620.24v-4.26h22.14v-3.41H620.24v-4.26h22.14v-3.41H620.24V846h22.14v-3.41H620.24Zm-26.67,15c1.62-.09,3.24-.16,4.85-.25,1.13,5.75,2.29,11.49,3.52,17.21,1-5.91,2-11.8,3.06-17.7,1.7-.06,3.41-.15,5.1-.26-1.92,8.25-3.61,16.57-5.71,24.77-1.42.74-3.55,0-5.24.09-1.13-5.64-2.45-11.24-3.47-16.9-1,5.5-2.29,10.95-3.43,16.42q-2.45-.13-4.92-.3c-1.41-7.49-3.07-14.93-4.39-22.44l4.38-.18c.88,5.42,1.87,10.82,2.64,16.25,1.2-5.57,2.43-11.14,3.62-16.71Z\" transform=\"translate(-575.97 -827.22)\"/></svg> ' + T.language.translate(\"Word Paste Detected\") + \"</h4>\",\n                  t = (i = '<div class=\"fr-word-paste-modal\" style=\"padding: 20px 20px 10px 20px;\">', i += '<p style=\"text-align: left;\">' + T.language.translate(\"The pasted content is coming from a Microsoft Word document. Do you want to keep the format or clean it up?\") + \"</p>\", i += '<div style=\"text-align: right; margin-top: 50px;\"><button class=\"fr-remove-word fr-command\">' + T.language.translate(\"Clean\") + '</button> <button class=\"fr-keep-word fr-command\">' + T.language.translate(\"Keep\") + \"</button></div>\", i += \"</div>\"),\n                  n = T.modals.create(o, e, t),\n                  r = n.$body;\n              a = n.$modal, n.$modal.addClass(\"fr-middle\"), T.events.bindClick(r, \"button.fr-remove-word\", function () {\n                var e = a.data(\"instance\") || T;\n                e.wordPaste.clean();\n              }), T.events.bindClick(r, \"button.fr-keep-word\", function () {\n                var e = a.data(\"instance\") || T;\n                e.wordPaste.clean(!0);\n              }), T.events.$on(Ee(T.o_win), \"resize\", function () {\n                T.modals.resize(o);\n              });\n            }\n\n            var i;\n            T.modals.show(o), T.modals.resize(o);\n          }() : t(T.opts.wordPasteKeepFormatting), !1;\n        });\n      },\n      clean: t\n    };\n  };\n});","map":null,"metadata":{},"sourceType":"script"}