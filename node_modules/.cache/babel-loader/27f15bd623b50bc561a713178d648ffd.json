{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t(require(\"react\")) : \"function\" == typeof define && define.amd ? define([\"react\"], t) : \"object\" == typeof exports ? exports.index = t(require(\"react\")) : e.index = t(e.React);\n}(window, function (e) {\n  return function (e) {\n    var t = {};\n\n    function n(i) {\n      if (t[i]) return t[i].exports;\n      var o = t[i] = {\n        i: i,\n        l: !1,\n        exports: {}\n      };\n      return e[i].call(o.exports, o, o.exports, n), o.l = !0, o.exports;\n    }\n\n    return n.m = e, n.c = t, n.d = function (e, t, i) {\n      n.o(e, t) || Object.defineProperty(e, t, {\n        configurable: !1,\n        enumerable: !0,\n        get: i\n      });\n    }, n.r = function (e) {\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, n.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return n.d(t, \"a\", t), t;\n    }, n.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, n.p = \"\", n(n.s = 13);\n  }({\n    0: function _(t, n) {\n      t.exports = e;\n    },\n    1: function _(e, t, n) {\n      \"use strict\";\n\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n\n      var i,\n          o = function () {\n        function e(e, t) {\n          for (var n = 0; n < t.length; n++) {\n            var i = t[n];\n            i.enumerable = i.enumerable || !1, i.configurable = !0, \"value\" in i && (i.writable = !0), Object.defineProperty(e, i.key, i);\n          }\n        }\n\n        return function (t, n, i) {\n          return n && e(t.prototype, n), i && e(t, i), t;\n        };\n      }(),\n          r = n(0),\n          a = (i = r) && i.__esModule ? i : {\n        default: i\n      };\n\n      var l = function (e) {\n        function t(e) {\n          !function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, t);\n\n          var n = function (e, t) {\n            if (!e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n            return !t || \"object\" != typeof t && \"function\" != typeof t ? e : t;\n          }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));\n\n          return n.tag = null, n.defaultTag = \"div\", n.listeningEvents = [], n.$element = null, n.editor = null, n.config = {\n            immediateReactModelUpdate: !1,\n            reactIgnoreAttrs: null\n          }, n.editorInitialized = !1, n.SPECIAL_TAGS = [\"img\", \"button\", \"input\", \"a\"], n.INNER_HTML_ATTR = \"innerHTML\", n.hasSpecialTag = !1, n.oldModel = null, n;\n        }\n\n        return function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function, not \" + typeof t);\n          e.prototype = Object.create(t && t.prototype, {\n            constructor: {\n              value: e,\n              enumerable: !1,\n              writable: !0,\n              configurable: !0\n            }\n          }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);\n        }(t, a.default.Component), o(t, [{\n          key: \"componentWillMount\",\n          value: function value() {\n            this.tag = this.props.tag || this.defaultTag;\n          }\n        }, {\n          key: \"componentDidMount\",\n          value: function value() {\n            var e = this.refs.el.tagName.toLowerCase();\n            -1 != this.SPECIAL_TAGS.indexOf(e) && (this.tag = e, this.hasSpecialTag = !0), this.props.onManualControllerReady ? this.generateManualController() : this.createEditor();\n          }\n        }, {\n          key: \"componentWillUnmount\",\n          value: function value() {\n            this.destroyEditor();\n          }\n        }, {\n          key: \"componentDidUpdate\",\n          value: function value() {\n            JSON.stringify(this.oldModel) != JSON.stringify(this.props.model) && this.setContent();\n          }\n        }, {\n          key: \"createEditor\",\n          value: function value() {\n            this.editorInitialized || (this.config = this.props.config || this.config, this.$element = $(this.refs.el), this.setContent(!0), this.registerEvents(), this.$editor = this.$element.froalaEditor(this.config).data(\"froala.editor\").$el, this.initListeners());\n          }\n        }, {\n          key: \"setContent\",\n          value: function value(e) {\n            (this.props.model || \"\" == this.props.model) && (this.oldModel = this.props.model, this.hasSpecialTag ? this.setSpecialTagContent() : this.setNormalTagContent(e));\n          }\n        }, {\n          key: \"setNormalTagContent\",\n          value: function value(e) {\n            var t = this,\n                n = this;\n\n            function i() {\n              n.$element.froalaEditor(\"html.set\", n.props.model || \"\", !0), n.editorInitialized && (n.$element.froalaEditor(\"undo.reset\"), n.$element.froalaEditor(\"undo.saveStep\"));\n            }\n\n            e ? this.config.initOnClick ? (this.registerEvent(this.$element, \"froalaEditor.initializationDelayed\", function () {\n              i();\n            }), this.registerEvent(this.$element, \"froalaEditor.initialized\", function () {\n              t.editorInitialized = !0;\n            })) : this.registerEvent(this.$element, \"froalaEditor.initialized\", function () {\n              t.editorInitialized = !0, i();\n            }) : i();\n          }\n        }, {\n          key: \"setSpecialTagContent\",\n          value: function value() {\n            var e = this.props.model;\n\n            if (e) {\n              for (var t in e) {\n                e.hasOwnProperty(t) && t != this.INNER_HTML_ATTR && this.$element.attr(t, e[t]);\n              }\n\n              e.hasOwnProperty(this.INNER_HTML_ATTR) && (this.$element[0].innerHTML = e[this.INNER_HTML_ATTR]);\n            }\n          }\n        }, {\n          key: \"destroyEditor\",\n          value: function value() {\n            this.$element && (this.listeningEvents && this.$element.off(this.listeningEvents.join(\" \")), this.$editor.off(\"keyup\"), this.$element.froalaEditor(\"destroy\"), this.listeningEvents.length = 0, this.$element = null, this.editorInitialized = !1);\n          }\n        }, {\n          key: \"getEditor\",\n          value: function value() {\n            return this.$element ? this.$element.froalaEditor.bind(this.$element) : null;\n          }\n        }, {\n          key: \"generateManualController\",\n          value: function value() {\n            var e = this,\n                t = {\n              initialize: function initialize() {\n                return e.createEditor.call(e);\n              },\n              destroy: function destroy() {\n                return e.destroyEditor.call(e);\n              },\n              getEditor: function getEditor() {\n                return e.getEditor.call(e);\n              }\n            };\n            this.props.onManualControllerReady(t);\n          }\n        }, {\n          key: \"updateModel\",\n          value: function value() {\n            if (this.props.onModelChange) {\n              var e = \"\";\n\n              if (this.hasSpecialTag) {\n                for (var t = this.$element[0].attributes, n = {}, i = 0; i < t.length; i++) {\n                  var o = t[i].name;\n                  this.config.reactIgnoreAttrs && -1 != this.config.reactIgnoreAttrs.indexOf(o) || (n[o] = t[i].value);\n                }\n\n                this.$element[0].innerHTML && (n[this.INNER_HTML_ATTR] = this.$element[0].innerHTML), e = n;\n              } else {\n                var r = this.$element.froalaEditor(\"html.get\");\n                \"string\" == typeof r && (e = r);\n              }\n\n              this.oldModel = e, this.props.onModelChange(e);\n            }\n          }\n        }, {\n          key: \"initListeners\",\n          value: function value() {\n            var e = this;\n            this.registerEvent(this.$element, \"froalaEditor.contentChanged\", function () {\n              e.updateModel();\n            }), this.config.immediateReactModelUpdate && this.registerEvent(this.$editor, \"keyup\", function () {\n              e.updateModel();\n            });\n          }\n        }, {\n          key: \"registerEvent\",\n          value: function value(e, t, n) {\n            e && t && n && (this.listeningEvents.push(t), e.on(t, n));\n          }\n        }, {\n          key: \"registerEvents\",\n          value: function value() {\n            var e = this.config.events;\n            if (e) for (var t in e) {\n              e.hasOwnProperty(t) && this.registerEvent(this.$element, t, e[t]);\n            }\n          }\n        }]), t;\n      }();\n\n      t.default = l;\n    },\n    12: function _(e, t, n) {\n      \"use strict\";\n\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n\n      var i = function () {\n        function e(e, t) {\n          for (var n = 0; n < t.length; n++) {\n            var i = t[n];\n            i.enumerable = i.enumerable || !1, i.configurable = !0, \"value\" in i && (i.writable = !0), Object.defineProperty(e, i.key, i);\n          }\n        }\n\n        return function (t, n, i) {\n          return n && e(t.prototype, n), i && e(t, i), t;\n        };\n      }(),\n          o = a(n(0)),\n          r = a(n(1));\n\n      function a(e) {\n        return e && e.__esModule ? e : {\n          default: e\n        };\n      }\n\n      var l = function (e) {\n        function t() {\n          return function (e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, t), function (e, t) {\n            if (!e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n            return !t || \"object\" != typeof t && \"function\" != typeof t ? e : t;\n          }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));\n        }\n\n        return function (e, t) {\n          if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function, not \" + typeof t);\n          e.prototype = Object.create(t && t.prototype, {\n            constructor: {\n              value: e,\n              enumerable: !1,\n              writable: !0,\n              configurable: !0\n            }\n          }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);\n        }(t, r.default), i(t, [{\n          key: \"render\",\n          value: function value() {\n            return o.default.createElement(this.tag, {\n              ref: \"el\"\n            }, this.props.children);\n          }\n        }]), t;\n      }();\n\n      t.default = l;\n    },\n    13: function _(e, t, n) {\n      e.exports = n(12);\n    }\n  });\n});","map":null,"metadata":{},"sourceType":"script"}